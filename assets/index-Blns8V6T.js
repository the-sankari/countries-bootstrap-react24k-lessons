function kE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function nh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var NE={exports:{}},rh={},bE={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),fx=Symbol.for("react.portal"),px=Symbol.for("react.fragment"),mx=Symbol.for("react.strict_mode"),gx=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),vx=Symbol.for("react.context"),_x=Symbol.for("react.forward_ref"),wx=Symbol.for("react.suspense"),Ex=Symbol.for("react.memo"),Tx=Symbol.for("react.lazy"),e_=Symbol.iterator;function Sx(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var OE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DE=Object.assign,LE={};function la(t,e,n){this.props=t,this.context=e,this.refs=LE,this.updater=n||OE}la.prototype.isReactComponent={};la.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};la.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ME(){}ME.prototype=la.prototype;function Xm(t,e,n){this.props=t,this.context=e,this.refs=LE,this.updater=n||OE}var Jm=Xm.prototype=new ME;Jm.constructor=Xm;DE(Jm,la.prototype);Jm.isPureReactComponent=!0;var t_=Array.isArray,jE=Object.prototype.hasOwnProperty,Zm={current:null},VE={key:!0,ref:!0,__self:!0,__source:!0};function FE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jE.call(e,r)&&!VE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ou,type:t,key:s,ref:o,props:i,_owner:Zm.current}}function Ix(t,e){return{$$typeof:ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ou}function Rx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n_=/\/+/g;function df(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rx(""+t.key):e.toString(36)}function Cc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ou:case fx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+df(o,0):r,t_(i)?(n="",t!=null&&(n=t.replace(n_,"$&/")+"/"),Cc(i,e,n,"",function(c){return c})):i!=null&&(eg(i)&&(i=Ix(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+df(s,a);o+=Cc(s,e,n,l,i)}else if(l=Sx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+df(s,a++),o+=Cc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yu(t,e,n){if(t==null)return t;var r=[],i=0;return Cc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Cx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Ac={transition:null},Ax={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:Zm};function UE(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Yu,forEach:function(t,e,n){Yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yu(t,function(){e++}),e},toArray:function(t){return Yu(t,function(e){return e})||[]},only:function(t){if(!eg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=la;Se.Fragment=px;Se.Profiler=gx;Se.PureComponent=Xm;Se.StrictMode=mx;Se.Suspense=wx;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ax;Se.act=UE;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jE.call(e,l)&&!VE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ou,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:vx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yx,_context:t},t.Consumer=t};Se.createElement=FE;Se.createFactory=function(t){var e=FE.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:_x,render:t}};Se.isValidElement=eg;Se.lazy=function(t){return{$$typeof:Tx,_payload:{_status:-1,_result:t},_init:Cx}};Se.memo=function(t,e){return{$$typeof:Ex,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};Se.unstable_act=UE;Se.useCallback=function(t,e){return Gt.current.useCallback(t,e)};Se.useContext=function(t){return Gt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Gt.current.useEffect(t,e)};Se.useId=function(){return Gt.current.useId()};Se.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Gt.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};Se.useRef=function(t){return Gt.current.useRef(t)};Se.useState=function(t){return Gt.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return Gt.current.useTransition()};Se.version="18.3.1";bE.exports=Se;var y=bE.exports;const Tt=nh(y),Cl=kE({__proto__:null,default:Tt},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=y,Px=Symbol.for("react.element"),kx=Symbol.for("react.fragment"),Nx=Object.prototype.hasOwnProperty,bx=xx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ox={key:!0,ref:!0,__self:!0,__source:!0};function BE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Nx.call(e,r)&&!Ox.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Px,type:t,key:s,ref:o,props:i,_owner:bx.current}}rh.Fragment=kx;rh.jsx=BE;rh.jsxs=BE;NE.exports=rh;var v=NE.exports,$E={exports:{}},Sn={},zE={exports:{}},HE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,ne){var se=W.length;W.push(ne);e:for(;0<se;){var ye=se-1>>>1,ve=W[ye];if(0<i(ve,ne))W[ye]=ne,W[se]=ve,se=ye;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],se=W.pop();if(se!==ne){W[0]=se;e:for(var ye=0,ve=W.length,me=ve>>>1;ye<me;){var Pe=2*(ye+1)-1,He=W[Pe],gt=Pe+1,Dt=W[gt];if(0>i(He,se))gt<ve&&0>i(Dt,He)?(W[ye]=Dt,W[gt]=se,ye=gt):(W[ye]=He,W[Pe]=se,ye=Pe);else if(gt<ve&&0>i(Dt,se))W[ye]=Dt,W[gt]=se,ye=gt;else break e}}return ne}function i(W,ne){var se=W.sortIndex-ne.sortIndex;return se!==0?se:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,g=!1,w=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=W)r(c),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=n(c)}}function b(W){if(R=!1,S(W),!w)if(n(l)!==null)w=!0,Ze(V);else{var ne=n(c);ne!==null&&we(b,ne.startTime-W)}}function V(W,ne){w=!1,R&&(R=!1,I(E),E=-1),g=!0;var se=p;try{for(S(ne),h=n(l);h!==null&&(!(h.expirationTime>ne)||W&&!D());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,p=h.priorityLevel;var ve=ye(h.expirationTime<=ne);ne=t.unstable_now(),typeof ve=="function"?h.callback=ve:h===n(l)&&r(l),S(ne)}else r(l);h=n(l)}if(h!==null)var me=!0;else{var Pe=n(c);Pe!==null&&we(b,Pe.startTime-ne),me=!1}return me}finally{h=null,p=se,g=!1}}var k=!1,A=null,E=-1,x=5,P=-1;function D(){return!(t.unstable_now()-P<x)}function L(){if(A!==null){var W=t.unstable_now();P=W;var ne=!0;try{ne=A(!0,W)}finally{ne?N():(k=!1,A=null)}}else k=!1}var N;if(typeof _=="function")N=function(){_(L)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,dt=Te.port2;Te.port1.onmessage=L,N=function(){dt.postMessage(null)}}else N=function(){T(L,0)};function Ze(W){A=W,k||(k=!0,N())}function we(W,ne){E=T(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,Ze(V))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var se=p;p=ne;try{return W()}finally{p=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var se=p;p=W;try{return ne()}finally{p=se}},t.unstable_scheduleCallback=function(W,ne,se){var ye=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ye+se:ye):se=ye,W){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=se+ve,W={id:d++,callback:ne,priorityLevel:W,startTime:se,expirationTime:ve,sortIndex:-1},se>ye?(W.sortIndex=se,e(c,W),n(l)===null&&W===n(c)&&(R?(I(E),E=-1):R=!0,we(b,se-ye))):(W.sortIndex=ve,e(l,W),w||g||(w=!0,Ze(V))),W},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(W){var ne=p;return function(){var se=p;p=ne;try{return W.apply(this,arguments)}finally{p=se}}}})(HE);zE.exports=HE;var Dx=zE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=y,wn=Dx;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WE=new Set,Al={};function Js(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(Al[t]=e,t=0;t<e.length;t++)WE.add(e[t])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dp=Object.prototype.hasOwnProperty,Mx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r_={},i_={};function jx(t){return dp.call(i_,t)?!0:dp.call(r_,t)?!1:Mx.test(t)?i_[t]=!0:(r_[t]=!0,!1)}function Vx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fx(t,e,n,r){if(e===null||typeof e>"u"||Vx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var tg=/[\-:]([a-z])/g;function ng(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tg,ng);bt[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tg,ng);bt[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tg,ng);bt[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function rg(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fx(e,n,i,r)&&(n=null),r||i===null?jx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var si=Lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),wo=Symbol.for("react.portal"),Eo=Symbol.for("react.fragment"),ig=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),KE=Symbol.for("react.provider"),qE=Symbol.for("react.context"),sg=Symbol.for("react.forward_ref"),fp=Symbol.for("react.suspense"),pp=Symbol.for("react.suspense_list"),og=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),GE=Symbol.for("react.offscreen"),s_=Symbol.iterator;function Ba(t){return t===null||typeof t!="object"?null:(t=s_&&t[s_]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,hf;function el(t){if(hf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hf=e&&e[1]||""}return`
`+hf+t}var ff=!1;function pf(t,e){if(!t||ff)return"";ff=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ff=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function Ux(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=pf(t.type,!1),t;case 11:return t=pf(t.type.render,!1),t;case 1:return t=pf(t.type,!0),t;default:return""}}function mp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Eo:return"Fragment";case wo:return"Portal";case hp:return"Profiler";case ig:return"StrictMode";case fp:return"Suspense";case pp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qE:return(t.displayName||"Context")+".Consumer";case KE:return(t._context.displayName||"Context")+".Provider";case sg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case og:return e=t.displayName||null,e!==null?e:mp(t.type)||"Memo";case wi:e=t._payload,t=t._init;try{return mp(t(e))}catch{}}return null}function Bx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mp(e);case 8:return e===ig?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $x(t){var e=QE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=$x(t))}function YE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gp(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XE(t,e){e=e.checked,e!=null&&rg(t,"checked",e,!1)}function yp(t,e){XE(t,e);var n=Gi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vp(t,e.type,n):e.hasOwnProperty("defaultValue")&&vp(t,e.type,Gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vp(t,e,n){(e!=="number"||Xc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function Do(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _p(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(tl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gi(n)}}function JE(t,e){var n=Gi(e.value),r=Gi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zu,eT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zu=Zu||document.createElement("div"),Zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zx=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(t){zx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hl[e]=hl[t]})});function tT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hl.hasOwnProperty(t)&&hl[t]?(""+e).trim():e+"px"}function nT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Hx=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ep(t,e){if(e){if(Hx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Tp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sp=null;function ag(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ip=null,Lo=null,Mo=null;function c_(t){if(t=uu(t)){if(typeof Ip!="function")throw Error(K(280));var e=t.stateNode;e&&(e=lh(e),Ip(t.stateNode,t.type,e))}}function rT(t){Lo?Mo?Mo.push(t):Mo=[t]:Lo=t}function iT(){if(Lo){var t=Lo,e=Mo;if(Mo=Lo=null,c_(t),e)for(t=0;t<e.length;t++)c_(e[t])}}function sT(t,e){return t(e)}function oT(){}var mf=!1;function aT(t,e,n){if(mf)return t(e,n);mf=!0;try{return sT(t,e,n)}finally{mf=!1,(Lo!==null||Mo!==null)&&(oT(),iT())}}function Pl(t,e){var n=t.stateNode;if(n===null)return null;var r=lh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Rp=!1;if(Gr)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Rp=!1}function Wx(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var fl=!1,Jc=null,Zc=!1,Cp=null,Kx={onError:function(t){fl=!0,Jc=t}};function qx(t,e,n,r,i,s,o,a,l){fl=!1,Jc=null,Wx.apply(Kx,arguments)}function Gx(t,e,n,r,i,s,o,a,l){if(qx.apply(this,arguments),fl){if(fl){var c=Jc;fl=!1,Jc=null}else throw Error(K(198));Zc||(Zc=!0,Cp=c)}}function Zs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d_(t){if(Zs(t)!==t)throw Error(K(188))}function Qx(t){var e=t.alternate;if(!e){if(e=Zs(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return d_(i),t;if(s===r)return d_(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function uT(t){return t=Qx(t),t!==null?cT(t):null}function cT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cT(t);if(e!==null)return e;t=t.sibling}return null}var dT=wn.unstable_scheduleCallback,h_=wn.unstable_cancelCallback,Yx=wn.unstable_shouldYield,Xx=wn.unstable_requestPaint,ct=wn.unstable_now,Jx=wn.unstable_getCurrentPriorityLevel,lg=wn.unstable_ImmediatePriority,hT=wn.unstable_UserBlockingPriority,ed=wn.unstable_NormalPriority,Zx=wn.unstable_LowPriority,fT=wn.unstable_IdlePriority,ih=null,vr=null;function eP(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(ih,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:rP,tP=Math.log,nP=Math.LN2;function rP(t){return t>>>=0,t===0?32:31-(tP(t)/nP|0)|0}var ec=64,tc=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function td(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=nl(a):(s&=o,s!==0&&(r=nl(s)))}else o=n&~i,o!==0?r=nl(o):s!==0&&(r=nl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),i=1<<n,r|=t[n],e&=~i;return r}function iP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=iP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ap(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pT(){var t=ec;return ec<<=1,!(ec&4194240)&&(ec=64),t}function gf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function oP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ug(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function mT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gT,cg,yT,vT,_T,xp=!1,nc=[],Di=null,Li=null,Mi=null,kl=new Map,Nl=new Map,Si=[],aP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f_(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(e.pointerId)}}function za(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=uu(e),e!==null&&cg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lP(t,e,n,r,i){switch(e){case"focusin":return Di=za(Di,t,e,n,r,i),!0;case"dragenter":return Li=za(Li,t,e,n,r,i),!0;case"mouseover":return Mi=za(Mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return kl.set(s,za(kl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nl.set(s,za(Nl.get(s)||null,t,e,n,r,i)),!0}return!1}function wT(t){var e=Cs(t.target);if(e!==null){var n=Zs(e);if(n!==null){if(e=n.tag,e===13){if(e=lT(n),e!==null){t.blockedOn=e,_T(t.priority,function(){yT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sp=r,n.target.dispatchEvent(r),Sp=null}else return e=uu(n),e!==null&&cg(e),t.blockedOn=n,!1;e.shift()}return!0}function p_(t,e,n){xc(t)&&n.delete(e)}function uP(){xp=!1,Di!==null&&xc(Di)&&(Di=null),Li!==null&&xc(Li)&&(Li=null),Mi!==null&&xc(Mi)&&(Mi=null),kl.forEach(p_),Nl.forEach(p_)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,xp||(xp=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,uP)))}function bl(t){function e(i){return Ha(i,t)}if(0<nc.length){Ha(nc[0],t);for(var n=1;n<nc.length;n++){var r=nc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Di!==null&&Ha(Di,t),Li!==null&&Ha(Li,t),Mi!==null&&Ha(Mi,t),kl.forEach(e),Nl.forEach(e),n=0;n<Si.length;n++)r=Si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)wT(n),n.blockedOn===null&&Si.shift()}var jo=si.ReactCurrentBatchConfig,nd=!0;function cP(t,e,n,r){var i=Le,s=jo.transition;jo.transition=null;try{Le=1,dg(t,e,n,r)}finally{Le=i,jo.transition=s}}function dP(t,e,n,r){var i=Le,s=jo.transition;jo.transition=null;try{Le=4,dg(t,e,n,r)}finally{Le=i,jo.transition=s}}function dg(t,e,n,r){if(nd){var i=Pp(t,e,n,r);if(i===null)Cf(t,e,r,rd,n),f_(t,r);else if(lP(i,t,e,n,r))r.stopPropagation();else if(f_(t,r),e&4&&-1<aP.indexOf(t)){for(;i!==null;){var s=uu(i);if(s!==null&&gT(s),s=Pp(t,e,n,r),s===null&&Cf(t,e,r,rd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cf(t,e,r,null,n)}}var rd=null;function Pp(t,e,n,r){if(rd=null,t=ag(r),t=Cs(t),t!==null)if(e=Zs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rd=t,null}function ET(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jx()){case lg:return 1;case hT:return 4;case ed:case Zx:return 16;case fT:return 536870912;default:return 16}default:return 16}}var ki=null,hg=null,Pc=null;function TT(){if(Pc)return Pc;var t,e=hg,n=e.length,r,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pc=i.slice(t,1<r?1-r:void 0)}function kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rc(){return!0}function m_(){return!1}function In(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rc:m_,this.isPropagationStopped=m_,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),e}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fg=In(ua),lu=rt({},ua,{view:0,detail:0}),hP=In(lu),yf,vf,Wa,sh=rt({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(yf=t.screenX-Wa.screenX,vf=t.screenY-Wa.screenY):vf=yf=0,Wa=t),yf)},movementY:function(t){return"movementY"in t?t.movementY:vf}}),g_=In(sh),fP=rt({},sh,{dataTransfer:0}),pP=In(fP),mP=rt({},lu,{relatedTarget:0}),_f=In(mP),gP=rt({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),yP=In(gP),vP=rt({},ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_P=In(vP),wP=rt({},ua,{data:0}),y_=In(wP),EP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SP[t])?!!e[t]:!1}function pg(){return IP}var RP=rt({},lu,{key:function(t){if(t.key){var e=EP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pg,charCode:function(t){return t.type==="keypress"?kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CP=In(RP),AP=rt({},sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v_=In(AP),xP=rt({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pg}),PP=In(xP),kP=rt({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),NP=In(kP),bP=rt({},sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OP=In(bP),DP=[9,13,27,32],mg=Gr&&"CompositionEvent"in window,pl=null;Gr&&"documentMode"in document&&(pl=document.documentMode);var LP=Gr&&"TextEvent"in window&&!pl,ST=Gr&&(!mg||pl&&8<pl&&11>=pl),__=" ",w_=!1;function IT(t,e){switch(t){case"keyup":return DP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var To=!1;function MP(t,e){switch(t){case"compositionend":return RT(e);case"keypress":return e.which!==32?null:(w_=!0,__);case"textInput":return t=e.data,t===__&&w_?null:t;default:return null}}function jP(t,e){if(To)return t==="compositionend"||!mg&&IT(t,e)?(t=TT(),Pc=hg=ki=null,To=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ST&&e.locale!=="ko"?null:e.data;default:return null}}var VP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VP[t.type]:e==="textarea"}function CT(t,e,n,r){rT(r),e=id(e,"onChange"),0<e.length&&(n=new fg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ml=null,Ol=null;function FP(t){jT(t,0)}function oh(t){var e=Ro(t);if(YE(e))return t}function UP(t,e){if(t==="change")return e}var AT=!1;if(Gr){var wf;if(Gr){var Ef="oninput"in document;if(!Ef){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),Ef=typeof T_.oninput=="function"}wf=Ef}else wf=!1;AT=wf&&(!document.documentMode||9<document.documentMode)}function S_(){ml&&(ml.detachEvent("onpropertychange",xT),Ol=ml=null)}function xT(t){if(t.propertyName==="value"&&oh(Ol)){var e=[];CT(e,Ol,t,ag(t)),aT(FP,e)}}function BP(t,e,n){t==="focusin"?(S_(),ml=e,Ol=n,ml.attachEvent("onpropertychange",xT)):t==="focusout"&&S_()}function $P(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oh(Ol)}function zP(t,e){if(t==="click")return oh(e)}function HP(t,e){if(t==="input"||t==="change")return oh(e)}function WP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:WP;function Dl(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dp.call(e,i)||!rr(t[i],e[i]))return!1}return!0}function I_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function R_(t,e){var n=I_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=I_(n)}}function PT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kT(){for(var t=window,e=Xc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xc(t.document)}return e}function gg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KP(t){var e=kT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PT(n.ownerDocument.documentElement,n)){if(r!==null&&gg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=R_(n,s);var o=R_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qP=Gr&&"documentMode"in document&&11>=document.documentMode,So=null,kp=null,gl=null,Np=!1;function C_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Np||So==null||So!==Xc(r)||(r=So,"selectionStart"in r&&gg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gl&&Dl(gl,r)||(gl=r,r=id(kp,"onSelect"),0<r.length&&(e=new fg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=So)))}function ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Io={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},Tf={},NT={};Gr&&(NT=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function ah(t){if(Tf[t])return Tf[t];if(!Io[t])return t;var e=Io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NT)return Tf[t]=e[n];return t}var bT=ah("animationend"),OT=ah("animationiteration"),DT=ah("animationstart"),LT=ah("transitionend"),MT=new Map,A_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(t,e){MT.set(t,e),Js(e,[t])}for(var Sf=0;Sf<A_.length;Sf++){var If=A_[Sf],GP=If.toLowerCase(),QP=If[0].toUpperCase()+If.slice(1);ns(GP,"on"+QP)}ns(bT,"onAnimationEnd");ns(OT,"onAnimationIteration");ns(DT,"onAnimationStart");ns("dblclick","onDoubleClick");ns("focusin","onFocus");ns("focusout","onBlur");ns(LT,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Js("onBeforeInput",["compositionend","keypress","textInput","paste"]);Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YP=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function x_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Gx(r,e,void 0,t),t.currentTarget=null}function jT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;x_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;x_(i,a,c),s=l}}}if(Zc)throw t=Cp,Zc=!1,Cp=null,t}function Ke(t,e){var n=e[Mp];n===void 0&&(n=e[Mp]=new Set);var r=t+"__bubble";n.has(r)||(VT(e,t,2,!1),n.add(r))}function Rf(t,e,n){var r=0;e&&(r|=4),VT(n,t,r,e)}var sc="_reactListening"+Math.random().toString(36).slice(2);function Ll(t){if(!t[sc]){t[sc]=!0,WE.forEach(function(n){n!=="selectionchange"&&(YP.has(n)||Rf(n,!1,t),Rf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sc]||(e[sc]=!0,Rf("selectionchange",!1,e))}}function VT(t,e,n,r){switch(ET(e)){case 1:var i=cP;break;case 4:i=dP;break;default:i=dg}n=i.bind(null,e,n,t),i=void 0,!Rp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}aT(function(){var c=s,d=ag(n),h=[];e:{var p=MT.get(t);if(p!==void 0){var g=fg,w=t;switch(t){case"keypress":if(kc(n)===0)break e;case"keydown":case"keyup":g=CP;break;case"focusin":w="focus",g=_f;break;case"focusout":w="blur",g=_f;break;case"beforeblur":case"afterblur":g=_f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=pP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=PP;break;case bT:case OT:case DT:g=yP;break;case LT:g=NP;break;case"scroll":g=hP;break;case"wheel":g=OP;break;case"copy":case"cut":case"paste":g=_P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=v_}var R=(e&4)!==0,T=!R&&t==="scroll",I=R?p!==null?p+"Capture":null:p;R=[];for(var _=c,S;_!==null;){S=_;var b=S.stateNode;if(S.tag===5&&b!==null&&(S=b,I!==null&&(b=Pl(_,I),b!=null&&R.push(Ml(_,b,S)))),T)break;_=_.return}0<R.length&&(p=new g(p,w,null,n,d),h.push({event:p,listeners:R}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Sp&&(w=n.relatedTarget||n.fromElement)&&(Cs(w)||w[Qr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Cs(w):null,w!==null&&(T=Zs(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(R=g_,b="onMouseLeave",I="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(R=v_,b="onPointerLeave",I="onPointerEnter",_="pointer"),T=g==null?p:Ro(g),S=w==null?p:Ro(w),p=new R(b,_+"leave",g,n,d),p.target=T,p.relatedTarget=S,b=null,Cs(d)===c&&(R=new R(I,_+"enter",w,n,d),R.target=S,R.relatedTarget=T,b=R),T=b,g&&w)t:{for(R=g,I=w,_=0,S=R;S;S=ho(S))_++;for(S=0,b=I;b;b=ho(b))S++;for(;0<_-S;)R=ho(R),_--;for(;0<S-_;)I=ho(I),S--;for(;_--;){if(R===I||I!==null&&R===I.alternate)break t;R=ho(R),I=ho(I)}R=null}else R=null;g!==null&&P_(h,p,g,R,!1),w!==null&&T!==null&&P_(h,T,w,R,!0)}}e:{if(p=c?Ro(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var V=UP;else if(E_(p))if(AT)V=HP;else{V=$P;var k=BP}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=zP);if(V&&(V=V(t,c))){CT(h,V,n,d);break e}k&&k(t,p,c),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&vp(p,"number",p.value)}switch(k=c?Ro(c):window,t){case"focusin":(E_(k)||k.contentEditable==="true")&&(So=k,kp=c,gl=null);break;case"focusout":gl=kp=So=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,C_(h,n,d);break;case"selectionchange":if(qP)break;case"keydown":case"keyup":C_(h,n,d)}var A;if(mg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else To?IT(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(ST&&n.locale!=="ko"&&(To||E!=="onCompositionStart"?E==="onCompositionEnd"&&To&&(A=TT()):(ki=d,hg="value"in ki?ki.value:ki.textContent,To=!0)),k=id(c,E),0<k.length&&(E=new y_(E,t,null,n,d),h.push({event:E,listeners:k}),A?E.data=A:(A=RT(n),A!==null&&(E.data=A)))),(A=LP?MP(t,n):jP(t,n))&&(c=id(c,"onBeforeInput"),0<c.length&&(d=new y_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=A))}jT(h,e)})}function Ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function id(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pl(t,n),s!=null&&r.unshift(Ml(t,s,i)),s=Pl(t,e),s!=null&&r.push(Ml(t,s,i))),t=t.return}return r}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Pl(n,s),l!=null&&o.unshift(Ml(n,l,a))):i||(l=Pl(n,s),l!=null&&o.push(Ml(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XP=/\r\n?/g,JP=/\u0000|\uFFFD/g;function k_(t){return(typeof t=="string"?t:""+t).replace(XP,`
`).replace(JP,"")}function oc(t,e,n){if(e=k_(e),k_(t)!==e&&n)throw Error(K(425))}function sd(){}var bp=null,Op=null;function Dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,ZP=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,ek=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(t){return N_.resolve(null).then(t).catch(tk)}:Lp;function tk(t){setTimeout(function(){throw t})}function Af(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bl(e)}function ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),gr="__reactFiber$"+ca,jl="__reactProps$"+ca,Qr="__reactContainer$"+ca,Mp="__reactEvents$"+ca,nk="__reactListeners$"+ca,rk="__reactHandles$"+ca;function Cs(t){var e=t[gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b_(t);t!==null;){if(n=t[gr])return n;t=b_(t)}return e}t=n,n=t.parentNode}return null}function uu(t){return t=t[gr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function lh(t){return t[jl]||null}var jp=[],Co=-1;function rs(t){return{current:t}}function Ge(t){0>Co||(t.current=jp[Co],jp[Co]=null,Co--)}function ze(t,e){Co++,jp[Co]=t.current,t.current=e}var Qi={},zt=rs(Qi),rn=rs(!1),js=Qi;function Wo(t,e){var n=t.type.contextTypes;if(!n)return Qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function od(){Ge(rn),Ge(zt)}function O_(t,e,n){if(zt.current!==Qi)throw Error(K(168));ze(zt,e),ze(rn,n)}function FT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,Bx(t)||"Unknown",i));return rt({},n,r)}function ad(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qi,js=zt.current,ze(zt,t),ze(rn,rn.current),!0}function D_(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=FT(t,e,js),r.__reactInternalMemoizedMergedChildContext=t,Ge(rn),Ge(zt),ze(zt,t)):Ge(rn),ze(rn,n)}var Mr=null,uh=!1,xf=!1;function UT(t){Mr===null?Mr=[t]:Mr.push(t)}function ik(t){uh=!0,UT(t)}function is(){if(!xf&&Mr!==null){xf=!0;var t=0,e=Le;try{var n=Mr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,uh=!1}catch(i){throw Mr!==null&&(Mr=Mr.slice(t+1)),dT(lg,is),i}finally{Le=e,xf=!1}}return null}var Ao=[],xo=0,ld=null,ud=0,bn=[],On=0,Vs=null,Vr=1,Fr="";function _s(t,e){Ao[xo++]=ud,Ao[xo++]=ld,ld=t,ud=e}function BT(t,e,n){bn[On++]=Vr,bn[On++]=Fr,bn[On++]=Vs,Vs=t;var r=Vr;t=Fr;var i=32-tr(r)-1;r&=~(1<<i),n+=1;var s=32-tr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vr=1<<32-tr(e)+i|n<<i|r,Fr=s+t}else Vr=1<<s|n<<i|r,Fr=t}function yg(t){t.return!==null&&(_s(t,1),BT(t,1,0))}function vg(t){for(;t===ld;)ld=Ao[--xo],Ao[xo]=null,ud=Ao[--xo],Ao[xo]=null;for(;t===Vs;)Vs=bn[--On],bn[On]=null,Fr=bn[--On],bn[On]=null,Vr=bn[--On],bn[On]=null}var vn=null,gn=null,Je=!1,Xn=null;function $T(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,gn=ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:Vr,overflow:Fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,gn=null,!0):!1;default:return!1}}function Vp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fp(t){if(Je){var e=gn;if(e){var n=e;if(!L_(t,e)){if(Vp(t))throw Error(K(418));e=ji(n.nextSibling);var r=vn;e&&L_(t,e)?$T(r,n):(t.flags=t.flags&-4097|2,Je=!1,vn=t)}}else{if(Vp(t))throw Error(K(418));t.flags=t.flags&-4097|2,Je=!1,vn=t}}}function M_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function ac(t){if(t!==vn)return!1;if(!Je)return M_(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dp(t.type,t.memoizedProps)),e&&(e=gn)){if(Vp(t))throw zT(),Error(K(418));for(;e;)$T(t,e),e=ji(e.nextSibling)}if(M_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=ji(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=vn?ji(t.stateNode.nextSibling):null;return!0}function zT(){for(var t=gn;t;)t=ji(t.nextSibling)}function Ko(){gn=vn=null,Je=!1}function _g(t){Xn===null?Xn=[t]:Xn.push(t)}var sk=si.ReactCurrentBatchConfig;function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function lc(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j_(t){var e=t._init;return e(t._payload)}function HT(t){function e(I,_){if(t){var S=I.deletions;S===null?(I.deletions=[_],I.flags|=16):S.push(_)}}function n(I,_){if(!t)return null;for(;_!==null;)e(I,_),_=_.sibling;return null}function r(I,_){for(I=new Map;_!==null;)_.key!==null?I.set(_.key,_):I.set(_.index,_),_=_.sibling;return I}function i(I,_){return I=Bi(I,_),I.index=0,I.sibling=null,I}function s(I,_,S){return I.index=S,t?(S=I.alternate,S!==null?(S=S.index,S<_?(I.flags|=2,_):S):(I.flags|=2,_)):(I.flags|=1048576,_)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,_,S,b){return _===null||_.tag!==6?(_=Lf(S,I.mode,b),_.return=I,_):(_=i(_,S),_.return=I,_)}function l(I,_,S,b){var V=S.type;return V===Eo?d(I,_,S.props.children,b,S.key):_!==null&&(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wi&&j_(V)===_.type)?(b=i(_,S.props),b.ref=Ka(I,_,S),b.return=I,b):(b=jc(S.type,S.key,S.props,null,I.mode,b),b.ref=Ka(I,_,S),b.return=I,b)}function c(I,_,S,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Mf(S,I.mode,b),_.return=I,_):(_=i(_,S.children||[]),_.return=I,_)}function d(I,_,S,b,V){return _===null||_.tag!==7?(_=Ds(S,I.mode,b,V),_.return=I,_):(_=i(_,S),_.return=I,_)}function h(I,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Lf(""+_,I.mode,S),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xu:return S=jc(_.type,_.key,_.props,null,I.mode,S),S.ref=Ka(I,null,_),S.return=I,S;case wo:return _=Mf(_,I.mode,S),_.return=I,_;case wi:var b=_._init;return h(I,b(_._payload),S)}if(tl(_)||Ba(_))return _=Ds(_,I.mode,S,null),_.return=I,_;lc(I,_)}return null}function p(I,_,S,b){var V=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return V!==null?null:a(I,_,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xu:return S.key===V?l(I,_,S,b):null;case wo:return S.key===V?c(I,_,S,b):null;case wi:return V=S._init,p(I,_,V(S._payload),b)}if(tl(S)||Ba(S))return V!==null?null:d(I,_,S,b,null);lc(I,S)}return null}function g(I,_,S,b,V){if(typeof b=="string"&&b!==""||typeof b=="number")return I=I.get(S)||null,a(_,I,""+b,V);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xu:return I=I.get(b.key===null?S:b.key)||null,l(_,I,b,V);case wo:return I=I.get(b.key===null?S:b.key)||null,c(_,I,b,V);case wi:var k=b._init;return g(I,_,S,k(b._payload),V)}if(tl(b)||Ba(b))return I=I.get(S)||null,d(_,I,b,V,null);lc(_,b)}return null}function w(I,_,S,b){for(var V=null,k=null,A=_,E=_=0,x=null;A!==null&&E<S.length;E++){A.index>E?(x=A,A=null):x=A.sibling;var P=p(I,A,S[E],b);if(P===null){A===null&&(A=x);break}t&&A&&P.alternate===null&&e(I,A),_=s(P,_,E),k===null?V=P:k.sibling=P,k=P,A=x}if(E===S.length)return n(I,A),Je&&_s(I,E),V;if(A===null){for(;E<S.length;E++)A=h(I,S[E],b),A!==null&&(_=s(A,_,E),k===null?V=A:k.sibling=A,k=A);return Je&&_s(I,E),V}for(A=r(I,A);E<S.length;E++)x=g(A,I,E,S[E],b),x!==null&&(t&&x.alternate!==null&&A.delete(x.key===null?E:x.key),_=s(x,_,E),k===null?V=x:k.sibling=x,k=x);return t&&A.forEach(function(D){return e(I,D)}),Je&&_s(I,E),V}function R(I,_,S,b){var V=Ba(S);if(typeof V!="function")throw Error(K(150));if(S=V.call(S),S==null)throw Error(K(151));for(var k=V=null,A=_,E=_=0,x=null,P=S.next();A!==null&&!P.done;E++,P=S.next()){A.index>E?(x=A,A=null):x=A.sibling;var D=p(I,A,P.value,b);if(D===null){A===null&&(A=x);break}t&&A&&D.alternate===null&&e(I,A),_=s(D,_,E),k===null?V=D:k.sibling=D,k=D,A=x}if(P.done)return n(I,A),Je&&_s(I,E),V;if(A===null){for(;!P.done;E++,P=S.next())P=h(I,P.value,b),P!==null&&(_=s(P,_,E),k===null?V=P:k.sibling=P,k=P);return Je&&_s(I,E),V}for(A=r(I,A);!P.done;E++,P=S.next())P=g(A,I,E,P.value,b),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?E:P.key),_=s(P,_,E),k===null?V=P:k.sibling=P,k=P);return t&&A.forEach(function(L){return e(I,L)}),Je&&_s(I,E),V}function T(I,_,S,b){if(typeof S=="object"&&S!==null&&S.type===Eo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Xu:e:{for(var V=S.key,k=_;k!==null;){if(k.key===V){if(V=S.type,V===Eo){if(k.tag===7){n(I,k.sibling),_=i(k,S.props.children),_.return=I,I=_;break e}}else if(k.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wi&&j_(V)===k.type){n(I,k.sibling),_=i(k,S.props),_.ref=Ka(I,k,S),_.return=I,I=_;break e}n(I,k);break}else e(I,k);k=k.sibling}S.type===Eo?(_=Ds(S.props.children,I.mode,b,S.key),_.return=I,I=_):(b=jc(S.type,S.key,S.props,null,I.mode,b),b.ref=Ka(I,_,S),b.return=I,I=b)}return o(I);case wo:e:{for(k=S.key;_!==null;){if(_.key===k)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(I,_.sibling),_=i(_,S.children||[]),_.return=I,I=_;break e}else{n(I,_);break}else e(I,_);_=_.sibling}_=Mf(S,I.mode,b),_.return=I,I=_}return o(I);case wi:return k=S._init,T(I,_,k(S._payload),b)}if(tl(S))return w(I,_,S,b);if(Ba(S))return R(I,_,S,b);lc(I,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(I,_.sibling),_=i(_,S),_.return=I,I=_):(n(I,_),_=Lf(S,I.mode,b),_.return=I,I=_),o(I)):n(I,_)}return T}var qo=HT(!0),WT=HT(!1),cd=rs(null),dd=null,Po=null,wg=null;function Eg(){wg=Po=dd=null}function Tg(t){var e=cd.current;Ge(cd),t._currentValue=e}function Up(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vo(t,e){dd=t,wg=Po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(wg!==t)if(t={context:t,memoizedValue:e,next:null},Po===null){if(dd===null)throw Error(K(308));Po=t,dd.dependencies={lanes:0,firstContext:t}}else Po=Po.next=t;return e}var As=null;function Sg(t){As===null?As=[t]:As.push(t)}function KT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Sg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ei=!1;function Ig(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yr(t,n)}return i=r.interleaved,i===null?(e.next=e,Sg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yr(t,n)}function Nc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ug(t,n)}}function V_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hd(t,e,n,r){var i=t.updateQueue;Ei=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,R=a;switch(p=e,g=n,R.tag){case 1:if(w=R.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=R.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=rt({},h,p);break e;case 2:Ei=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Us|=o,t.lanes=o,t.memoizedState=h}}function F_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var cu={},_r=rs(cu),Vl=rs(cu),Fl=rs(cu);function xs(t){if(t===cu)throw Error(K(174));return t}function Rg(t,e){switch(ze(Fl,e),ze(Vl,t),ze(_r,cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wp(e,t)}Ge(_r),ze(_r,e)}function Go(){Ge(_r),Ge(Vl),Ge(Fl)}function GT(t){xs(Fl.current);var e=xs(_r.current),n=wp(e,t.type);e!==n&&(ze(Vl,t),ze(_r,n))}function Cg(t){Vl.current===t&&(Ge(_r),Ge(Vl))}var tt=rs(0);function fd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pf=[];function Ag(){for(var t=0;t<Pf.length;t++)Pf[t]._workInProgressVersionPrimary=null;Pf.length=0}var bc=si.ReactCurrentDispatcher,kf=si.ReactCurrentBatchConfig,Fs=0,nt=null,yt=null,Et=null,pd=!1,yl=!1,Ul=0,ok=0;function jt(){throw Error(K(321))}function xg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function Pg(t,e,n,r,i,s){if(Fs=s,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bc.current=t===null||t.memoizedState===null?ck:dk,t=n(r,i),yl){s=0;do{if(yl=!1,Ul=0,25<=s)throw Error(K(301));s+=1,Et=yt=null,e.updateQueue=null,bc.current=hk,t=n(r,i)}while(yl)}if(bc.current=md,e=yt!==null&&yt.next!==null,Fs=0,Et=yt=nt=null,pd=!1,e)throw Error(K(300));return t}function kg(){var t=Ul!==0;return Ul=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?nt.memoizedState=Et=t:Et=Et.next=t,Et}function Un(){if(yt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=Et===null?nt.memoizedState:Et.next;if(e!==null)Et=e,yt=t;else{if(t===null)throw Error(K(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Et===null?nt.memoizedState=Et=t:Et=Et.next=t}return Et}function Bl(t,e){return typeof e=="function"?e(t):e}function Nf(t){var e=Un(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Fs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,nt.lanes|=d,Us|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,rr(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,nt.lanes|=s,Us|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bf(t){var e=Un(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);rr(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function QT(){}function YT(t,e){var n=nt,r=Un(),i=e(),s=!rr(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,Ng(ZT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,$l(9,JT.bind(null,n,r,i,e),void 0,null),St===null)throw Error(K(349));Fs&30||XT(n,e,i)}return i}function XT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JT(t,e,n,r){e.value=n,e.getSnapshot=r,eS(e)&&tS(t)}function ZT(t,e,n){return n(function(){eS(e)&&tS(t)})}function eS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function tS(t){var e=Yr(t,1);e!==null&&nr(e,t,1,-1)}function U_(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:t},e.queue=t,t=t.dispatch=uk.bind(null,nt,t),[e.memoizedState,t]}function $l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nS(){return Un().memoizedState}function Oc(t,e,n,r){var i=mr();nt.flags|=t,i.memoizedState=$l(1|e,n,void 0,r===void 0?null:r)}function ch(t,e,n,r){var i=Un();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&xg(r,o.deps)){i.memoizedState=$l(e,n,s,r);return}}nt.flags|=t,i.memoizedState=$l(1|e,n,s,r)}function B_(t,e){return Oc(8390656,8,t,e)}function Ng(t,e){return ch(2048,8,t,e)}function rS(t,e){return ch(4,2,t,e)}function iS(t,e){return ch(4,4,t,e)}function sS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oS(t,e,n){return n=n!=null?n.concat([t]):null,ch(4,4,sS.bind(null,e,t),n)}function bg(){}function aS(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lS(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uS(t,e,n){return Fs&21?(rr(n,e)||(n=pT(),nt.lanes|=n,Us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function ak(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=kf.transition;kf.transition={};try{t(!1),e()}finally{Le=n,kf.transition=r}}function cS(){return Un().memoizedState}function lk(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dS(t))hS(e,n);else if(n=KT(t,e,n,r),n!==null){var i=Kt();nr(n,t,r,i),fS(n,e,r)}}function uk(t,e,n){var r=Ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dS(t))hS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,rr(a,o)){var l=e.interleaved;l===null?(i.next=i,Sg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KT(t,e,i,r),n!==null&&(i=Kt(),nr(n,t,r,i),fS(n,e,r))}}function dS(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function hS(t,e){yl=pd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ug(t,n)}}var md={readContext:Fn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},ck={readContext:Fn,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:B_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oc(4194308,4,sS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oc(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lk.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:U_,useDebugValue:bg,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=U_(!1),e=t[0];return t=ak.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=mr();if(Je){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),St===null)throw Error(K(349));Fs&30||XT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,B_(ZT.bind(null,r,s,t),[t]),r.flags|=2048,$l(9,JT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mr(),e=St.identifierPrefix;if(Je){var n=Fr,r=Vr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ok++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dk={readContext:Fn,useCallback:aS,useContext:Fn,useEffect:Ng,useImperativeHandle:oS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:Nf,useRef:nS,useState:function(){return Nf(Bl)},useDebugValue:bg,useDeferredValue:function(t){var e=Un();return uS(e,yt.memoizedState,t)},useTransition:function(){var t=Nf(Bl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:QT,useSyncExternalStore:YT,useId:cS,unstable_isNewReconciler:!1},hk={readContext:Fn,useCallback:aS,useContext:Fn,useEffect:Ng,useImperativeHandle:oS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:bf,useRef:nS,useState:function(){return bf(Bl)},useDebugValue:bg,useDeferredValue:function(t){var e=Un();return yt===null?e.memoizedState=t:uS(e,yt.memoizedState,t)},useTransition:function(){var t=bf(Bl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:QT,useSyncExternalStore:YT,useId:cS,unstable_isNewReconciler:!1};function qn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dh={isMounted:function(t){return(t=t._reactInternals)?Zs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=Ui(t),s=Hr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vi(t,s,i),e!==null&&(nr(e,t,i,r),Nc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=Ui(t),s=Hr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vi(t,s,i),e!==null&&(nr(e,t,i,r),Nc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=Ui(t),i=Hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vi(t,i,r),e!==null&&(nr(e,t,r,n),Nc(e,t,r))}};function $_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(i,s):!0}function pS(t,e,n){var r=!1,i=Qi,s=e.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=sn(e)?js:zt.current,r=e.contextTypes,s=(r=r!=null)?Wo(t,i):Qi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function z_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dh.enqueueReplaceState(e,e.state,null)}function $p(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ig(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=sn(e)?js:zt.current,i.context=Wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dh.enqueueReplaceState(i,i.state,null),hd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qo(t,e){try{var n="",r=e;do n+=Ux(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Of(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function mS(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yd||(yd=!0,Zp=r),zp(t,e)},n}function gS(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zp(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function H_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ak.bind(null,t,e,n),e.then(t,t))}function W_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function K_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Vi(n,e,1))),n.lanes|=1),t)}var pk=si.ReactCurrentOwner,nn=!1;function Wt(t,e,n,r){e.child=t===null?WT(e,null,n,r):qo(e,t.child,n,r)}function q_(t,e,n,r,i){n=n.render;var s=e.ref;return Vo(e,i),r=Pg(t,e,n,r,s,i),n=kg(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xr(t,e,i)):(Je&&n&&yg(e),e.flags|=1,Wt(t,e,r,i),e.child)}function G_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ug(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,yS(t,e,s,r,i)):(t=jc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(o,r)&&t.ref===e.ref)return Xr(t,e,i)}return e.flags|=1,t=Bi(s,r),t.ref=e.ref,t.return=e,e.child=t}function yS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dl(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,Xr(t,e,i)}return Hp(t,e,n,r,i)}function vS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(No,pn),pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(No,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(No,pn),pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(No,pn),pn|=r;return Wt(t,e,i,n),e.child}function _S(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hp(t,e,n,r,i){var s=sn(n)?js:zt.current;return s=Wo(e,s),Vo(e,i),n=Pg(t,e,n,r,s,i),r=kg(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xr(t,e,i)):(Je&&r&&yg(e),e.flags|=1,Wt(t,e,n,i),e.child)}function Q_(t,e,n,r,i){if(sn(n)){var s=!0;ad(e)}else s=!1;if(Vo(e,i),e.stateNode===null)Dc(t,e),pS(e,n,r),$p(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fn(c):(c=sn(n)?js:zt.current,c=Wo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&z_(e,o,r,c),Ei=!1;var p=e.memoizedState;o.state=p,hd(e,r,o,i),l=e.memoizedState,a!==r||p!==l||rn.current||Ei?(typeof d=="function"&&(Bp(e,n,d,r),l=e.memoizedState),(a=Ei||$_(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=sn(n)?js:zt.current,l=Wo(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&z_(e,o,r,l),Ei=!1,p=e.memoizedState,o.state=p,hd(e,r,o,i);var w=e.memoizedState;a!==h||p!==w||rn.current||Ei?(typeof g=="function"&&(Bp(e,n,g,r),w=e.memoizedState),(c=Ei||$_(e,n,c,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Wp(t,e,n,r,s,i)}function Wp(t,e,n,r,i,s){_S(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&D_(e,n,!1),Xr(t,e,s);r=e.stateNode,pk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qo(e,t.child,null,s),e.child=qo(e,null,a,s)):Wt(t,e,a,s),e.memoizedState=r.state,i&&D_(e,n,!0),e.child}function wS(t){var e=t.stateNode;e.pendingContext?O_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O_(t,e.context,!1),Rg(t,e.containerInfo)}function Y_(t,e,n,r,i){return Ko(),_g(i),e.flags|=256,Wt(t,e,n,r),e.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function ES(t,e,n){var r=e.pendingProps,i=tt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(tt,i&1),t===null)return Fp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ph(o,r,0,null),t=Ds(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qp(n),e.memoizedState=Kp,t):Og(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return mk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Bi(a,s):(s=Ds(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Kp,r}return s=t.child,t=s.sibling,r=Bi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Og(t,e){return e=ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uc(t,e,n,r){return r!==null&&_g(r),qo(e,t.child,null,n),t=Og(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Of(Error(K(422))),uc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ph({mode:"visible",children:r.children},i,0,null),s=Ds(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qo(e,t.child,null,o),e.child.memoizedState=qp(o),e.memoizedState=Kp,s);if(!(e.mode&1))return uc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=Of(s,r,void 0),uc(t,e,o,r)}if(a=(o&t.childLanes)!==0,nn||a){if(r=St,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yr(t,i),nr(r,t,i,-1))}return Fg(),r=Of(Error(K(421))),uc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gn=ji(i.nextSibling),vn=e,Je=!0,Xn=null,t!==null&&(bn[On++]=Vr,bn[On++]=Fr,bn[On++]=Vs,Vr=t.id,Fr=t.overflow,Vs=e),e=Og(e,r.children),e.flags|=4096,e)}function X_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Up(t.return,e,n)}function Df(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function TS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wt(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X_(t,n,e);else if(t.tag===19)X_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Df(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Df(e,!0,n,null,s);break;case"together":Df(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gk(t,e,n){switch(e.tag){case 3:wS(e),Ko();break;case 5:GT(e);break;case 1:sn(e.type)&&ad(e);break;case 4:Rg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(cd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?ES(t,e,n):(ze(tt,tt.current&1),t=Xr(t,e,n),t!==null?t.sibling:null);ze(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,vS(t,e,n)}return Xr(t,e,n)}var SS,Gp,IS,RS;SS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gp=function(){};IS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xs(_r.current);var s=null;switch(n){case"input":i=gp(t,i),r=gp(t,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=_p(t,i),r=_p(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sd)}Ep(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Al.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Al.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};RS=function(t,e,n,r){n!==r&&(e.flags|=4)};function qa(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yk(t,e,n){var r=e.pendingProps;switch(vg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return sn(e.type)&&od(),Vt(e),null;case 3:return r=e.stateNode,Go(),Ge(rn),Ge(zt),Ag(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ac(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(nm(Xn),Xn=null))),Gp(t,e),Vt(e),null;case 5:Cg(e);var i=xs(Fl.current);if(n=e.type,t!==null&&e.stateNode!=null)IS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Vt(e),null}if(t=xs(_r.current),ac(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gr]=e,r[jl]=s,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<rl.length;i++)Ke(rl[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":o_(r,s),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",r);break;case"textarea":l_(r,s),Ke("invalid",r)}Ep(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&oc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&oc(r.textContent,a,t),i=["children",""+a]):Al.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Ju(r),a_(r,s,!0);break;case"textarea":Ju(r),u_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gr]=e,t[jl]=r,SS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tp(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<rl.length;i++)Ke(rl[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":o_(t,r),i=gp(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":l_(t,r),i=_p(t,r),Ke("invalid",t);break;default:i=r}Ep(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?nT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xl(t,l):typeof l=="number"&&xl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Al.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ke("scroll",t):l!=null&&rg(t,s,l,o))}switch(n){case"input":Ju(t),a_(t,r,!1);break;case"textarea":Ju(t),u_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Do(t,!!r.multiple,s,!1):r.defaultValue!=null&&Do(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)RS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=xs(Fl.current),xs(_r.current),ac(e)){if(r=e.stateNode,n=e.memoizedProps,r[gr]=e,(s=r.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:oc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=e,e.stateNode=r}return Vt(e),null;case 13:if(Ge(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&gn!==null&&e.mode&1&&!(e.flags&128))zT(),Ko(),e.flags|=98560,s=!1;else if(s=ac(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[gr]=e}else Ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else Xn!==null&&(nm(Xn),Xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?vt===0&&(vt=3):Fg())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Go(),Gp(t,e),t===null&&Ll(e.stateNode.containerInfo),Vt(e),null;case 10:return Tg(e.type._context),Vt(e),null;case 17:return sn(e.type)&&od(),Vt(e),null;case 19:if(Ge(tt),s=e.memoizedState,s===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qa(s,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fd(t),o!==null){for(e.flags|=128,qa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(tt,tt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ct()>Yo&&(e.flags|=128,r=!0,qa(s,!1),e.lanes=4194304)}else{if(!r)if(t=fd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Je)return Vt(e),null}else 2*ct()-s.renderingStartTime>Yo&&n!==1073741824&&(e.flags|=128,r=!0,qa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ct(),e.sibling=null,n=tt.current,ze(tt,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return Vg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function vk(t,e){switch(vg(e),e.tag){case 1:return sn(e.type)&&od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),Ge(rn),Ge(zt),Ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cg(e),null;case 13:if(Ge(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(tt),null;case 4:return Go(),null;case 10:return Tg(e.type._context),null;case 22:case 23:return Vg(),null;case 24:return null;default:return null}}var cc=!1,Bt=!1,_k=typeof WeakSet=="function"?WeakSet:Set,X=null;function ko(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Qp(t,e,n){try{n()}catch(r){at(t,e,r)}}var J_=!1;function wk(t,e){if(bp=nd,t=kT(),gg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Op={focusedElem:t,selectionRange:n},nd=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var R=w.memoizedProps,T=w.memoizedState,I=e.stateNode,_=I.getSnapshotBeforeUpdate(e.elementType===e.type?R:qn(e.type,R),T);I.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(b){at(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return w=J_,J_=!1,w}function vl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qp(e,n,s)}i=i.next}while(i!==r)}}function hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CS(t){var e=t.alternate;e!==null&&(t.alternate=null,CS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[jl],delete e[Mp],delete e[nk],delete e[rk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AS(t){return t.tag===5||t.tag===3||t.tag===4}function Z_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sd));else if(r!==4&&(t=t.child,t!==null))for(Xp(t,e,n),t=t.sibling;t!==null;)Xp(t,e,n),t=t.sibling}function Jp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jp(t,e,n),t=t.sibling;t!==null;)Jp(t,e,n),t=t.sibling}var Ct=null,Gn=!1;function gi(t,e,n){for(n=n.child;n!==null;)xS(t,e,n),n=n.sibling}function xS(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(ih,n)}catch{}switch(n.tag){case 5:Bt||ko(n,e);case 6:var r=Ct,i=Gn;Ct=null,gi(t,e,n),Ct=r,Gn=i,Ct!==null&&(Gn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Gn?(t=Ct,n=n.stateNode,t.nodeType===8?Af(t.parentNode,n):t.nodeType===1&&Af(t,n),bl(t)):Af(Ct,n.stateNode));break;case 4:r=Ct,i=Gn,Ct=n.stateNode.containerInfo,Gn=!0,gi(t,e,n),Ct=r,Gn=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qp(n,e,o),i=i.next}while(i!==r)}gi(t,e,n);break;case 1:if(!Bt&&(ko(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}gi(t,e,n);break;case 21:gi(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,gi(t,e,n),Bt=r):gi(t,e,n);break;default:gi(t,e,n)}}function ew(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _k),e.forEach(function(r){var i=Pk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,Gn=!1;break e;case 3:Ct=a.stateNode.containerInfo,Gn=!0;break e;case 4:Ct=a.stateNode.containerInfo,Gn=!0;break e}a=a.return}if(Ct===null)throw Error(K(160));xS(s,o,i),Ct=null,Gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){at(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PS(e,t),e=e.sibling}function PS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),pr(t),r&4){try{vl(3,t,t.return),hh(3,t)}catch(R){at(t,t.return,R)}try{vl(5,t,t.return)}catch(R){at(t,t.return,R)}}break;case 1:Kn(e,t),pr(t),r&512&&n!==null&&ko(n,n.return);break;case 5:if(Kn(e,t),pr(t),r&512&&n!==null&&ko(n,n.return),t.flags&32){var i=t.stateNode;try{xl(i,"")}catch(R){at(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XE(i,s),Tp(a,o);var c=Tp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?nT(i,h):d==="dangerouslySetInnerHTML"?eT(i,h):d==="children"?xl(i,h):rg(i,d,h,c)}switch(a){case"input":yp(i,s);break;case"textarea":JE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Do(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Do(i,!!s.multiple,s.defaultValue,!0):Do(i,!!s.multiple,s.multiple?[]:"",!1))}i[jl]=s}catch(R){at(t,t.return,R)}}break;case 6:if(Kn(e,t),pr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){at(t,t.return,R)}}break;case 3:if(Kn(e,t),pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bl(e.containerInfo)}catch(R){at(t,t.return,R)}break;case 4:Kn(e,t),pr(t);break;case 13:Kn(e,t),pr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Mg=ct())),r&4&&ew(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(c=Bt)||d,Kn(e,t),Bt=c):Kn(e,t),pr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(p=X,g=p.child,p.tag){case 0:case 11:case 14:case 15:vl(4,p,p.return);break;case 1:ko(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(R){at(r,n,R)}}break;case 5:ko(p,p.return);break;case 22:if(p.memoizedState!==null){nw(h);continue}}g!==null?(g.return=p,X=g):nw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tT("display",o))}catch(R){at(t,t.return,R)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(R){at(t,t.return,R)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Kn(e,t),pr(t),r&4&&ew(t);break;case 21:break;default:Kn(e,t),pr(t)}}function pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AS(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xl(i,""),r.flags&=-33);var s=Z_(t);Jp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z_(t);Xp(t,a,o);break;default:throw Error(K(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ek(t,e,n){X=t,kS(t)}function kS(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=cc;var c=Bt;if(cc=o,(Bt=l)&&!c)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?rw(i):l!==null?(l.return=o,X=l):rw(i);for(;s!==null;)X=s,kS(s),s=s.sibling;X=i,cc=a,Bt=c}tw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):tw(t)}}function tw(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||hh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&F_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}F_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&bl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Bt||e.flags&512&&Yp(e)}catch(p){at(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function nw(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function rw(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hh(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{Yp(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{Yp(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var Tk=Math.ceil,gd=si.ReactCurrentDispatcher,Dg=si.ReactCurrentOwner,jn=si.ReactCurrentBatchConfig,Ne=0,St=null,pt=null,Pt=0,pn=0,No=rs(0),vt=0,zl=null,Us=0,fh=0,Lg=0,_l=null,Zt=null,Mg=0,Yo=1/0,Lr=null,yd=!1,Zp=null,Fi=null,dc=!1,Ni=null,vd=0,wl=0,em=null,Lc=-1,Mc=0;function Kt(){return Ne&6?ct():Lc!==-1?Lc:Lc=ct()}function Ui(t){return t.mode&1?Ne&2&&Pt!==0?Pt&-Pt:sk.transition!==null?(Mc===0&&(Mc=pT()),Mc):(t=Le,t!==0||(t=window.event,t=t===void 0?16:ET(t.type)),t):1}function nr(t,e,n,r){if(50<wl)throw wl=0,em=null,Error(K(185));au(t,n,r),(!(Ne&2)||t!==St)&&(t===St&&(!(Ne&2)&&(fh|=n),vt===4&&Ii(t,Pt)),on(t,r),n===1&&Ne===0&&!(e.mode&1)&&(Yo=ct()+500,uh&&is()))}function on(t,e){var n=t.callbackNode;sP(t,e);var r=td(t,t===St?Pt:0);if(r===0)n!==null&&h_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&h_(n),e===1)t.tag===0?ik(iw.bind(null,t)):UT(iw.bind(null,t)),ek(function(){!(Ne&6)&&is()}),n=null;else{switch(mT(r)){case 1:n=lg;break;case 4:n=hT;break;case 16:n=ed;break;case 536870912:n=fT;break;default:n=ed}n=VS(n,NS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NS(t,e){if(Lc=-1,Mc=0,Ne&6)throw Error(K(327));var n=t.callbackNode;if(Fo()&&t.callbackNode!==n)return null;var r=td(t,t===St?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_d(t,r);else{e=r;var i=Ne;Ne|=2;var s=OS();(St!==t||Pt!==e)&&(Lr=null,Yo=ct()+500,Os(t,e));do try{Rk();break}catch(a){bS(t,a)}while(!0);Eg(),gd.current=s,Ne=i,pt!==null?e=0:(St=null,Pt=0,e=vt)}if(e!==0){if(e===2&&(i=Ap(t),i!==0&&(r=i,e=tm(t,i))),e===1)throw n=zl,Os(t,0),Ii(t,r),on(t,ct()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!Sk(i)&&(e=_d(t,r),e===2&&(s=Ap(t),s!==0&&(r=s,e=tm(t,s))),e===1))throw n=zl,Os(t,0),Ii(t,r),on(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:ws(t,Zt,Lr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=Mg+500-ct(),10<e)){if(td(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lp(ws.bind(null,t,Zt,Lr),e);break}ws(t,Zt,Lr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tk(r/1960))-r,10<r){t.timeoutHandle=Lp(ws.bind(null,t,Zt,Lr),r);break}ws(t,Zt,Lr);break;case 5:ws(t,Zt,Lr);break;default:throw Error(K(329))}}}return on(t,ct()),t.callbackNode===n?NS.bind(null,t):null}function tm(t,e){var n=_l;return t.current.memoizedState.isDehydrated&&(Os(t,e).flags|=256),t=_d(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&nm(e)),t}function nm(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function Sk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~Lg,e&=~fh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function iw(t){if(Ne&6)throw Error(K(327));Fo();var e=td(t,0);if(!(e&1))return on(t,ct()),null;var n=_d(t,e);if(t.tag!==0&&n===2){var r=Ap(t);r!==0&&(e=r,n=tm(t,r))}if(n===1)throw n=zl,Os(t,0),Ii(t,e),on(t,ct()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,Zt,Lr),on(t,ct()),null}function jg(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(Yo=ct()+500,uh&&is())}}function Bs(t){Ni!==null&&Ni.tag===0&&!(Ne&6)&&Fo();var e=Ne;Ne|=1;var n=jn.transition,r=Le;try{if(jn.transition=null,Le=1,t)return t()}finally{Le=r,jn.transition=n,Ne=e,!(Ne&6)&&is()}}function Vg(){pn=No.current,Ge(No)}function Os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZP(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(vg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&od();break;case 3:Go(),Ge(rn),Ge(zt),Ag();break;case 5:Cg(r);break;case 4:Go();break;case 13:Ge(tt);break;case 19:Ge(tt);break;case 10:Tg(r.type._context);break;case 22:case 23:Vg()}n=n.return}if(St=t,pt=t=Bi(t.current,null),Pt=pn=e,vt=0,zl=null,Lg=fh=Us=0,Zt=_l=null,As!==null){for(e=0;e<As.length;e++)if(n=As[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}As=null}return t}function bS(t,e){do{var n=pt;try{if(Eg(),bc.current=md,pd){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pd=!1}if(Fs=0,Et=yt=nt=null,yl=!1,Ul=0,Dg.current=null,n===null||n.return===null){vt=1,zl=e,pt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=W_(o);if(g!==null){g.flags&=-257,K_(g,o,a,s,e),g.mode&1&&H_(s,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var R=new Set;R.add(l),e.updateQueue=R}else w.add(l);break e}else{if(!(e&1)){H_(s,c,e),Fg();break e}l=Error(K(426))}}else if(Je&&a.mode&1){var T=W_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),K_(T,o,a,s,e),_g(Qo(l,a));break e}}s=l=Qo(l,a),vt!==4&&(vt=2),_l===null?_l=[s]:_l.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=mS(s,l,e);V_(s,I);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fi===null||!Fi.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=gS(s,a,e);V_(s,b);break e}}s=s.return}while(s!==null)}LS(n)}catch(V){e=V,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function OS(){var t=gd.current;return gd.current=md,t===null?md:t}function Fg(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!(Us&268435455)&&!(fh&268435455)||Ii(St,Pt)}function _d(t,e){var n=Ne;Ne|=2;var r=OS();(St!==t||Pt!==e)&&(Lr=null,Os(t,e));do try{Ik();break}catch(i){bS(t,i)}while(!0);if(Eg(),Ne=n,gd.current=r,pt!==null)throw Error(K(261));return St=null,Pt=0,vt}function Ik(){for(;pt!==null;)DS(pt)}function Rk(){for(;pt!==null&&!Yx();)DS(pt)}function DS(t){var e=jS(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?LS(t):pt=e,Dg.current=null}function LS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vk(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,pt=null;return}}else if(n=yk(n,e,pn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);vt===0&&(vt=5)}function ws(t,e,n){var r=Le,i=jn.transition;try{jn.transition=null,Le=1,Ck(t,e,n,r)}finally{jn.transition=i,Le=r}return null}function Ck(t,e,n,r){do Fo();while(Ni!==null);if(Ne&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(oP(t,s),t===St&&(pt=St=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,VS(ed,function(){return Fo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jn.transition,jn.transition=null;var o=Le;Le=1;var a=Ne;Ne|=4,Dg.current=null,wk(t,n),PS(n,t),KP(Op),nd=!!bp,Op=bp=null,t.current=n,Ek(n),Xx(),Ne=a,Le=o,jn.transition=s}else t.current=n;if(dc&&(dc=!1,Ni=t,vd=i),s=t.pendingLanes,s===0&&(Fi=null),eP(n.stateNode),on(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yd)throw yd=!1,t=Zp,Zp=null,t;return vd&1&&t.tag!==0&&Fo(),s=t.pendingLanes,s&1?t===em?wl++:(wl=0,em=t):wl=0,is(),null}function Fo(){if(Ni!==null){var t=mT(vd),e=jn.transition,n=Le;try{if(jn.transition=null,Le=16>t?16:t,Ni===null)var r=!1;else{if(t=Ni,Ni=null,vd=0,Ne&6)throw Error(K(331));var i=Ne;for(Ne|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:vl(8,d,s)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var p=d.sibling,g=d.return;if(CS(d),d===c){X=null;break}if(p!==null){p.return=g,X=p;break}X=g}}}var w=s.alternate;if(w!==null){var R=w.child;if(R!==null){w.child=null;do{var T=R.sibling;R.sibling=null,R=T}while(R!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vl(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,X=I;break e}X=s.return}}var _=t.current;for(X=_;X!==null;){o=X;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,X=S;else e:for(o=_;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hh(9,a)}}catch(V){at(a,a.return,V)}if(a===o){X=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,X=b;break e}X=a.return}}if(Ne=i,is(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(ih,t)}catch{}r=!0}return r}finally{Le=n,jn.transition=e}}return!1}function sw(t,e,n){e=Qo(n,e),e=mS(t,e,1),t=Vi(t,e,1),e=Kt(),t!==null&&(au(t,1,e),on(t,e))}function at(t,e,n){if(t.tag===3)sw(t,t,n);else for(;e!==null;){if(e.tag===3){sw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=Qo(n,t),t=gS(e,t,1),e=Vi(e,t,1),t=Kt(),e!==null&&(au(e,1,t),on(e,t));break}}e=e.return}}function Ak(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Pt&n)===n&&(vt===4||vt===3&&(Pt&130023424)===Pt&&500>ct()-Mg?Os(t,0):Lg|=n),on(t,e)}function MS(t,e){e===0&&(t.mode&1?(e=tc,tc<<=1,!(tc&130023424)&&(tc=4194304)):e=1);var n=Kt();t=Yr(t,e),t!==null&&(au(t,e,n),on(t,n))}function xk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MS(t,n)}function Pk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),MS(t,n)}var jS;jS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,gk(t,e,n);nn=!!(t.flags&131072)}else nn=!1,Je&&e.flags&1048576&&BT(e,ud,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dc(t,e),t=e.pendingProps;var i=Wo(e,zt.current);Vo(e,n),i=Pg(null,e,r,t,i,n);var s=kg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,ad(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ig(e),i.updater=dh,e.stateNode=i,i._reactInternals=e,$p(e,r,t,n),e=Wp(null,e,r,!0,s,n)):(e.tag=0,Je&&s&&yg(e),Wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Nk(r),t=qn(r,t),i){case 0:e=Hp(null,e,r,t,n);break e;case 1:e=Q_(null,e,r,t,n);break e;case 11:e=q_(null,e,r,t,n);break e;case 14:e=G_(null,e,r,qn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Hp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Q_(t,e,r,i,n);case 3:e:{if(wS(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,qT(t,e),hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qo(Error(K(423)),e),e=Y_(t,e,r,n,i);break e}else if(r!==i){i=Qo(Error(K(424)),e),e=Y_(t,e,r,n,i);break e}else for(gn=ji(e.stateNode.containerInfo.firstChild),vn=e,Je=!0,Xn=null,n=WT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ko(),r===i){e=Xr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return GT(e),t===null&&Fp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dp(r,i)?o=null:s!==null&&Dp(r,s)&&(e.flags|=32),_S(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&Fp(e),null;case 13:return ES(t,e,n);case 4:return Rg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qo(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),q_(t,e,r,i,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(cd,r._currentValue),r._currentValue=o,s!==null)if(rr(s.value,o)){if(s.children===i.children&&!rn.current){e=Xr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Up(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Up(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vo(e,n),i=Fn(i),r=r(i),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,i=qn(r,e.pendingProps),i=qn(r.type,i),G_(t,e,r,i,n);case 15:return yS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Dc(t,e),e.tag=1,sn(r)?(t=!0,ad(e)):t=!1,Vo(e,n),pS(e,r,i),$p(e,r,i,n),Wp(null,e,r,!0,t,n);case 19:return TS(t,e,n);case 22:return vS(t,e,n)}throw Error(K(156,e.tag))};function VS(t,e){return dT(t,e)}function kk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new kk(t,e,n,r)}function Ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nk(t){if(typeof t=="function")return Ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sg)return 11;if(t===og)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ug(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Eo:return Ds(n.children,i,s,e);case ig:o=8,i|=8;break;case hp:return t=Ln(12,n,e,i|2),t.elementType=hp,t.lanes=s,t;case fp:return t=Ln(13,n,e,i),t.elementType=fp,t.lanes=s,t;case pp:return t=Ln(19,n,e,i),t.elementType=pp,t.lanes=s,t;case GE:return ph(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KE:o=10;break e;case qE:o=9;break e;case sg:o=11;break e;case og:o=14;break e;case wi:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Ln(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ds(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function ph(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=GE,t.lanes=n,t.stateNode={isHidden:!1},t}function Lf(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function Mf(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bg(t,e,n,r,i,s,o,a,l){return t=new bk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ln(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ig(s),t}function Ok(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FS(t){if(!t)return Qi;t=t._reactInternals;e:{if(Zs(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(sn(n))return FT(t,n,e)}return e}function US(t,e,n,r,i,s,o,a,l){return t=Bg(n,r,!0,t,i,s,o,a,l),t.context=FS(null),n=t.current,r=Kt(),i=Ui(n),s=Hr(r,i),s.callback=e??null,Vi(n,s,i),t.current.lanes=i,au(t,i,r),on(t,r),t}function mh(t,e,n,r){var i=e.current,s=Kt(),o=Ui(i);return n=FS(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vi(i,e,o),t!==null&&(nr(t,i,o,s),Nc(t,i,o)),o}function wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ow(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $g(t,e){ow(t,e),(t=t.alternate)&&ow(t,e)}function Dk(){return null}var BS=typeof reportError=="function"?reportError:function(t){console.error(t)};function zg(t){this._internalRoot=t}gh.prototype.render=zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));mh(t,e,null,null)};gh.prototype.unmount=zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){mh(null,t,null,null)}),e[Qr]=null}};function gh(t){this._internalRoot=t}gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=vT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Si.length&&e!==0&&e<Si[n].priority;n++);Si.splice(n,0,t),n===0&&wT(t)}};function Hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aw(){}function Lk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=wd(o);s.call(c)}}var o=US(e,r,t,0,null,!1,!1,"",aw);return t._reactRootContainer=o,t[Qr]=o.current,Ll(t.nodeType===8?t.parentNode:t),Bs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=wd(l);a.call(c)}}var l=Bg(t,0,!1,null,null,!1,!1,"",aw);return t._reactRootContainer=l,t[Qr]=l.current,Ll(t.nodeType===8?t.parentNode:t),Bs(function(){mh(e,l,n,r)}),l}function vh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=wd(o);a.call(l)}}mh(e,o,t,i)}else o=Lk(n,e,t,i,r);return wd(o)}gT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(ug(e,n|1),on(e,ct()),!(Ne&6)&&(Yo=ct()+500,is()))}break;case 13:Bs(function(){var r=Yr(t,1);if(r!==null){var i=Kt();nr(r,t,1,i)}}),$g(t,1)}};cg=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=Kt();nr(e,t,134217728,n)}$g(t,134217728)}};yT=function(t){if(t.tag===13){var e=Ui(t),n=Yr(t,e);if(n!==null){var r=Kt();nr(n,t,e,r)}$g(t,e)}};vT=function(){return Le};_T=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Ip=function(t,e,n){switch(e){case"input":if(yp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lh(r);if(!i)throw Error(K(90));YE(r),yp(r,i)}}}break;case"textarea":JE(t,n);break;case"select":e=n.value,e!=null&&Do(t,!!n.multiple,e,!1)}};sT=jg;oT=Bs;var Mk={usingClientEntryPoint:!1,Events:[uu,Ro,lh,rT,iT,jg]},Ga={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jk={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||Dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{ih=hc.inject(jk),vr=hc}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mk;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hg(e))throw Error(K(200));return Ok(t,e,null,n)};Sn.createRoot=function(t,e){if(!Hg(t))throw Error(K(299));var n=!1,r="",i=BS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Bg(t,1,!1,null,null,n,!1,r,i),t[Qr]=e.current,Ll(t.nodeType===8?t.parentNode:t),new zg(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=uT(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return Bs(t)};Sn.hydrate=function(t,e,n){if(!yh(e))throw Error(K(200));return vh(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!Hg(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=BS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=US(e,null,t,1,n??null,i,!1,s,o),t[Qr]=e.current,Ll(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gh(e)};Sn.render=function(t,e,n){if(!yh(e))throw Error(K(200));return vh(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!yh(t))throw Error(K(40));return t._reactRootContainer?(Bs(function(){vh(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};Sn.unstable_batchedUpdates=jg;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return vh(t,e,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function $S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($S)}catch(t){console.error(t)}}$S(),$E.exports=Sn;var Wg=$E.exports;const Ps=nh(Wg),Vk=kE({__proto__:null,default:Ps},[Wg]);var zS,lw=Wg;zS=lw.createRoot,lw.hydrateRoot;var HS={exports:{}},WS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=y;function Fk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Uk=typeof Object.is=="function"?Object.is:Fk,Bk=du.useSyncExternalStore,$k=du.useRef,zk=du.useEffect,Hk=du.useMemo,Wk=du.useDebugValue;WS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=$k(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Hk(function(){function l(g){if(!c){if(c=!0,d=g,g=r(g),i!==void 0&&o.hasValue){var w=o.value;if(i(w,g))return h=w}return h=g}if(w=h,Uk(d,g))return w;var R=r(g);return i!==void 0&&i(w,R)?w:(d=g,h=R)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var a=Bk(t,s[0],s[1]);return zk(function(){o.hasValue=!0,o.value=a},[a]),Wk(a),a};HS.exports=WS;var Kk=HS.exports,yn="default"in Cl?Tt:Cl,uw=Symbol.for("react-redux-context"),cw=typeof globalThis<"u"?globalThis:{};function qk(){if(!yn.createContext)return{};const t=cw[uw]??(cw[uw]=new Map);let e=t.get(yn.createContext);return e||(e=yn.createContext(null),t.set(yn.createContext,e)),e}var Yi=qk(),Gk=()=>{throw new Error("uSES not initialized!")};function Kg(t=Yi){return function(){return yn.useContext(t)}}var KS=Kg(),qS=Gk,Qk=t=>{qS=t},Yk=(t,e)=>t===e;function Xk(t=Yi){const e=t===Yi?KS:Kg(t),n=(r,i={})=>{const{equalityFn:s=Yk,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:d,identityFunctionCheck:h}=e();yn.useRef(!0);const p=yn.useCallback({[r.name](w){return r(w)}}[r.name],[r,d,o.stabilityCheck]),g=qS(l.addNestedSub,a.getState,c||a.getState,p,s);return yn.useDebugValue(g),g};return Object.assign(n,{withTypes:()=>n}),n}var Ur=Xk();function Jk(t){t()}function Zk(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Jk(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var dw={notify(){},get:()=>[]};function eN(t,e){let n,r=dw,i=0,s=!1;function o(R){d();const T=r.subscribe(R);let I=!1;return()=>{I||(I=!0,T(),h())}}function a(){r.notify()}function l(){w.onStateChange&&w.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(l),r=Zk())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=dw)}function p(){s||(s=!0,d())}function g(){s&&(s=!1,h())}const w={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return w}var tN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nN=typeof navigator<"u"&&navigator.product==="ReactNative",rN=tN||nN?yn.useLayoutEffect:yn.useEffect;function iN({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=yn.useMemo(()=>{const c=eN(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=yn.useMemo(()=>t.getState(),[t]);rN(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||Yi;return yn.createElement(l.Provider,{value:o},n)}var sN=iN;function GS(t=Yi){const e=t===Yi?KS:Kg(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var oN=GS();function aN(t=Yi){const e=t===Yi?oN:GS(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var qg=aN();Qk(Kk.useSyncExternalStoreWithSelector);/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $e(){return $e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$e.apply(this,arguments)}var Be;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Be||(Be={}));const hw="popstate";function QS(t){t===void 0&&(t={});let{initialEntries:e=["/"],initialIndex:n,v5Compat:r=!1}=t,i;i=e.map((g,w)=>d(g,typeof g=="string"?null:g.state,w===0?"default":void 0));let s=l(n??i.length-1),o=Be.Pop,a=null;function l(g){return Math.min(Math.max(g,0),i.length-1)}function c(){return i[s]}function d(g,w,R){w===void 0&&(w=null);let T=$s(i?c().pathname:"/",g,w,R);return Jr(T.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(g)),T}function h(g){return typeof g=="string"?g:ir(g)}return{get index(){return s},get action(){return o},get location(){return c()},createHref:h,createURL(g){return new URL(h(g),"http://localhost")},encodeLocation(g){let w=typeof g=="string"?Bn(g):g;return{pathname:w.pathname||"",search:w.search||"",hash:w.hash||""}},push(g,w){o=Be.Push;let R=d(g,w);s+=1,i.splice(s,i.length,R),r&&a&&a({action:o,location:R,delta:1})},replace(g,w){o=Be.Replace;let R=d(g,w);i[s]=R,r&&a&&a({action:o,location:R,delta:0})},go(g){o=Be.Pop;let w=l(s+g),R=i[w];s=w,a&&a({action:o,location:R,delta:g})},listen(g){return a=g,()=>{a=null}}}}function YS(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $s("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ir(i)}return JS(e,n,null,t)}function XS(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Bn(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),$s("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:ir(s))}function r(i,s){Jr(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return JS(e,n,r,t)}function le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lN(){return Math.random().toString(36).substr(2,8)}function fw(t,e){return{usr:t.state,key:t.key,idx:e}}function $s(t,e,n,r){return n===void 0&&(n=null),$e({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bn(e):e,{state:n,key:e&&e.key||r||lN()})}function ir(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Be.Pop,l=null,c=d();c==null&&(c=0,o.replaceState($e({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Be.Pop;let T=d(),I=T==null?null:T-c;c=T,l&&l({action:a,location:R.location,delta:I})}function p(T,I){a=Be.Push;let _=$s(R.location,T,I);n&&n(_,T),c=d()+1;let S=fw(_,c),b=R.createHref(_);try{o.pushState(S,"",b)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(b)}s&&l&&l({action:a,location:R.location,delta:1})}function g(T,I){a=Be.Replace;let _=$s(R.location,T,I);n&&n(_,T),c=d();let S=fw(_,c),b=R.createHref(_);o.replaceState(S,"",b),s&&l&&l({action:a,location:R.location,delta:0})}function w(T){let I=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof T=="string"?T:ir(T);return _=_.replace(/ $/,"%20"),le(I,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,I)}let R={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hw,h),l=T,()=>{i.removeEventListener(hw,h),l=null}},createHref(T){return e(i,T)},createURL:w,encodeLocation(T){let I=w(T);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:p,replace:g,go(T){return o.go(T)}};return R}var je;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(je||(je={}));const uN=new Set(["lazy","caseSensitive","path","id","index","children"]);function cN(t){return t.index===!0}function Ed(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(le(i.index!==!0||!i.children,"Cannot specify children on an index route"),le(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),cN(i)){let l=$e({},i,e(i),{id:a});return r[a]=l,l}else{let l=$e({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Ed(i.children,e,o,r)),l}})}function Ri(t,e,n){return n===void 0&&(n="/"),Vc(t,e,n,!1)}function Vc(t,e,n,r){let i=typeof e=="string"?Bn(e):e,s=cn(i.pathname||"/",n);if(s==null)return null;let o=e1(t);dN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=n1(s);a=wN(o[l],c,r)}return a}function ZS(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function e1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=wr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),e1(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:vN(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of t1(s.path))i(s,o,l)}),e}function t1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=t1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_N(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hN=/^:[\w-]+$/,fN=3,pN=2,mN=1,gN=10,yN=-2,pw=t=>t==="*";function vN(t,e){let n=t.split("/"),r=n.length;return n.some(pw)&&(r+=yN),e&&(r+=pN),n.filter(i=>!pw(i)).reduce((i,s)=>i+(hN.test(s)?fN:s===""?mN:gN),r)}function _N(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wN(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Xo({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Xo({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:wr([s,h.pathname]),pathnameBase:IN(wr([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=wr([s,h.pathnameBase]))}return o}function EN(t,e){e===void 0&&(e={});let n=t;n.endsWith("*")&&n!=="*"&&!n.endsWith("/*")&&(Jr(!1,'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".')),n=n.replace(/\*$/,"/*"));const r=n.startsWith("/")?"/":"",i=o=>o==null?"":typeof o=="string"?o:String(o),s=n.split(/\/+/).map((o,a,l)=>{if(a===l.length-1&&o==="*")return i(e["*"]);const d=o.match(/^:([\w-]+)(\??)$/);if(d){const[,h,p]=d;let g=e[h];return le(p==="?"||g!=null,'Missing ":'+h+'" param'),i(g)}return o.replace(/\?$/g,"")}).filter(o=>!!o);return r+s.join("/")}function Xo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let R=a[h]||"";o=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function TN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function n1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jr(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function r1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bn(t):t;return{pathname:n?n.startsWith("/")?n:SN(n,e):e,search:RN(r),hash:CN(i)}}function SN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _h(t,e){let n=i1(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wh(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bn(t):(i=$e({},t),le(!i.pathname||!i.pathname.includes("?"),jf("?","pathname","search",i)),le(!i.pathname||!i.pathname.includes("#"),jf("#","pathname","hash",i)),le(!i.search||!i.search.includes("#"),jf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=r1(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const wr=t=>t.join("/").replace(/\/\/+/g,"/"),IN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,AN=function(e,n){n===void 0&&(n={});let r=typeof n=="number"?{status:n}:n,i=new Headers(r.headers);return i.has("Content-Type")||i.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),$e({},r,{headers:i}))};class Td extends Error{}class xN{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],le(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((s,o)=>r=o),this.controller=new AbortController;let i=()=>r(new Td("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,void 0,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){if(this.controller.signal.aborted&&r instanceof Td)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);if(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r===void 0&&i===void 0){let s=new Error('Deferred data for key "'+n+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>s}),this.emit(!1,n),Promise.reject(s)}return i===void 0?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i)}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return le(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:kN(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function PN(t){return t instanceof Promise&&t._tracked===!0}function kN(t){if(!PN(t))return t;if(t._error)throw t._error;return t._data}const NN=function(e,n){n===void 0&&(n={});let r=typeof n=="number"?{status:n}:n;return new xN(e,r)},Gg=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,$e({},r,{headers:i}))},bN=(t,e)=>{let n=Gg(t,e);return n.headers.set("X-Remix-Reload-Document","true"),n},ON=(t,e)=>{let n=Gg(t,e);return n.headers.set("X-Remix-Replace","true"),n};class Hl{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function hu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const s1=["post","put","patch","delete"],DN=new Set(s1),LN=["get",...s1],MN=new Set(LN),jN=new Set([301,302,303,307,308]),VN=new Set([307,308]),Vf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},o1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},go={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),a1="remix-router-transitions";function Yg(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;le(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let O=t.detectErrorBoundary;i=M=>({hasErrorBoundary:O(M)})}else i=FN;let s={},o=Ed(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||zN,d=t.patchRoutesOnNavigation,h=$e({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=null,R=null,T=null,I=t.hydrationData!=null,_=Ri(o,t.history.location,l),S=null;if(_==null&&!d){let O=Jt(404,{pathname:t.history.location.pathname}),{matches:M,route:F}=Rw(o);_=M,S={[F.id]:O}}_&&!t.hydrationData&&Nr(_,o,t.history.location.pathname).active&&(_=null);let b;if(_)if(_.some(O=>O.route.lazy))b=!1;else if(!_.some(O=>O.route.loader))b=!0;else if(h.v7_partialHydration){let O=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null;if(M){let F=_.findIndex($=>M[$.route.id]!==void 0);b=_.slice(0,F+1).every($=>!im($.route,O,M))}else b=_.every(F=>!im(F.route,O,M))}else b=t.hydrationData!=null;else if(b=!1,_=[],h.v7_partialHydration){let O=Nr(null,o,t.history.location.pathname);O.active&&O.matches&&(_=O.matches)}let V,k={historyAction:t.history.action,location:t.history.location,matches:_,initialized:b,navigation:Vf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},A=Be.Pop,E=!1,x,P=!1,D=new Map,L=null,N=!1,Te=!1,dt=[],Ze=new Set,we=new Map,W=0,ne=-1,se=new Map,ye=new Set,ve=new Map,me=new Map,Pe=new Set,He=new Map,gt=new Map,Dt;function Ra(){if(p=t.history.listen(O=>{let{action:M,location:F,delta:$}=O;if(Dt){Dt(),Dt=void 0;return}Jr(gt.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=Na({currentLocation:k.location,nextLocation:F,historyAction:M});if(Y&&$!=null){let ie=new Promise(ue=>{Dt=ue});t.history.go($*-1),ui(Y,{state:"blocked",location:F,proceed(){ui(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),ie.then(()=>t.history.go($))},reset(){let ue=new Map(k.blockers);ue.set(Y,go),st({blockers:ue})}});return}return ke(M,F)}),n){rb(e,D);let O=()=>ib(e,D);e.addEventListener("pagehide",O),L=()=>e.removeEventListener("pagehide",O)}return k.initialized||ke(Be.Pop,k.location,{initialHydration:!0}),V}function cs(){p&&p(),L&&L(),g.clear(),x&&x.abort(),k.fetchers.forEach((O,M)=>fs(M)),k.blockers.forEach((O,M)=>Mu(M))}function lr(O){return g.add(O),()=>g.delete(O)}function st(O,M){M===void 0&&(M={}),k=$e({},k,O);let F=[],$=[];h.v7_fetcherPersist&&k.fetchers.forEach((Y,ie)=>{Y.state==="idle"&&(Pe.has(ie)?$.push(ie):F.push(ie))}),[...g].forEach(Y=>Y(k,{deletedFetchers:$,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),h.v7_fetcherPersist&&(F.forEach(Y=>k.fetchers.delete(Y)),$.forEach(Y=>fs(Y)))}function hn(O,M,F){var $,Y;let{flushSync:ie}=F===void 0?{}:F,ue=k.actionData!=null&&k.navigation.formMethod!=null&&Qn(k.navigation.formMethod)&&k.navigation.state==="loading"&&(($=O.state)==null?void 0:$._isRedirect)!==!0,J;M.actionData?Object.keys(M.actionData).length>0?J=M.actionData:J=null:ue?J=k.actionData:J=null;let Z=M.loaderData?Sw(k.loaderData,M.loaderData,M.matches||[],M.errors):k.loaderData,G=k.blockers;G.size>0&&(G=new Map(G),G.forEach((Ee,Fe)=>G.set(Fe,go)));let re=E===!0||k.navigation.formMethod!=null&&Qn(k.navigation.formMethod)&&((Y=O.state)==null?void 0:Y._isRedirect)!==!0;a&&(o=a,a=void 0),N||A===Be.Pop||(A===Be.Push?t.history.push(O,O.state):A===Be.Replace&&t.history.replace(O,O.state));let _e;if(A===Be.Pop){let Ee=D.get(k.location.pathname);Ee&&Ee.has(O.pathname)?_e={currentLocation:k.location,nextLocation:O}:D.has(O.pathname)&&(_e={currentLocation:O,nextLocation:k.location})}else if(P){let Ee=D.get(k.location.pathname);Ee?Ee.add(O.pathname):(Ee=new Set([O.pathname]),D.set(k.location.pathname,Ee)),_e={currentLocation:k.location,nextLocation:O}}st($e({},M,{actionData:J,loaderData:Z,historyAction:A,location:O,initialized:!0,navigation:Vf,revalidation:"idle",restoreScrollPosition:Oa(O,M.matches||k.matches),preventScrollReset:re,blockers:G}),{viewTransitionOpts:_e,flushSync:ie===!0}),A=Be.Pop,E=!1,P=!1,N=!1,Te=!1,dt=[]}async function ur(O,M){if(typeof O=="number"){t.history.go(O);return}let F=rm(k.location,k.matches,l,h.v7_prependBasename,O,h.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:$,submission:Y,error:ie}=mw(h.v7_normalizeFormMethod,!1,F,M),ue=k.location,J=$s(k.location,$,M&&M.state);J=$e({},J,t.history.encodeLocation(J));let Z=M&&M.replace!=null?M.replace:void 0,G=Be.Push;Z===!0?G=Be.Replace:Z===!1||Y!=null&&Qn(Y.formMethod)&&Y.formAction===k.location.pathname+k.location.search&&(G=Be.Replace);let re=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,_e=(M&&M.flushSync)===!0,Ee=Na({currentLocation:ue,nextLocation:J,historyAction:G});if(Ee){ui(Ee,{state:"blocked",location:J,proceed(){ui(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),ur(O,M)},reset(){let Fe=new Map(k.blockers);Fe.set(Ee,go),st({blockers:Fe})}});return}return await ke(G,J,{submission:Y,pendingError:ie,preventScrollReset:re,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:_e})}function cr(){if(ht(),st({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){ke(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}ke(A||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:P===!0})}}async function ke(O,M,F){x&&x.abort(),x=null,A=O,N=(F&&F.startUninterruptedRevalidation)===!0,kr(k.location,k.matches),E=(F&&F.preventScrollReset)===!0,P=(F&&F.enableViewTransition)===!0;let $=a||o,Y=F&&F.overrideNavigation,ie=Ri($,M,l),ue=(F&&F.flushSync)===!0,J=Nr(ie,$,M.pathname);if(J.active&&J.matches&&(ie=J.matches),!ie){let{error:De,notFoundMatches:Ae,route:Ue}=so(M.pathname);hn(M,{matches:Ae,loaderData:{},errors:{[Ue.id]:De}},{flushSync:ue});return}if(k.initialized&&!Te&&QN(k.location,M)&&!(F&&F.submission&&Qn(F.submission.formMethod))){hn(M,{matches:ie},{flushSync:ue});return}x=new AbortController;let Z=fo(t.history,M,x.signal,F&&F.submission),G;if(F&&F.pendingError)G=[Rs(ie).route.id,{type:je.error,error:F.pendingError}];else if(F&&F.submission&&Qn(F.submission.formMethod)){let De=await ds(Z,M,F.submission,ie,J.active,{replace:F.replace,flushSync:ue});if(De.shortCircuited)return;if(De.pendingActionResult){let[Ae,Ue]=De.pendingActionResult;if(mn(Ue)&&hu(Ue.error)&&Ue.error.status===404){x=null,hn(M,{matches:De.matches,loaderData:{},errors:{[Ae]:Ue.error}});return}}ie=De.matches||ie,G=De.pendingActionResult,Y=Ff(M,F.submission),ue=!1,J.active=!1,Z=fo(t.history,Z.url,Z.signal)}let{shortCircuited:re,matches:_e,loaderData:Ee,errors:Fe}=await hs(Z,M,ie,J.active,Y,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,ue,G);re||(x=null,hn(M,$e({matches:_e||ie},Iw(G),{loaderData:Ee,errors:Fe})))}async function ds(O,M,F,$,Y,ie){ie===void 0&&(ie={}),ht();let ue=tb(M,F);if(st({navigation:ue},{flushSync:ie.flushSync===!0}),Y){let G=await ps($,M.pathname,O.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){let re=Rs(G.partialMatches).route.id;return{matches:G.partialMatches,pendingActionResult:[re,{type:je.error,error:G.error}]}}else if(G.matches)$=G.matches;else{let{notFoundMatches:re,error:_e,route:Ee}=so(M.pathname);return{matches:re,pendingActionResult:[Ee.id,{type:je.error,error:_e}]}}}let J,Z=il($,M);if(!Z.route.action&&!Z.route.lazy)J={type:je.error,error:Jt(405,{method:O.method,pathname:M.pathname,routeId:Z.route.id})};else if(J=(await xr("action",k,O,[Z],$,null))[Z.route.id],O.signal.aborted)return{shortCircuited:!0};if(ks(J)){let G;return ie&&ie.replace!=null?G=ie.replace:G=ww(J.response.headers.get("Location"),new URL(O.url),l)===k.location.pathname+k.location.search,await zn(O,J,!0,{submission:F,replace:G}),{shortCircuited:!0}}if(bi(J))throw Jt(400,{type:"defer-action"});if(mn(J)){let G=Rs($,Z.route.id);return(ie&&ie.replace)!==!0&&(A=Be.Push),{matches:$,pendingActionResult:[G.route.id,J]}}return{matches:$,pendingActionResult:[Z.route.id,J]}}async function hs(O,M,F,$,Y,ie,ue,J,Z,G,re){let _e=Y||Ff(M,ie),Ee=ie||ue||Aw(_e),Fe=!N&&(!h.v7_partialHydration||!Z);if($){if(Fe){let Ye=Ou(re);st($e({navigation:_e},Ye!==void 0?{actionData:Ye}:{}),{flushSync:G})}let Ie=await ps(F,M.pathname,O.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let Ye=Rs(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,loaderData:{},errors:{[Ye]:Ie.error}}}else if(Ie.matches)F=Ie.matches;else{let{error:Ye,notFoundMatches:br,route:fi}=so(M.pathname);return{matches:br,loaderData:{},errors:{[fi.id]:Ye}}}}let De=a||o,[Ae,Ue]=yw(t.history,k,F,Ee,M,h.v7_partialHydration&&Z===!0,h.v7_skipActionErrorRevalidation,Te,dt,Ze,Pe,ve,ye,De,l,re);if(Pr(Ie=>!(F&&F.some(Ye=>Ye.route.id===Ie))||Ae&&Ae.some(Ye=>Ye.route.id===Ie)),ne=++W,Ae.length===0&&Ue.length===0){let Ie=ka();return hn(M,$e({matches:F,loaderData:{},errors:re&&mn(re[1])?{[re[0]]:re[1].error}:null},Iw(re),Ie?{fetchers:new Map(k.fetchers)}:{}),{flushSync:G}),{shortCircuited:!0}}if(Fe){let Ie={};if(!$){Ie.navigation=_e;let Ye=Ou(re);Ye!==void 0&&(Ie.actionData=Ye)}Ue.length>0&&(Ie.fetchers=Du(Ue)),st(Ie,{flushSync:G})}Ue.forEach(Ie=>{Xt(Ie.key),Ie.controller&&we.set(Ie.key,Ie.controller)});let dr=()=>Ue.forEach(Ie=>Xt(Ie.key));x&&x.signal.addEventListener("abort",dr);let{loaderResults:ci,fetcherResults:An}=await Aa(k,F,Ae,Ue,O);if(O.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",dr),Ue.forEach(Ie=>we.delete(Ie.key));let xn=fc(ci);if(xn)return await zn(O,xn.result,!0,{replace:J}),{shortCircuited:!0};if(xn=fc(An),xn)return ye.add(xn.key),await zn(O,xn.result,!0,{replace:J}),{shortCircuited:!0};let{loaderData:di,errors:hi}=Tw(k,F,ci,re,Ue,An,He);He.forEach((Ie,Ye)=>{Ie.subscribe(br=>{(br||Ie.done)&&He.delete(Ye)})}),h.v7_partialHydration&&Z&&k.errors&&(hi=$e({},k.errors,hi));let Hn=ka(),hr=io(ne),Pn=Hn||hr||Ue.length>0;return $e({matches:F,loaderData:di,errors:hi},Pn?{fetchers:new Map(k.fetchers)}:{})}function Ou(O){if(O&&!mn(O[1]))return{[O[0]]:O[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Du(O){return O.forEach(M=>{let F=k.fetchers.get(M.key),$=Qa(void 0,F?F.data:void 0);k.fetchers.set(M.key,$)}),new Map(k.fetchers)}function Ca(O,M,F,$){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Xt(O);let Y=($&&$.flushSync)===!0,ie=a||o,ue=rm(k.location,k.matches,l,h.v7_prependBasename,F,h.v7_relativeSplatPath,M,$==null?void 0:$.relative),J=Ri(ie,ue,l),Z=Nr(J,ie,ue);if(Z.active&&Z.matches&&(J=Z.matches),!J){Yt(O,M,Jt(404,{pathname:ue}),{flushSync:Y});return}let{path:G,submission:re,error:_e}=mw(h.v7_normalizeFormMethod,!0,ue,$);if(_e){Yt(O,M,_e,{flushSync:Y});return}let Ee=il(J,G),Fe=($&&$.preventScrollReset)===!0;if(re&&Qn(re.formMethod)){Lu(O,M,G,Ee,J,Z.active,Y,Fe,re);return}ve.set(O,{routeId:M,path:G}),nf(O,M,G,Ee,J,Z.active,Y,Fe,re)}async function Lu(O,M,F,$,Y,ie,ue,J,Z){ht(),ve.delete(O);function G(et){if(!et.route.action&&!et.route.lazy){let fr=Jt(405,{method:Z.formMethod,pathname:F,routeId:M});return Yt(O,M,fr,{flushSync:ue}),!0}return!1}if(!ie&&G($))return;let re=k.fetchers.get(O);Qe(O,nb(Z,re),{flushSync:ue});let _e=new AbortController,Ee=fo(t.history,F,_e.signal,Z);if(ie){let et=await ps(Y,F,Ee.signal);if(et.type==="aborted")return;if(et.type==="error"){Yt(O,M,et.error,{flushSync:ue});return}else if(et.matches){if(Y=et.matches,$=il(Y,F),G($))return}else{Yt(O,M,Jt(404,{pathname:F}),{flushSync:ue});return}}we.set(O,_e);let Fe=W,Ae=(await xr("action",k,Ee,[$],Y,O))[$.route.id];if(Ee.signal.aborted){we.get(O)===_e&&we.delete(O);return}if(h.v7_fetcherPersist&&Pe.has(O)){if(ks(Ae)||mn(Ae)){Qe(O,_i(void 0));return}}else{if(ks(Ae))if(we.delete(O),ne>Fe){Qe(O,_i(void 0));return}else return ye.add(O),Qe(O,Qa(Z)),zn(Ee,Ae,!1,{fetcherSubmission:Z,preventScrollReset:J});if(mn(Ae)){Yt(O,M,Ae.error);return}}if(bi(Ae))throw Jt(400,{type:"defer-action"});let Ue=k.navigation.location||k.location,dr=fo(t.history,Ue,_e.signal),ci=a||o,An=k.navigation.state!=="idle"?Ri(ci,k.navigation.location,l):k.matches;le(An,"Didn't find any matches after fetcher action");let xn=++W;se.set(O,xn);let di=Qa(Z,Ae.data);k.fetchers.set(O,di);let[hi,Hn]=yw(t.history,k,An,Z,Ue,!1,h.v7_skipActionErrorRevalidation,Te,dt,Ze,Pe,ve,ye,ci,l,[$.route.id,Ae]);Hn.filter(et=>et.key!==O).forEach(et=>{let fr=et.key,ao=k.fetchers.get(fr),Vu=Qa(void 0,ao?ao.data:void 0);k.fetchers.set(fr,Vu),Xt(fr),et.controller&&we.set(fr,et.controller)}),st({fetchers:new Map(k.fetchers)});let hr=()=>Hn.forEach(et=>Xt(et.key));_e.signal.addEventListener("abort",hr);let{loaderResults:Pn,fetcherResults:Ie}=await Aa(k,An,hi,Hn,dr);if(_e.signal.aborted)return;_e.signal.removeEventListener("abort",hr),se.delete(O),we.delete(O),Hn.forEach(et=>we.delete(et.key));let Ye=fc(Pn);if(Ye)return zn(dr,Ye.result,!1,{preventScrollReset:J});if(Ye=fc(Ie),Ye)return ye.add(Ye.key),zn(dr,Ye.result,!1,{preventScrollReset:J});let{loaderData:br,errors:fi}=Tw(k,An,Pn,void 0,Hn,Ie,He);if(k.fetchers.has(O)){let et=_i(Ae.data);k.fetchers.set(O,et)}io(xn),k.navigation.state==="loading"&&xn>ne?(le(A,"Expected pending action"),x&&x.abort(),hn(k.navigation.location,{matches:An,loaderData:br,errors:fi,fetchers:new Map(k.fetchers)})):(st({errors:fi,loaderData:Sw(k.loaderData,br,An,fi),fetchers:new Map(k.fetchers)}),Te=!1)}async function nf(O,M,F,$,Y,ie,ue,J,Z){let G=k.fetchers.get(O);Qe(O,Qa(Z,G?G.data:void 0),{flushSync:ue});let re=new AbortController,_e=fo(t.history,F,re.signal);if(ie){let Ae=await ps(Y,F,_e.signal);if(Ae.type==="aborted")return;if(Ae.type==="error"){Yt(O,M,Ae.error,{flushSync:ue});return}else if(Ae.matches)Y=Ae.matches,$=il(Y,F);else{Yt(O,M,Jt(404,{pathname:F}),{flushSync:ue});return}}we.set(O,re);let Ee=W,De=(await xr("loader",k,_e,[$],Y,O))[$.route.id];if(bi(De)&&(De=await Xg(De,_e.signal,!0)||De),we.get(O)===re&&we.delete(O),!_e.signal.aborted){if(Pe.has(O)){Qe(O,_i(void 0));return}if(ks(De))if(ne>Ee){Qe(O,_i(void 0));return}else{ye.add(O),await zn(_e,De,!1,{preventScrollReset:J});return}if(mn(De)){Yt(O,M,De.error);return}le(!bi(De),"Unhandled fetcher deferred data"),Qe(O,_i(De.data))}}async function zn(O,M,F,$){let{submission:Y,fetcherSubmission:ie,preventScrollReset:ue,replace:J}=$===void 0?{}:$;M.response.headers.has("X-Remix-Revalidate")&&(Te=!0);let Z=M.response.headers.get("Location");le(Z,"Expected a Location header on the redirect Response"),Z=ww(Z,new URL(O.url),l);let G=$s(k.location,Z,{_isRedirect:!0});if(n){let Ae=!1;if(M.response.headers.has("X-Remix-Reload-Document"))Ae=!0;else if(Qg.test(Z)){const Ue=t.history.createURL(Z);Ae=Ue.origin!==e.location.origin||cn(Ue.pathname,l)==null}if(Ae){J?e.location.replace(Z):e.location.assign(Z);return}}x=null;let re=J===!0||M.response.headers.has("X-Remix-Replace")?Be.Replace:Be.Push,{formMethod:_e,formAction:Ee,formEncType:Fe}=k.navigation;!Y&&!ie&&_e&&Ee&&Fe&&(Y=Aw(k.navigation));let De=Y||ie;if(VN.has(M.response.status)&&De&&Qn(De.formMethod))await ke(re,G,{submission:$e({},De,{formAction:Z}),preventScrollReset:ue||E,enableViewTransition:F?P:void 0});else{let Ae=Ff(G,Y);await ke(re,G,{overrideNavigation:Ae,fetcherSubmission:ie,preventScrollReset:ue||E,enableViewTransition:F?P:void 0})}}async function xr(O,M,F,$,Y,ie){let ue,J={};try{ue=await HN(c,O,M,F,$,Y,ie,s,i)}catch(Z){return $.forEach(G=>{J[G.route.id]={type:je.error,error:Z}}),J}for(let[Z,G]of Object.entries(ue))if(YN(G)){let re=G.result;J[Z]={type:je.redirect,response:qN(re,F,Z,Y,l,h.v7_relativeSplatPath)}}else J[Z]=await KN(G);return J}async function Aa(O,M,F,$,Y){let ie=O.matches,ue=xr("loader",O,Y,F,M,null),J=Promise.all($.map(async re=>{if(re.matches&&re.match&&re.controller){let Ee=(await xr("loader",O,fo(t.history,re.path,re.controller.signal),[re.match],re.matches,re.key))[re.match.route.id];return{[re.key]:Ee}}else return Promise.resolve({[re.key]:{type:je.error,error:Jt(404,{pathname:re.path})}})})),Z=await ue,G=(await J).reduce((re,_e)=>Object.assign(re,_e),{});return await Promise.all([ZN(M,Z,Y.signal,ie,O.loaderData),eb(M,G,$)]),{loaderResults:Z,fetcherResults:G}}function ht(){Te=!0,dt.push(...Pr()),ve.forEach((O,M)=>{we.has(M)&&Ze.add(M),Xt(M)})}function Qe(O,M,F){F===void 0&&(F={}),k.fetchers.set(O,M),st({fetchers:new Map(k.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Yt(O,M,F,$){$===void 0&&($={});let Y=Rs(k.matches,M);fs(O),st({errors:{[Y.route.id]:F},fetchers:new Map(k.fetchers)},{flushSync:($&&$.flushSync)===!0})}function xa(O){return h.v7_fetcherPersist&&(me.set(O,(me.get(O)||0)+1),Pe.has(O)&&Pe.delete(O)),k.fetchers.get(O)||o1}function fs(O){let M=k.fetchers.get(O);we.has(O)&&!(M&&M.state==="loading"&&se.has(O))&&Xt(O),ve.delete(O),se.delete(O),ye.delete(O),Pe.delete(O),Ze.delete(O),k.fetchers.delete(O)}function rf(O){if(h.v7_fetcherPersist){let M=(me.get(O)||0)-1;M<=0?(me.delete(O),Pe.add(O)):me.set(O,M)}else fs(O);st({fetchers:new Map(k.fetchers)})}function Xt(O){let M=we.get(O);M&&(M.abort(),we.delete(O))}function Pa(O){for(let M of O){let F=xa(M),$=_i(F.data);k.fetchers.set(M,$)}}function ka(){let O=[],M=!1;for(let F of ye){let $=k.fetchers.get(F);le($,"Expected fetcher: "+F),$.state==="loading"&&(ye.delete(F),O.push(F),M=!0)}return Pa(O),M}function io(O){let M=[];for(let[F,$]of se)if($<O){let Y=k.fetchers.get(F);le(Y,"Expected fetcher: "+F),Y.state==="loading"&&(Xt(F),se.delete(F),M.push(F))}return Pa(M),M.length>0}function sf(O,M){let F=k.blockers.get(O)||go;return gt.get(O)!==M&&gt.set(O,M),F}function Mu(O){k.blockers.delete(O),gt.delete(O)}function ui(O,M){let F=k.blockers.get(O)||go;le(F.state==="unblocked"&&M.state==="blocked"||F.state==="blocked"&&M.state==="blocked"||F.state==="blocked"&&M.state==="proceeding"||F.state==="blocked"&&M.state==="unblocked"||F.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+M.state);let $=new Map(k.blockers);$.set(O,M),st({blockers:$})}function Na(O){let{currentLocation:M,nextLocation:F,historyAction:$}=O;if(gt.size===0)return;gt.size>1&&Jr(!1,"A router only supports one blocker at a time");let Y=Array.from(gt.entries()),[ie,ue]=Y[Y.length-1],J=k.blockers.get(ie);if(!(J&&J.state==="proceeding")&&ue({currentLocation:M,nextLocation:F,historyAction:$}))return ie}function so(O){let M=Jt(404,{pathname:O}),F=a||o,{matches:$,route:Y}=Rw(F);return Pr(),{notFoundMatches:$,route:Y,error:M}}function Pr(O){let M=[];return He.forEach((F,$)=>{(!O||O($))&&(F.cancel(),M.push($),He.delete($))}),M}function ba(O,M,F){if(w=O,T=M,R=F||null,!I&&k.navigation===Vf){I=!0;let $=Oa(k.location,k.matches);$!=null&&st({restoreScrollPosition:$})}return()=>{w=null,T=null,R=null}}function oo(O,M){return R&&R(O,M.map($=>ZS($,k.loaderData)))||O.key}function kr(O,M){if(w&&T){let F=oo(O,M);w[F]=T()}}function Oa(O,M){if(w){let F=oo(O,M),$=w[F];if(typeof $=="number")return $}return null}function Nr(O,M,F){if(d)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:Vc(M,F,l,!0)}}else return{active:!0,matches:Vc(M,F,l,!0)||[]};return{active:!1,matches:null}}async function ps(O,M,F){if(!d)return{type:"success",matches:O};let $=O;for(;;){let Y=a==null,ie=a||o,ue=s;try{await d({path:M,matches:$,patch:(G,re)=>{F.aborted||_w(G,re,ie,ue,i)}})}catch(G){return{type:"error",error:G,partialMatches:$}}finally{Y&&!F.aborted&&(o=[...o])}if(F.aborted)return{type:"aborted"};let J=Ri(ie,M,l);if(J)return{type:"success",matches:J};let Z=Vc(ie,M,l,!0);if(!Z||$.length===Z.length&&$.every((G,re)=>G.route.id===Z[re].route.id))return{type:"success",matches:null};$=Z}}function ms(O){s={},a=Ed(O,i,void 0,s)}function ju(O,M){let F=a==null;_w(O,M,a||o,s,i),F&&(o=[...o],st({}))}return V={get basename(){return l},get future(){return h},get state(){return k},get routes(){return o},get window(){return e},initialize:Ra,subscribe:lr,enableScrollRestoration:ba,navigate:ur,fetch:Ca,revalidate:cr,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:xa,deleteFetcher:rf,dispose:cs,getBlocker:sf,deleteBlocker:Mu,patchRoutes:ju,_internalFetchControllers:we,_internalActiveDeferreds:He,_internalSetRoutes:ms},V}function UN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function rm(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let d=wh(i||".",_h(l,s),cn(t.pathname,n)||t.pathname,a==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c){let h=Jg(d.search);if(c.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let p=new URLSearchParams(d.search),g=p.getAll("index");p.delete("index"),g.filter(R=>R).forEach(R=>p.append("index",R));let w=p.toString();d.search=w?"?"+w:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:wr([n,d.pathname])),ir(d)}function mw(t,e,n,r){if(!r||!UN(r))return{path:n};if(r.formMethod&&!JN(r.formMethod))return{path:n,error:Jt(405,{method:r.formMethod})};let i=()=>({path:n,error:Jt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=c1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Qn(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[R,T]=w;return""+g+R+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Qn(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}le(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=sm(r.formData),c=r.formData;else if(r.body instanceof FormData)l=sm(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Ew(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Ew(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Qn(d.formMethod))return{path:n,submission:d};let h=Bn(n);return e&&h.search&&Jg(h.search)&&l.append("index",""),h.search="?"+l,{path:ir(h),submission:d}}function gw(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function yw(t,e,n,r,i,s,o,a,l,c,d,h,p,g,w,R){let T=R?mn(R[1])?R[1].error:R[1].data:void 0,I=t.createURL(e.location),_=t.createURL(i),S=n;s&&e.errors?S=gw(n,Object.keys(e.errors)[0],!0):R&&mn(R[1])&&(S=gw(n,R[0]));let b=R?R[1].statusCode:void 0,V=o&&b&&b>=400,k=S.filter((E,x)=>{let{route:P}=E;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return im(P,e.loaderData,e.errors);if(BN(e.loaderData,e.matches[x],E)||l.some(N=>N===E.route.id))return!0;let D=e.matches[x],L=E;return vw(E,$e({currentUrl:I,currentParams:D.params,nextUrl:_,nextParams:L.params},r,{actionResult:T,actionStatus:b,defaultShouldRevalidate:V?!1:a||I.pathname+I.search===_.pathname+_.search||I.search!==_.search||l1(D,L)}))}),A=[];return h.forEach((E,x)=>{if(s||!n.some(Te=>Te.route.id===E.routeId)||d.has(x))return;let P=Ri(g,E.path,w);if(!P){A.push({key:x,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(x),L=il(P,E.path),N=!1;p.has(x)?N=!1:c.has(x)?(c.delete(x),N=!0):D&&D.state!=="idle"&&D.data===void 0?N=a:N=vw(L,$e({currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:T,actionStatus:b,defaultShouldRevalidate:V?!1:a})),N&&A.push({key:x,routeId:E.routeId,path:E.path,matches:P,match:L,controller:new AbortController})}),[k,A]}function im(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function BN(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function l1(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function vw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function _w(t,e,n,r,i){var s;let o;if(t){let c=r[t];le(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(d=>u1(c,d))),l=Ed(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function u1(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>u1(n,s))}):!1}async function $N(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];le(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Jr(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!uN.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,$e({},e(i),{lazy:void 0}))}async function zN(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function HN(t,e,n,r,i,s,o,a,l,c){let d=s.map(g=>g.route.lazy?$N(g.route,l,a):void 0),h=s.map((g,w)=>{let R=d[w],T=i.some(_=>_.route.id===g.route.id);return $e({},g,{shouldLoad:T,resolve:async _=>(_&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(T=!0),T?WN(e,r,g,R,_,c):Promise.resolve({type:je.data,result:void 0}))})}),p=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return p}async function WN(t,e,n,r,i,s){let o,a,l=c=>{let d,h=new Promise((w,R)=>d=R);a=()=>d(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(i?i(R=>p(R)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,h])};try{let c=n.route[t];if(r)if(c){let d,[h]=await Promise.all([l(c).catch(p=>{d=p}),r]);if(d!==void 0)throw d;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw Jt(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:je.data,result:void 0};else if(c)o=await l(c);else{let d=new URL(e.url),h=d.pathname+d.search;throw Jt(404,{pathname:h})}le(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:je.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function KN(t){let{result:e,type:n}=t;if(d1(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:je.error,error:d}}return n===je.error?{type:je.error,error:new Hl(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:je.data,data:c,statusCode:e.status,headers:e.headers}}if(n===je.error){if(Cw(e)){var r;if(e.data instanceof Error){var i;return{type:je.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Hl(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:je.error,error:e,statusCode:hu(e)?e.status:void 0}}if(XN(e)){var s,o;return{type:je.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Cw(e)){var a,l;return{type:je.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:je.data,data:e}}function qN(t,e,n,r,i,s){let o=t.headers.get("Location");if(le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Qg.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=rm(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function ww(t,e,n){if(Qg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=cn(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function fo(t,e,n,r){let i=t.createURL(c1(e)).toString(),s={signal:n};if(r&&Qn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=sm(r.formData):s.body=r.formData}return new Request(i,s)}function sm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Ew(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function GN(t,e,n,r,i){let s={},o=null,a,l=!1,c={},d=n&&mn(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,g=e[p];if(le(!ks(g),"Cannot handle redirect results in processLoaderData"),mn(g)){let w=g.error;d!==void 0&&(w=d,d=void 0),o=o||{};{let R=Rs(t,p);o[R.route.id]==null&&(o[R.route.id]=w)}s[p]=void 0,l||(l=!0,a=hu(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else bi(g)?(r.set(p,g.deferredData),s[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(s[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function Tw(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=GN(e,n,r,o);return i.forEach(c=>{let{key:d,match:h,controller:p}=c,g=s[d];if(le(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(mn(g)){let w=Rs(t.matches,h==null?void 0:h.route.id);l&&l[w.route.id]||(l=$e({},l,{[w.route.id]:g.error})),t.fetchers.delete(d)}else if(ks(g))le(!1,"Unhandled fetcher revalidation redirect");else if(bi(g))le(!1,"Unhandled fetcher deferred data");else{let w=_i(g.data);t.fetchers.set(d,w)}}),{loaderData:a,errors:l}}function Sw(t,e,n,r){let i=$e({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Iw(t){return t?mn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Rs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Rw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Jt(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Hl(t||500,a,new Error(l),!0)}function fc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ks(i))return{key:r,result:i}}}function c1(t){let e=typeof t=="string"?Bn(t):t;return ir($e({},e,{hash:""}))}function QN(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function YN(t){return d1(t.result)&&jN.has(t.result.status)}function bi(t){return t.type===je.deferred}function mn(t){return t.type===je.error}function ks(t){return(t&&t.type)===je.redirect}function Cw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function XN(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function d1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function JN(t){return MN.has(t.toLowerCase())}function Qn(t){return DN.has(t.toLowerCase())}async function ZN(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let d=r.find(p=>p.route.id===c.route.id),h=d!=null&&!l1(d,c)&&(i&&i[c.route.id])!==void 0;bi(l)&&h&&await Xg(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function eb(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&bi(a)&&(le(o,"Expected an AbortController for revalidating fetcher deferred result"),await Xg(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Xg(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:je.data,data:t.deferredData.unwrappedData}}catch(i){return{type:je.error,error:i}}return{type:je.data,data:t.deferredData.data}}}function Jg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function il(t,e){let n=typeof e=="string"?Bn(e).search:e.search;if(t[t.length-1].route.index&&Jg(n||""))return t[t.length-1];let r=i1(t);return r[r.length-1]}function Aw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Ff(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Qa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function nb(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function _i(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function rb(t,e){try{let n=t.sessionStorage.getItem(a1);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function ib(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(a1,JSON.stringify(n))}catch(r){Jr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xi.apply(this,arguments)}const da=y.createContext(null),fu=y.createContext(null),Sd=y.createContext(null),Rn=y.createContext(null),ha=y.createContext(null),Cn=y.createContext({outlet:null,matches:[],isDataRoute:!1}),h1=y.createContext(null);function f1(t,e){let{relative:n}=e===void 0?{}:e;ss()||le(!1);let{basename:r,navigator:i}=y.useContext(Rn),{hash:s,pathname:o,search:a}=fa(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:wr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ss(){return y.useContext(ha)!=null}function $n(){return ss()||le(!1),y.useContext(ha).location}function sb(){return y.useContext(ha).navigationType}function ob(t){ss()||le(!1);let{pathname:e}=$n();return y.useMemo(()=>Xo(t,n1(e)),[e,t])}function p1(t){y.useContext(Rn).static||y.useLayoutEffect(t)}function eo(){let{isDataRoute:t}=y.useContext(Cn);return t?Eb():ab()}function ab(){ss()||le(!1);let t=y.useContext(da),{basename:e,future:n,navigator:r}=y.useContext(Rn),{matches:i}=y.useContext(Cn),{pathname:s}=$n(),o=JSON.stringify(_h(i,n.v7_relativeSplatPath)),a=y.useRef(!1);return p1(()=>{a.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=wh(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:wr([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const m1=y.createContext(null);function lb(){return y.useContext(m1)}function g1(t){let e=y.useContext(Cn).outlet;return e&&y.createElement(m1.Provider,{value:t},e)}function ub(){let{matches:t}=y.useContext(Cn),e=t[t.length-1];return e?e.params:{}}function fa(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Rn),{matches:i}=y.useContext(Cn),{pathname:s}=$n(),o=JSON.stringify(_h(i,r.v7_relativeSplatPath));return y.useMemo(()=>wh(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function y1(t,e){return v1(t,e)}function v1(t,e,n,r){ss()||le(!1);let{navigator:i}=y.useContext(Rn),{matches:s}=y.useContext(Cn),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=$n(),d;if(e){var h;let T=typeof e=="string"?Bn(e):e;l==="/"||(h=T.pathname)!=null&&h.startsWith(l)||le(!1),d=T}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let T=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=Ri(t,{pathname:g}),R=_1(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:wr([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:wr([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&R?y.createElement(ha.Provider,{value:{location:Xi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Be.Pop}},R):R}function cb(){let t=S1(),e=hu(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,null)}const db=y.createElement(cb,null);class hb extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Cn.Provider,{value:this.props.routeContext},y.createElement(h1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fb(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(da);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Cn.Provider,{value:e},r)}function _1(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||le(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:g}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,w=!1,R=null,T=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,R=h.route.errorElement||db,l&&(c<0&&p===0?(w=!0,T=null):c===p&&(w=!0,T=h.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,p+1)),_=()=>{let S;return g?S=R:w?S=T:h.route.Component?S=y.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,y.createElement(fb,{match:h,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(hb,{location:n.location,revalidation:n.revalidation,component:R,error:g,children:_(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):_()},null)}var Eh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Eh||{}),dn=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dn||{});function Zg(t){let e=y.useContext(da);return e||le(!1),e}function os(t){let e=y.useContext(fu);return e||le(!1),e}function pb(t){let e=y.useContext(Cn);return e||le(!1),e}function pu(t){let e=pb(),n=e.matches[e.matches.length-1];return n.route.id||le(!1),n.route.id}function w1(){return pu(dn.UseRouteId)}function E1(){return os(dn.UseNavigation).navigation}function mb(){let t=Zg(Eh.UseRevalidator),e=os(dn.UseRevalidator);return y.useMemo(()=>({revalidate:t.router.revalidate,state:e.revalidation}),[t.router.revalidate,e.revalidation])}function T1(){let{matches:t,loaderData:e}=os(dn.UseMatches);return y.useMemo(()=>t.map(n=>ZS(n,e)),[t,e])}function gb(){let t=os(dn.UseLoaderData),e=pu(dn.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function yb(t){return os(dn.UseRouteLoaderData).loaderData[t]}function vb(){let t=os(dn.UseActionData),e=pu(dn.UseLoaderData);return t.actionData?t.actionData[e]:void 0}function S1(){var t;let e=y.useContext(h1),n=os(dn.UseRouteError),r=pu(dn.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function I1(){let t=y.useContext(Sd);return t==null?void 0:t._data}function _b(){let t=y.useContext(Sd);return t==null?void 0:t._error}let wb=0;function R1(t){let{router:e,basename:n}=Zg(Eh.UseBlocker),r=os(dn.UseBlocker),[i,s]=y.useState(""),o=y.useCallback(a=>{if(typeof t!="function")return!!t;if(n==="/")return t(a);let{currentLocation:l,nextLocation:c,historyAction:d}=a;return t({currentLocation:Xi({},l,{pathname:cn(l.pathname,n)||l.pathname}),nextLocation:Xi({},c,{pathname:cn(c.pathname,n)||c.pathname}),historyAction:d})},[n,t]);return y.useEffect(()=>{let a=String(++wb);return s(a),()=>e.deleteBlocker(a)},[e]),y.useEffect(()=>{i!==""&&e.getBlocker(i,o)},[e,i,o]),i&&r.blockers.has(i)?r.blockers.get(i):go}function Eb(){let{router:t}=Zg(Eh.UseNavigateStable),e=pu(dn.UseNavigateStable),n=y.useRef(!1);return p1(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xi({fromRouteId:e},s)))},[t,e])}const Tb="startTransition",xw=Cl[Tb];function Sb(t){let{basename:e,children:n,initialEntries:r,initialIndex:i,future:s}=t,o=y.useRef();o.current==null&&(o.current=QS({initialEntries:r,initialIndex:i,v5Compat:!0}));let a=o.current,[l,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:d}=s||{},h=y.useCallback(p=>{d&&xw?xw(()=>c(p)):c(p)},[c,d]);return y.useLayoutEffect(()=>a.listen(h),[a,h]),y.createElement(pa,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}function C1(t){let{to:e,replace:n,state:r,relative:i}=t;ss()||le(!1);let{future:s,static:o}=y.useContext(Rn),{matches:a}=y.useContext(Cn),{pathname:l}=$n(),c=eo(),d=wh(e,_h(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function ey(t){return g1(t.context)}function Nn(t){le(!1)}function pa(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Be.Pop,navigator:s,static:o=!1,future:a}=t;ss()&&le(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:s,static:o,future:Xi({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Bn(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:w="default"}=r,R=y.useMemo(()=>{let T=cn(d,l);return T==null?null:{location:{pathname:T,search:h,hash:p,state:g,key:w},navigationType:i}},[l,d,h,p,g,w,i]);return R==null?null:y.createElement(Rn.Provider,{value:c},y.createElement(ha.Provider,{children:n,value:R}))}function A1(t){let{children:e,location:n}=t;return y1(Wl(e),n)}function Ib(t){let{children:e,errorElement:n,resolve:r}=t;return y.createElement(Cb,{resolve:r,errorElement:n},y.createElement(Ab,null,e))}var kn=function(t){return t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error",t}(kn||{});const Rb=new Promise(()=>{});class Cb extends y.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){console.error("<Await> caught the following error during render",e,n)}render(){let{children:e,errorElement:n,resolve:r}=this.props,i=null,s=kn.pending;if(!(r instanceof Promise))s=kn.success,i=Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>r});else if(this.state.error){s=kn.error;let o=this.state.error;i=Promise.reject().catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>o})}else r._tracked?(i=r,s="_error"in i?kn.error:"_data"in i?kn.success:kn.pending):(s=kn.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),i=r.then(o=>Object.defineProperty(r,"_data",{get:()=>o}),o=>Object.defineProperty(r,"_error",{get:()=>o})));if(s===kn.error&&i._error instanceof Td)throw Rb;if(s===kn.error&&!n)throw i._error;if(s===kn.error)return y.createElement(Sd.Provider,{value:i,children:n});if(s===kn.success)return y.createElement(Sd.Provider,{value:i,children:e});throw i}}function Ab(t){let{children:e}=t,n=I1(),r=typeof e=="function"?e(n):e;return y.createElement(y.Fragment,null,r)}function Wl(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,Wl(r.props.children,s));return}r.type!==Nn&&le(!1),!r.props.index||!r.props.children||le(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wl(r.props.children,s)),n.push(o)}),n}function xb(t){return _1(t)}function ty(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:y.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:y.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:y.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}function Pb(t,e){return Yg({basename:e==null?void 0:e.basename,future:Xi({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:QS({initialEntries:e==null?void 0:e.initialEntries,initialIndex:e==null?void 0:e.initialIndex}),hydrationData:e==null?void 0:e.hydrationData,routes:t,mapRouteProperties:ty,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation}).initialize()}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function an(){return an=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},an.apply(this,arguments)}function ny(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Fc="get",Uf="application/x-www-form-urlencoded";function Th(t){return t!=null&&typeof t.tagName=="string"}function kb(t){return Th(t)&&t.tagName.toLowerCase()==="button"}function Nb(t){return Th(t)&&t.tagName.toLowerCase()==="form"}function bb(t){return Th(t)&&t.tagName.toLowerCase()==="input"}function Ob(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Db(t,e){return t.button===0&&(!e||e==="_self")&&!Ob(t)}function Id(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Lb(t,e){let n=Id(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}let pc=null;function Mb(){if(pc===null)try{new FormData(document.createElement("form"),0),pc=!1}catch{pc=!0}return pc}const jb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bf(t){return t!=null&&!jb.has(t)?null:t}function Vb(t,e){let n,r,i,s,o;if(Nb(t)){let a=t.getAttribute("action");r=a?cn(a,e):null,n=t.getAttribute("method")||Fc,i=Bf(t.getAttribute("enctype"))||Uf,s=new FormData(t)}else if(kb(t)||bb(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?cn(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Fc,i=Bf(t.getAttribute("formenctype"))||Bf(a.getAttribute("enctype"))||Uf,s=new FormData(a,t),!Mb()){let{name:c,type:d,value:h}=t;if(d==="image"){let p=c?c+".":"";s.append(p+"x","0"),s.append(p+"y","0")}else c&&s.append(c,h)}}else{if(Th(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fc,r=null,i=Uf,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}const Fb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ub=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Bb=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],$b="6";try{window.__reactRouterVersion=$b}catch{}function zb(t,e){return Yg({basename:e==null?void 0:e.basename,future:an({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:YS({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||x1(),routes:t,mapRouteProperties:ty,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Hb(t,e){return Yg({basename:e==null?void 0:e.basename,future:an({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:XS({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||x1(),routes:t,mapRouteProperties:ty,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function x1(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=an({},e,{errors:Wb(e.errors)})),e}function Wb(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Hl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const ry=y.createContext({isTransitioning:!1}),iy=y.createContext(new Map),Kb="startTransition",Ji=Cl[Kb],qb="flushSync",Pw=Vk[qb],Gb="useId",kw=Cl[Gb];function Qb(t){Ji?Ji(t):t()}function Ya(t){Pw?Pw(t):t()}let Yb=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Xb(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=y.useState(n.state),[o,a]=y.useState(),[l,c]=y.useState({isTransitioning:!1}),[d,h]=y.useState(),[p,g]=y.useState(),[w,R]=y.useState(),T=y.useRef(new Map),{v7_startTransition:I}=r||{},_=y.useCallback(E=>{I?Qb(E):E()},[I]),S=y.useCallback((E,x)=>{let{deletedFetchers:P,flushSync:D,viewTransitionOpts:L}=x;P.forEach(Te=>T.current.delete(Te)),E.fetchers.forEach((Te,dt)=>{Te.data!==void 0&&T.current.set(dt,Te.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!L||N){D?Ya(()=>s(E)):_(()=>s(E));return}if(D){Ya(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let Te=n.window.document.startViewTransition(()=>{Ya(()=>s(E))});Te.finished.finally(()=>{Ya(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),Ya(()=>g(Te));return}p?(d&&d.resolve(),p.skipTransition(),R({state:E,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(E),c({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,p,d,T,_]);y.useLayoutEffect(()=>n.subscribe(S),[n,S]),y.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new Yb)},[l]),y.useEffect(()=>{if(d&&o&&n.window){let E=o,x=d.promise,P=n.window.document.startViewTransition(async()=>{_(()=>s(E)),await x});P.finished.finally(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(P)}},[_,o,d,n.window]),y.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,p,i.location,o]),y.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),R(void 0))},[l.isTransitioning,w]),y.useEffect(()=>{},[]);let b=y.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,x,P)=>n.navigate(E,{state:x,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(E,x,P)=>n.navigate(E,{replace:!0,state:x,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),V=n.basename||"/",k=y.useMemo(()=>({router:n,navigator:b,static:!1,basename:V}),[n,b,V]),A=y.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return y.createElement(y.Fragment,null,y.createElement(da.Provider,{value:k},y.createElement(fu.Provider,{value:i},y.createElement(iy.Provider,{value:T.current},y.createElement(ry.Provider,{value:l},y.createElement(pa,{basename:V,location:i.location,navigationType:i.historyAction,navigator:b,future:A},i.initialized||n.future.v7_partialHydration?y.createElement(Jb,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Jb=y.memo(Zb);function Zb(t){let{routes:e,future:n,state:r}=t;return v1(e,void 0,r,n)}function P1(t){let{basename:e,children:n,future:r,window:i}=t,s=y.useRef();s.current==null&&(s.current=YS({window:i,v5Compat:!0}));let o=s.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=y.useCallback(h=>{c&&Ji?Ji(()=>l(h)):l(h)},[l,c]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.createElement(pa,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}function eO(t){let{basename:e,children:n,future:r,window:i}=t,s=y.useRef();s.current==null&&(s.current=XS({window:i,v5Compat:!0}));let o=s.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=y.useCallback(h=>{c&&Ji?Ji(()=>l(h)):l(h)},[l,c]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.createElement(pa,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}function tO(t){let{basename:e,children:n,future:r,history:i}=t,[s,o]=y.useState({action:i.action,location:i.location}),{v7_startTransition:a}=r||{},l=y.useCallback(c=>{a&&Ji?Ji(()=>o(c)):o(c)},[o,a]);return y.useLayoutEffect(()=>i.listen(l),[i,l]),y.createElement(pa,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:i,future:r})}const nO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,as=y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=ny(e,Fb),{basename:g}=y.useContext(Rn),w,R=!1;if(typeof c=="string"&&rO.test(c)&&(w=c,nO))try{let S=new URL(window.location.href),b=c.startsWith("//")?new URL(S.protocol+c):new URL(c),V=cn(b.pathname,g);b.origin===S.origin&&V!=null?c=V+b.search+b.hash:R=!0}catch{}let T=f1(c,{relative:i}),I=N1(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function _(S){r&&r(S),S.defaultPrevented||I(S)}return y.createElement("a",an({},p,{href:w||T,onClick:R||s?r:_,ref:n,target:l}))}),iO=y.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:d}=e,h=ny(e,Ub),p=fa(l,{relative:h.relative}),g=$n(),w=y.useContext(fu),{navigator:R,basename:T}=y.useContext(Rn),I=w!=null&&L1(p)&&c===!0,_=R.encodeLocation?R.encodeLocation(p).pathname:p.pathname,S=g.pathname,b=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(S=S.toLowerCase(),b=b?b.toLowerCase():null,_=_.toLowerCase()),b&&T&&(b=cn(b,T)||b);const V=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let k=S===_||!o&&S.startsWith(_)&&S.charAt(V)==="/",A=b!=null&&(b===_||!o&&b.startsWith(_)&&b.charAt(_.length)==="/"),E={isActive:k,isPending:A,isTransitioning:I},x=k?r:void 0,P;typeof s=="function"?P=s(E):P=[s,k?"active":null,A?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(E):a;return y.createElement(as,an({},h,{"aria-current":x,className:P,ref:n,style:D,to:l,viewTransition:c}),typeof d=="function"?d(E):d)}),k1=y.forwardRef((t,e)=>{let{fetcherKey:n,navigate:r,reloadDocument:i,replace:s,state:o,method:a=Fc,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:p}=t,g=ny(t,Bb),w=oy(),R=O1(l,{relative:d}),T=a.toLowerCase()==="get"?"get":"post",I=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let S=_.nativeEvent.submitter,b=(S==null?void 0:S.getAttribute("formmethod"))||a;w(S||_.currentTarget,{fetcherKey:n,method:b,navigate:r,replace:s,state:o,relative:d,preventScrollReset:h,viewTransition:p})};return y.createElement("form",an({ref:e,method:T,action:R,onSubmit:i?c:I},g))});function sO(t){let{getKey:e,storageKey:n}=t;return D1({getKey:e,storageKey:n}),null}var Jo;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jo||(Jo={}));var Kl;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kl||(Kl={}));function Sh(t){let e=y.useContext(da);return e||le(!1),e}function sy(t){let e=y.useContext(fu);return e||le(!1),e}function N1(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=eo(),c=$n(),d=fa(t,{relative:o});return y.useCallback(h=>{if(Db(h,n)){h.preventDefault();let p=r!==void 0?r:ir(c)===ir(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}function oO(t){let e=y.useRef(Id(t)),n=y.useRef(!1),r=$n(),i=y.useMemo(()=>Lb(r.search,n.current?null:e.current),[r.search]),s=eo(),o=y.useCallback((a,l)=>{const c=Id(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}function aO(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let lO=0,b1=()=>"__"+String(++lO)+"__";function oy(){let{router:t}=Sh(Jo.UseSubmit),{basename:e}=y.useContext(Rn),n=w1();return y.useCallback(function(r,i){i===void 0&&(i={}),aO();let{action:s,method:o,encType:a,formData:l,body:c}=Vb(r,e);if(i.navigate===!1){let d=i.fetcherKey||b1();t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function O1(t,e){let{relative:n}=e===void 0?{}:e,{basename:r}=y.useContext(Rn),i=y.useContext(Cn);i||le(!1);let[s]=i.matches.slice(-1),o=an({},fa(t||".",{relative:n})),a=$n();if(t==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();o.search=h?"?"+h:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:wr([r,o.pathname])),ir(o)}function uO(t){var e;let{key:n}=t===void 0?{}:t,{router:r}=Sh(Jo.UseFetcher),i=sy(Kl.UseFetcher),s=y.useContext(iy),o=y.useContext(Cn),a=(e=o.matches[o.matches.length-1])==null?void 0:e.route.id;s||le(!1),o||le(!1),a==null&&le(!1);let l=kw?kw():"",[c,d]=y.useState(n||l);n&&n!==c?d(n):c||d(b1()),y.useEffect(()=>(r.getFetcher(c),()=>{r.deleteFetcher(c)}),[r,c]);let h=y.useCallback((_,S)=>{a||le(!1),r.fetch(c,a,_,S)},[c,a,r]),p=oy(),g=y.useCallback((_,S)=>{p(_,an({},S,{navigate:!1,fetcherKey:c}))},[c,p]),w=y.useMemo(()=>y.forwardRef((S,b)=>y.createElement(k1,an({},S,{navigate:!1,fetcherKey:c,ref:b}))),[c]),R=i.fetchers.get(c)||o1,T=s.get(c);return y.useMemo(()=>an({Form:w,submit:g,load:h},R,{data:T}),[w,g,h,R,T])}function cO(){let t=sy(Kl.UseFetchers);return Array.from(t.fetchers.entries()).map(e=>{let[n,r]=e;return an({},r,{key:n})})}const Nw="react-router-scroll-positions";let mc={};function D1(t){let{getKey:e,storageKey:n}=t===void 0?{}:t,{router:r}=Sh(Jo.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:s}=sy(Kl.UseScrollRestoration),{basename:o}=y.useContext(Rn),a=$n(),l=T1(),c=E1();y.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),hO(y.useCallback(()=>{if(c.state==="idle"){let d=(e?e(a,l):null)||a.key;mc[d]=window.scrollY}try{sessionStorage.setItem(n||Nw,JSON.stringify(mc))}catch{}window.history.scrollRestoration="auto"},[n,e,c.state,a,l])),typeof document<"u"&&(y.useLayoutEffect(()=>{try{let d=sessionStorage.getItem(n||Nw);d&&(mc=JSON.parse(d))}catch{}},[n]),y.useLayoutEffect(()=>{let d=e&&o!=="/"?(p,g)=>e(an({},p,{pathname:cn(p.pathname,o)||p.pathname}),g):e,h=r==null?void 0:r.enableScrollRestoration(mc,()=>window.scrollY,d);return()=>h&&h()},[r,o,e]),y.useLayoutEffect(()=>{if(i!==!1){if(typeof i=="number"){window.scrollTo(0,i);return}if(a.hash){let d=document.getElementById(decodeURIComponent(a.hash.slice(1)));if(d){d.scrollIntoView();return}}s!==!0&&window.scrollTo(0,0)}},[a,i,s]))}function dO(t,e){let{capture:n}=e||{};y.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("beforeunload",t,r),()=>{window.removeEventListener("beforeunload",t,r)}},[t,n])}function hO(t,e){let{capture:n}={};y.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,r),()=>{window.removeEventListener("pagehide",t,r)}},[t,n])}function fO(t){let{when:e,message:n}=t,r=R1(e);y.useEffect(()=>{r.state==="blocked"&&(window.confirm(n)?setTimeout(r.proceed,0):r.reset())},[r,n]),y.useEffect(()=>{r.state==="blocked"&&!e&&r.reset()},[r,e])}function L1(t,e){e===void 0&&(e={});let n=y.useContext(ry);n==null&&le(!1);let{basename:r}=Sh(Jo.useViewTransitionState),i=fa(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=cn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=cn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xo(i.pathname,o)!=null||Xo(i.pathname,s)!=null}const pO=Object.freeze(Object.defineProperty({__proto__:null,AbortedDeferredError:Td,Await:Ib,BrowserRouter:P1,Form:k1,HashRouter:eO,Link:as,MemoryRouter:Sb,NavLink:iO,Navigate:C1,get NavigationType(){return Be},Outlet:ey,Route:Nn,Router:pa,RouterProvider:Xb,Routes:A1,ScrollRestoration:sO,UNSAFE_DataRouterContext:da,UNSAFE_DataRouterStateContext:fu,UNSAFE_ErrorResponseImpl:Hl,UNSAFE_FetchersContext:iy,UNSAFE_LocationContext:ha,UNSAFE_NavigationContext:Rn,UNSAFE_RouteContext:Cn,UNSAFE_ViewTransitionContext:ry,UNSAFE_useRouteId:w1,UNSAFE_useScrollRestoration:D1,createBrowserRouter:zb,createHashRouter:Hb,createMemoryRouter:Pb,createPath:ir,createRoutesFromChildren:Wl,createRoutesFromElements:Wl,createSearchParams:Id,defer:NN,generatePath:EN,isRouteErrorResponse:hu,json:AN,matchPath:Xo,matchRoutes:Ri,parsePath:Bn,redirect:Gg,redirectDocument:bN,renderMatches:xb,replace:ON,resolvePath:r1,unstable_HistoryRouter:tO,unstable_usePrompt:fO,useActionData:vb,useAsyncError:_b,useAsyncValue:I1,useBeforeUnload:dO,useBlocker:R1,useFetcher:uO,useFetchers:cO,useFormAction:O1,useHref:f1,useInRouterContext:ss,useLinkClickHandler:N1,useLoaderData:gb,useLocation:$n,useMatch:ob,useMatches:T1,useNavigate:eo,useNavigation:E1,useNavigationType:sb,useOutlet:g1,useOutletContext:lb,useParams:ub,useResolvedPath:fa,useRevalidator:mb,useRouteError:S1,useRouteLoaderData:yb,useRoutes:y1,useSearchParams:oO,useSubmit:oy,useViewTransitionState:L1},Symbol.toStringTag,{value:"Module"}));var M1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(M1);var mO=M1.exports;const ae=nh(mO);function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(null,arguments)}function j1(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function bw(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function gO(t){var e=yO(t,"string");return typeof e=="symbol"?e:String(e)}function yO(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vO(t,e,n){var r=y.useRef(t!==void 0),i=y.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,y.useCallback(function(c){for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];n&&n.apply(void 0,[c].concat(h)),o(c)},[n])]}function Ih(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[bw(r)],a=s[r],l=j1(s,[bw(r),r].map(gO)),c=e[r],d=vO(a,o,t[c]),h=d[0],p=d[1];return om({},l,(i={},i[r]=h,i[c]=p,i))},t)}function am(t,e){return am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},am(t,e)}function _O(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,am(t,e)}const wO=["xxl","xl","lg","md","sm","xs"],EO="xs",ay=y.createContext({prefixes:{},breakpoints:wO,minBreakpoint:EO});function de(t,e){const{prefixes:n}=y.useContext(ay);return t||n[e]||e}function V1(){const{breakpoints:t}=y.useContext(ay);return t}function F1(){const{minBreakpoint:t}=y.useContext(ay);return t}function ly(t){return t&&t.ownerDocument||document}function TO(t){var e=ly(t);return e&&e.defaultView||window}function SO(t,e){return TO(t).getComputedStyle(t,e)}var IO=/([A-Z])/g;function RO(t){return t.replace(IO,"-$1").toLowerCase()}var CO=/^ms-/;function gc(t){return RO(t).replace(CO,"-ms-")}var AO=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function xO(t){return!!(t&&AO.test(t))}function Wr(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(gc(e))||SO(t).getPropertyValue(gc(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(gc(i)):xO(i)?r+=i+"("+s+") ":n+=gc(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var U1={exports:{}},PO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kO=PO,NO=kO;function B1(){}function $1(){}$1.resetWarningCache=B1;var bO=function(){function t(r,i,s,o,a,l){if(l!==NO){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$1,resetWarningCache:B1};return n.PropTypes=n,n};U1.exports=bO();var z1=U1.exports;const en=nh(z1),Ow={disabled:!1},H1=Tt.createContext(null);var OO=function(e){return e.scrollTop},sl="unmounted",Ti="exited",Jn="entering",jr="entered",ql="exiting",oi=function(t){_O(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ti,s.appearStatus=Jn):l=jr:r.unmountOnExit||r.mountOnEnter?l=sl:l=Ti,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===sl?{status:Ti}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Jn&&o!==jr&&(s=Jn):(o===Jn||o===jr)&&(s=ql)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Jn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ps.findDOMNode(this);o&&OO(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ti&&this.setState({status:sl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ps.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!i&&!o||Ow.disabled){this.safeSetState({status:jr},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Jn},function(){s.props.onEntering(c,d),s.onTransitionEnd(p,function(){s.safeSetState({status:jr},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ps.findDOMNode(this);if(!s||Ow.disabled){this.safeSetState({status:Ti},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ql},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ti},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ps.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===sl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=j1(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Tt.createElement(H1.Provider,{value:null},typeof o=="function"?o(i,a):Tt.cloneElement(Tt.Children.only(o),a))},e}(Tt.Component);oi.contextType=H1;oi.propTypes={};function po(){}oi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:po,onEntering:po,onEntered:po,onExit:po,onExiting:po,onExited:po};oi.UNMOUNTED=sl;oi.EXITED=Ti;oi.ENTERING=Jn;oi.ENTERED=jr;oi.EXITING=ql;const Rh=!!(typeof window<"u"&&window.document&&window.document.createElement);var lm=!1,um=!1;try{var $f={get passive(){return lm=!0},get once(){return um=lm=!0}};Rh&&(window.addEventListener("test",$f,$f),window.removeEventListener("test",$f,!0))}catch{}function DO(t,e,n,r){if(r&&typeof r!="boolean"&&!um){var i=r.once,s=r.capture,o=n;!um&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,lm?r:s)}t.addEventListener(e,n,r)}function LO(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Rd(t,e,n,r){return DO(t,e,n,r),function(){LO(t,e,n,r)}}function MO(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function jO(t){var e=Wr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function VO(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||MO(t,"transitionend",!0)},e+n),s=Rd(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function FO(t,e,n,r){n==null&&(n=jO(t)||0);var i=VO(t,n,r),s=Rd(t,"transitionend",e);return function(){i(),s()}}function Dw(t,e){const n=Wr(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function uy(t,e){const n=Dw(t,"transitionDuration"),r=Dw(t,"transitionDelay"),i=FO(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Xa(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function W1(t){t.offsetHeight}const Lw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function UO(t,e){const n=Lw(t),r=Lw(e);return i=>{n&&n(i),r&&r(i)}}function mu(t,e){return y.useMemo(()=>UO(t,e),[t,e])}function BO(t){return t&&"setState"in t?Ps.findDOMNode(t):t??null}const cy=Tt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},d)=>{const h=y.useRef(null),p=mu(h,l),g=k=>{p(BO(k))},w=k=>A=>{k&&h.current&&k(h.current,A)},R=y.useCallback(w(t),[t]),T=y.useCallback(w(e),[e]),I=y.useCallback(w(n),[n]),_=y.useCallback(w(r),[r]),S=y.useCallback(w(i),[i]),b=y.useCallback(w(s),[s]),V=y.useCallback(w(o),[o]);return v.jsx(oi,{ref:d,...c,onEnter:R,onEntered:I,onEntering:T,onExit:_,onExited:b,onExiting:S,addEndListener:V,nodeRef:h,children:typeof a=="function"?(k,A)=>a(k,{...A,ref:g}):Tt.cloneElement(a,{ref:g})})}),$O={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function zO(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=$O[t];return r+parseInt(Wr(e,i[0]),10)+parseInt(Wr(e,i[1]),10)}const HO={[Ti]:"collapse",[ql]:"collapsing",[Jn]:"collapsing",[jr]:"collapse show"},K1=Tt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:c=300,mountOnEnter:d=!1,unmountOnExit:h=!1,appear:p=!1,getDimensionValue:g=zO,...w},R)=>{const T=typeof a=="function"?a():a,I=y.useMemo(()=>Xa(k=>{k.style[T]="0"},t),[T,t]),_=y.useMemo(()=>Xa(k=>{const A=`scroll${T[0].toUpperCase()}${T.slice(1)}`;k.style[T]=`${k[A]}px`},e),[T,e]),S=y.useMemo(()=>Xa(k=>{k.style[T]=null},n),[T,n]),b=y.useMemo(()=>Xa(k=>{k.style[T]=`${g(T,k)}px`,W1(k)},r),[r,g,T]),V=y.useMemo(()=>Xa(k=>{k.style[T]=null},i),[T,i]);return v.jsx(cy,{ref:R,addEndListener:uy,...w,"aria-expanded":w.role?l:null,onEnter:I,onEntering:_,onEntered:S,onExit:b,onExiting:V,childRef:o.ref,in:l,timeout:c,mountOnEnter:d,unmountOnExit:h,appear:p,children:(k,A)=>Tt.cloneElement(o,{...A,className:ae(s,o.props.className,HO[k],T==="width"&&"collapse-horizontal")})})});function q1(t,e){return Array.isArray(t)?t.includes(e):t===e}const gu=y.createContext({});gu.displayName="AccordionContext";const dy=y.forwardRef(({as:t="div",bsPrefix:e,className:n,children:r,eventKey:i,...s},o)=>{const{activeEventKey:a}=y.useContext(gu);return e=de(e,"accordion-collapse"),v.jsx(K1,{ref:o,in:q1(a,i),...s,className:ae(n,e),children:v.jsx(t,{children:y.Children.only(r)})})});dy.displayName="AccordionCollapse";const Ch=y.createContext({eventKey:""});Ch.displayName="AccordionItemContext";const G1=y.forwardRef(({as:t="div",bsPrefix:e,className:n,onEnter:r,onEntering:i,onEntered:s,onExit:o,onExiting:a,onExited:l,...c},d)=>{e=de(e,"accordion-body");const{eventKey:h}=y.useContext(Ch);return v.jsx(dy,{eventKey:h,onEnter:r,onEntering:i,onEntered:s,onExit:o,onExiting:a,onExited:l,children:v.jsx(t,{ref:d,...c,className:ae(n,e)})})});G1.displayName="AccordionBody";function WO(t,e){const{activeEventKey:n,onSelect:r,alwaysOpen:i}=y.useContext(gu);return s=>{let o=t===n?null:t;i&&(Array.isArray(n)?n.includes(t)?o=n.filter(a=>a!==t):o=[...n,t]:o=[t]),r==null||r(o,s),e==null||e(s)}}const hy=y.forwardRef(({as:t="button",bsPrefix:e,className:n,onClick:r,...i},s)=>{e=de(e,"accordion-button");const{eventKey:o}=y.useContext(Ch),a=WO(o,r),{activeEventKey:l}=y.useContext(gu);return t==="button"&&(i.type="button"),v.jsx(t,{ref:s,onClick:a,...i,"aria-expanded":Array.isArray(l)?l.includes(o):o===l,className:ae(n,e,!q1(l,o)&&"collapsed")})});hy.displayName="AccordionButton";const Q1=y.forwardRef(({as:t="h2",bsPrefix:e,className:n,children:r,onClick:i,...s},o)=>(e=de(e,"accordion-header"),v.jsx(t,{ref:o,...s,className:ae(n,e),children:v.jsx(hy,{onClick:i,children:r})})));Q1.displayName="AccordionHeader";const Y1=y.forwardRef(({as:t="div",bsPrefix:e,className:n,eventKey:r,...i},s)=>{e=de(e,"accordion-item");const o=y.useMemo(()=>({eventKey:r}),[r]);return v.jsx(Ch.Provider,{value:o,children:v.jsx(t,{ref:s,...i,className:ae(n,e)})})});Y1.displayName="AccordionItem";const X1=y.forwardRef((t,e)=>{const{as:n="div",activeKey:r,bsPrefix:i,className:s,onSelect:o,flush:a,alwaysOpen:l,...c}=Ih(t,{activeKey:"onSelect"}),d=de(i,"accordion"),h=y.useMemo(()=>({activeEventKey:r,onSelect:o,alwaysOpen:l}),[r,o,l]);return v.jsx(gu.Provider,{value:h,children:v.jsx(n,{ref:e,...c,className:ae(s,d,a&&`${d}-flush`)})})});X1.displayName="Accordion";const yc=Object.assign(X1,{Button:hy,Collapse:dy,Item:Y1,Header:Q1,Body:G1});function KO(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t},[t]),e}function tn(t){const e=KO(t);return y.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const fy=t=>y.forwardRef((e,n)=>v.jsx("div",{...e,ref:n,className:ae(e.className,t)}));function qO(){const t=y.useRef(!0),e=y.useRef(()=>t.current);return y.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function GO(t){const e=y.useRef(null);return y.useEffect(()=>{e.current=t}),e.current}const QO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",YO=typeof document<"u",cm=YO||QO?y.useLayoutEffect:y.useEffect,XO=["as","disabled"];function JO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZO(t){return!t||t.trim()==="#"}function py({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},c];const d=p=>{if((e||t==="a"&&ZO(n))&&p.preventDefault(),e){p.stopPropagation();return}o==null||o(p)},h=p=>{p.key===" "&&(p.preventDefault(),d(p))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:d,onKeyDown:h},c]}const J1=y.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=JO(t,XO);const[s,{tagName:o}]=py(Object.assign({tagName:n,disabled:r},i));return v.jsx(o,Object.assign({},i,s,{ref:e}))});J1.displayName="Button";const eD=["onKeyDown"];function tD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nD(t){return!t||t.trim()==="#"}const Z1=y.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=tD(t,eD);const[i]=py(Object.assign({tagName:"a"},r)),s=tn(o=>{i.onKeyDown(o),n==null||n(o)});return nD(r.href)||r.role==="button"?v.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):v.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});Z1.displayName="Anchor";function rD(t){return t.code==="Escape"||t.keyCode===27}function eI(){const t=y.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const iD={[Jn]:"show",[jr]:"show"},my=y.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=y.useCallback((d,h)=>{W1(d),r==null||r(d,h)},[r]),{major:l}=eI(),c=l>=19?e.props.ref:e.ref;return v.jsx(cy,{ref:s,addEndListener:uy,...o,onEnter:a,childRef:c,children:(d,h)=>y.cloneElement(e,{...h,className:ae("fade",t,e.props.className,iD[d],n[d])})})});my.displayName="Fade";const sD={"aria-label":en.string,onClick:en.func,variant:en.oneOf(["white"])},gy=y.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>v.jsx("button",{ref:i,type:"button",className:ae("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));gy.displayName="CloseButton";gy.propTypes=sD;const Mn=y.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const c=de(e,"btn"),[d,{tagName:h}]=py({tagName:t,disabled:s,...a}),p=h;return v.jsx(p,{...d,...a,ref:l,disabled:s,className:ae(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&s&&"disabled")})});Mn.displayName="Button";const yy=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=de(e,"card-body"),v.jsx(n,{ref:i,className:ae(t,e),...r})));yy.displayName="CardBody";const tI=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=de(e,"card-footer"),v.jsx(n,{ref:i,className:ae(t,e),...r})));tI.displayName="CardFooter";const vy=y.createContext(null);vy.displayName="CardHeaderContext";const nI=y.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=de(t,"card-header"),o=y.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return v.jsx(vy.Provider,{value:o,children:v.jsx(n,{ref:i,...r,className:ae(e,s)})})});nI.displayName="CardHeader";const rI=y.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=de(t,"card-img");return v.jsx(r,{ref:s,className:ae(n?`${o}-${n}`:o,e),...i})});rI.displayName="CardImg";const iI=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=de(e,"card-img-overlay"),v.jsx(n,{ref:i,className:ae(t,e),...r})));iI.displayName="CardImgOverlay";const sI=y.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=de(e,"card-link"),v.jsx(n,{ref:i,className:ae(t,e),...r})));sI.displayName="CardLink";const oD=fy("h6"),oI=y.forwardRef(({className:t,bsPrefix:e,as:n=oD,...r},i)=>(e=de(e,"card-subtitle"),v.jsx(n,{ref:i,className:ae(t,e),...r})));oI.displayName="CardSubtitle";const aI=y.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=de(e,"card-text"),v.jsx(n,{ref:i,className:ae(t,e),...r})));aI.displayName="CardText";const aD=fy("h5"),lI=y.forwardRef(({className:t,bsPrefix:e,as:n=aD,...r},i)=>(e=de(e,"card-title"),v.jsx(n,{ref:i,className:ae(t,e),...r})));lI.displayName="CardTitle";const uI=y.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...l},c)=>{const d=de(t,"card");return v.jsx(a,{ref:c,...l,className:ae(e,d,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?v.jsx(yy,{children:o}):o})});uI.displayName="Card";const Q=Object.assign(uI,{Img:rI,Title:lI,Subtitle:oI,Body:yy,Link:sI,Text:aI,Header:nI,Footer:tI,ImgOverlay:iI});function lD(t){const e=y.useRef(t);return e.current=t,e}function uD(t){const e=lD(t);y.useEffect(()=>()=>e.current(),[])}function cD(t,e){return y.Children.toArray(t).some(n=>y.isValidElement(n)&&n.type===e)}function dD({as:t,bsPrefix:e,className:n,...r}){e=de(e,"col");const i=V1(),s=F1(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let d,h,p;typeof c=="object"&&c!=null?{span:d,offset:h,order:p}=c:d=c;const g=l!==s?`-${l}`:"";d&&o.push(d===!0?`${e}${g}`:`${e}${g}-${d}`),p!=null&&a.push(`order${g}-${p}`),h!=null&&a.push(`offset${g}-${h}`)}),[{...r,className:ae(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const Xe=y.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=dD(t);return v.jsx(i,{...r,ref:e,className:ae(n,!o.length&&s)})});Xe.displayName="Col";const Cr=y.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=de(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return v.jsx(n,{ref:s,...i,className:ae(r,e?`${o}${a}`:o)})});Cr.displayName="Container";var hD=Function.prototype.bind.call(Function.prototype.call,[].slice);function Es(t,e){return hD(t.querySelectorAll(e))}function fD(){const[,t]=y.useReducer(e=>!e,!1);return t}function Mw(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const Cd=y.createContext(null),Ah=(t,e=null)=>t!=null?String(t):e||null,_y=y.createContext(null);_y.displayName="NavContext";const pD="data-rr-ui-",mD="rrUi";function xh(t){return`${pD}${t}`}function gD(t){return`${mD}${t}`}const cI=y.createContext(Rh?window:void 0);cI.Provider;function wy(){return y.useContext(cI)}const ma=y.createContext(null);ma.displayName="NavbarContext";en.string,en.bool,en.bool,en.bool,en.bool;const dm=y.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:s=!1,...o},a)=>(t=de(t,"img"),v.jsx("img",{ref:a,...o,className:ae(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",s&&`${t}-thumbnail`)})));dm.displayName="Image";const yD={type:en.string,tooltip:en.bool,as:en.elementType},Ph=y.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>v.jsx(t,{...i,ref:s,className:ae(e,`${n}-${r?"tooltip":"feedback"}`)}));Ph.displayName="Feedback";Ph.propTypes=yD;const Zr=y.createContext({}),Ey=y.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=y.useContext(Zr);return e=de(e,"form-check-input"),v.jsx(o,{...a,ref:l,type:r,id:t||c,className:ae(n,e,i&&"is-valid",s&&"is-invalid")})});Ey.displayName="FormCheckInput";const Ad=y.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=y.useContext(Zr);return t=de(t,"form-check-label"),v.jsx("label",{...r,ref:i,htmlFor:n||s,className:ae(e,t)})});Ad.displayName="FormCheckLabel";const dI=y.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:d,className:h,style:p,title:g="",type:w="checkbox",label:R,children:T,as:I="input",..._},S)=>{e=de(e,"form-check"),n=de(n,"form-switch");const{controlId:b}=y.useContext(Zr),V=y.useMemo(()=>({controlId:t||b}),[b,t]),k=!T&&R!=null&&R!==!1||cD(T,Ad),A=v.jsx(Ey,{..._,type:w==="switch"?"checkbox":w,ref:S,isValid:o,isInvalid:a,disabled:s,as:I});return v.jsx(Zr.Provider,{value:V,children:v.jsx("div",{style:p,className:ae(h,k&&e,r&&`${e}-inline`,i&&`${e}-reverse`,w==="switch"&&n),children:T||v.jsxs(v.Fragment,{children:[A,k&&v.jsx(Ad,{title:g,children:R}),c&&v.jsx(Ph,{type:d,tooltip:l,children:c})]})})})});dI.displayName="FormCheck";const xd=Object.assign(dI,{Input:Ey,Label:Ad}),hI=y.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:d="input",...h},p)=>{const{controlId:g}=y.useContext(Zr);return t=de(t,"form-control"),v.jsx(d,{...h,type:e,size:r,ref:p,readOnly:c,id:i||g,className:ae(s,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});hI.displayName="FormControl";const vD=Object.assign(hI,{Feedback:Ph}),fI=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=de(e,"form-floating"),v.jsx(n,{ref:i,className:ae(t,e),...r})));fI.displayName="FormFloating";const Ty=y.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=y.useMemo(()=>({controlId:t}),[t]);return v.jsx(Zr.Provider,{value:i,children:v.jsx(e,{...n,ref:r})})});Ty.displayName="FormGroup";const pI=y.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=y.useContext(Zr);e=de(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const d=ae(i,e,r&&"visually-hidden",n&&c);return s=s||l,n?v.jsx(Xe,{ref:a,as:"label",className:d,htmlFor:s,...o}):v.jsx(t,{ref:a,className:d,htmlFor:s,...o})});pI.displayName="FormLabel";const mI=y.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=y.useContext(Zr);return t=de(t,"form-range"),v.jsx("input",{...r,type:"range",ref:i,className:ae(e,t),id:n||s})});mI.displayName="FormRange";const gI=y.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=y.useContext(Zr);return t=de(t,"form-select"),v.jsx("select",{...a,size:n,ref:l,className:ae(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});gI.displayName="FormSelect";const yI=y.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=de(t,"form-text"),v.jsx(n,{...i,ref:s,className:ae(e,t,r&&"text-muted")})));yI.displayName="FormText";const vI=y.forwardRef((t,e)=>v.jsx(xd,{...t,ref:e,type:"switch"}));vI.displayName="Switch";const _D=Object.assign(vI,{Input:xd.Input,Label:xd.Label}),_I=y.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=de(t,"form-floating"),v.jsxs(Ty,{ref:o,className:ae(e,t),controlId:r,...s,children:[n,v.jsx("label",{htmlFor:r,children:i})]})));_I.displayName="FloatingLabel";const wD={_ref:en.any,validated:en.bool,as:en.elementType},Sy=y.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>v.jsx(n,{...r,ref:i,className:ae(t,e&&"was-validated")}));Sy.displayName="Form";Sy.propTypes=wD;const Yn=Object.assign(Sy,{Group:Ty,Control:vD,Floating:fI,Check:xd,Switch:_D,Label:pI,Text:yI,Range:mI,Select:gI,FloatingLabel:_I}),wI=y.createContext(null),ED=["as","active","eventKey"];function TD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Iy({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=y.useContext(Cd),a=y.useContext(_y),l=y.useContext(wI);let c=n;const d={role:i};if(a){!i&&a.role==="tablist"&&(d.role="tab");const h=a.getControllerId(t??null),p=a.getControlledId(t??null);d[xh("event-key")]=t,d.id=h||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(d["aria-controls"]=p)}return d.role==="tab"&&(d["aria-selected"]=c,c||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=tn(h=>{s||(e==null||e(h),t!=null&&o&&!h.isPropagationStopped()&&o(t,h))}),[d,{isActive:c}]}const EI=y.forwardRef((t,e)=>{let{as:n=J1,active:r,eventKey:i}=t,s=TD(t,ED);const[o,a]=Iy(Object.assign({key:Ah(i,s.href),active:r},s));return o[xh("active")]=a.isActive,v.jsx(n,Object.assign({},s,o,{ref:e}))});EI.displayName="NavItem";const SD=["as","onSelect","activeKey","role","onKeyDown"];function ID(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const jw=()=>{},Vw=xh("event-key"),TI=y.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=ID(t,SD);const l=fD(),c=y.useRef(!1),d=y.useContext(Cd),h=y.useContext(wI);let p,g;h&&(s=s||"tablist",i=h.activeKey,p=h.getControlledId,g=h.getControllerId);const w=y.useRef(null),R=S=>{const b=w.current;if(!b)return null;const V=Es(b,`[${Vw}]:not([aria-disabled=true])`),k=b.querySelector("[aria-selected=true]");if(!k||k!==document.activeElement)return null;const A=V.indexOf(k);if(A===-1)return null;let E=A+S;return E>=V.length&&(E=0),E<0&&(E=V.length-1),V[E]},T=(S,b)=>{S!=null&&(r==null||r(S,b),d==null||d(S,b))},I=S=>{if(o==null||o(S),!h)return;let b;switch(S.key){case"ArrowLeft":case"ArrowUp":b=R(-1);break;case"ArrowRight":case"ArrowDown":b=R(1);break;default:return}b&&(S.preventDefault(),T(b.dataset[gD("EventKey")]||null,S),c.current=!0,l())};y.useEffect(()=>{if(w.current&&c.current){const S=w.current.querySelector(`[${Vw}][aria-selected=true]`);S==null||S.focus()}c.current=!1});const _=mu(e,w);return v.jsx(Cd.Provider,{value:T,children:v.jsx(_y.Provider,{value:{role:s,activeKey:Ah(i),getControlledId:p||jw,getControllerId:g||jw},children:v.jsx(n,Object.assign({},a,{onKeyDown:I,ref:_,role:s}))})})});TI.displayName="Nav";const SI=Object.assign(TI,{Item:EI}),$i=y.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:i,variant:s,action:o,as:a,...l},c)=>{t=de(t,"list-group-item");const[d,h]=Iy({key:Ah(r,l.href),active:e,...l}),p=tn(w=>{if(n){w.preventDefault(),w.stopPropagation();return}d.onClick(w)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const g=a||(o?l.href?"a":"button":"div");return v.jsx(g,{ref:c,...l,...d,onClick:p,className:ae(i,t,h.isActive&&"active",n&&"disabled",s&&`${t}-${s}`,o&&`${t}-action`)})});$i.displayName="ListGroupItem";const II=y.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=Ih(t,{activeKey:"onSelect"}),c=de(r,"list-group");let d;return s&&(d=s===!0?"horizontal":`horizontal-${s}`),v.jsx(SI,{ref:e,...l,as:a,className:ae(n,c,i&&`${c}-${i}`,d&&`${c}-${d}`,o&&`${c}-numbered`)})});II.displayName="ListGroup";const RI=Object.assign(II,{Item:$i});function zf(t){t===void 0&&(t=ly());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function RD(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Fw=xh("modal-open");class Ry{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return RD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Wr(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(Fw,""),Wr(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Fw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Hf=(t,e)=>Rh?t==null?(e||ly()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function CD(t,e){const n=wy(),[r,i]=y.useState(()=>Hf(t,n==null?void 0:n.document));if(!r){const s=Hf(t);s&&i(s)}return y.useEffect(()=>{},[e,r]),y.useEffect(()=>{const s=Hf(t);s!==r&&i(s)},[t,r]),r}function AD({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=y.useRef(null),o=y.useRef(e),a=tn(n);y.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=mu(s,t.ref),c=y.cloneElement(t,{ref:l});return e?c:i||!o.current&&r?null:c}const xD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function PD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kD(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=t,c=PD(t,xD);const{major:d}=eI(),h=d>=19?l.props.ref:l.ref,p=y.useRef(null),g=mu(p,typeof l=="function"?null:h),w=k=>A=>{k&&p.current&&k(p.current,A)},R=y.useCallback(w(e),[e]),T=y.useCallback(w(n),[n]),I=y.useCallback(w(r),[r]),_=y.useCallback(w(i),[i]),S=y.useCallback(w(s),[s]),b=y.useCallback(w(o),[o]),V=y.useCallback(w(a),[a]);return Object.assign({},c,{nodeRef:p},e&&{onEnter:R},n&&{onEntering:T},r&&{onEntered:I},i&&{onExit:_},s&&{onExiting:S},o&&{onExited:b},a&&{addEndListener:V},{children:typeof l=="function"?(k,A)=>l(k,Object.assign({},A,{ref:g})):y.cloneElement(l,{ref:g})})}const ND=["component"];function bD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const OD=y.forwardRef((t,e)=>{let{component:n}=t,r=bD(t,ND);const i=kD(r);return v.jsx(n,Object.assign({ref:e},i))});function DD({in:t,onTransition:e}){const n=y.useRef(null),r=y.useRef(!0),i=tn(e);return cm(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),cm(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function LD({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=y.useState(!e);e&&s&&o(!1);const a=DD({in:!!e,onTransition:c=>{const d=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(d,h=>{throw c.in||o(!0),h})}}),l=mu(a,t.ref);return s&&!e?null:y.cloneElement(t,{ref:l})}function Uw(t,e,n){return t?v.jsx(OD,Object.assign({},n,{component:t})):e?v.jsx(LD,Object.assign({},n,{transition:e})):v.jsx(AD,Object.assign({},n))}const MD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function jD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Wf;function VD(t){return Wf||(Wf=new Ry({ownerDocument:t==null?void 0:t.document})),Wf}function FD(t){const e=wy(),n=t||VD(e),r=y.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:y.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:y.useCallback(i=>{r.current.backdrop=i},[])})}const CI=y.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:h,runTransition:p,backdropTransition:g,runBackdropTransition:w,autoFocus:R=!0,enforceFocus:T=!0,restoreFocus:I=!0,restoreFocusOptions:_,renderDialog:S,renderBackdrop:b=ke=>v.jsx("div",Object.assign({},ke)),manager:V,container:k,onShow:A,onHide:E=()=>{},onExit:x,onExited:P,onExiting:D,onEnter:L,onEntering:N,onEntered:Te}=t,dt=jD(t,MD);const Ze=wy(),we=CD(k),W=FD(V),ne=qO(),se=GO(n),[ye,ve]=y.useState(!n),me=y.useRef(null);y.useImperativeHandle(e,()=>W,[W]),Rh&&!se&&n&&(me.current=zf(Ze==null?void 0:Ze.document)),n&&ye&&ve(!1);const Pe=tn(()=>{if(W.add(),lr.current=Rd(document,"keydown",Ra),cs.current=Rd(document,"focus",()=>setTimeout(gt),!0),A&&A(),R){var ke,ds;const hs=zf((ke=(ds=W.dialog)==null?void 0:ds.ownerDocument)!=null?ke:Ze==null?void 0:Ze.document);W.dialog&&hs&&!Mw(W.dialog,hs)&&(me.current=hs,W.dialog.focus())}}),He=tn(()=>{if(W.remove(),lr.current==null||lr.current(),cs.current==null||cs.current(),I){var ke;(ke=me.current)==null||ke.focus==null||ke.focus(_),me.current=null}});y.useEffect(()=>{!n||!we||Pe()},[n,we,Pe]),y.useEffect(()=>{ye&&He()},[ye,He]),uD(()=>{He()});const gt=tn(()=>{if(!T||!ne()||!W.isTopModal())return;const ke=zf(Ze==null?void 0:Ze.document);W.dialog&&ke&&!Mw(W.dialog,ke)&&W.dialog.focus()}),Dt=tn(ke=>{ke.target===ke.currentTarget&&(c==null||c(ke),a===!0&&E())}),Ra=tn(ke=>{l&&rD(ke)&&W.isTopModal()&&(d==null||d(ke),ke.defaultPrevented||E())}),cs=y.useRef(),lr=y.useRef(),st=(...ke)=>{ve(!0),P==null||P(...ke)};if(!we)return null;const hn=Object.assign({role:r,ref:W.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},dt,{style:s,className:i,tabIndex:-1});let ur=S?S(hn):v.jsx("div",Object.assign({},hn,{children:y.cloneElement(o,{role:"document"})}));ur=Uw(h,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:x,onExiting:D,onExited:st,onEnter:L,onEntering:N,onEntered:Te,children:ur});let cr=null;return a&&(cr=b({ref:W.setBackdropRef,onClick:Dt}),cr=Uw(g,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:cr})),v.jsx(v.Fragment,{children:Ps.createPortal(v.jsxs(v.Fragment,{children:[cr,ur]}),we)})});CI.displayName="Modal";const UD=Object.assign(CI,{Manager:Ry});function BD(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function $D(t,e){t.classList?t.classList.add(e):BD(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Bw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function zD(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Bw(t.className,e):t.setAttribute("class",Bw(t.className&&t.className.baseVal||"",e))}const mo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class AI extends Ry{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Wr(n,{[e]:`${parseFloat(Wr(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Wr(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if($D(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Es(n,mo.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Es(n,mo.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Es(n,mo.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();zD(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Es(n,mo.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Es(n,mo.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Es(n,mo.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Kf;function HD(t){return Kf||(Kf=new AI(t)),Kf}const xI=y.createContext({onHide(){}}),WD=y.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=y.useContext(xI),l=tn(()=>{a==null||a.onHide(),r==null||r()});return v.jsxs("div",{ref:o,...s,children:[i,n&&v.jsx(gy,{"aria-label":t,variant:e,onClick:l})]})});var $w={exports:{}},hm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,c,d,h){var p=c||"<<anonymous>>",g=h||l;if(a[l]==null)return o?new Error("Required "+d+" `"+g+"` was not specified "+("in `"+p+"`.")):null;for(var w=arguments.length,R=Array(w>6?w-6:0),T=6;T<w;T++)R[T-6]=arguments[T];return r.apply(void 0,[a,l,p,d,g].concat(R))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(hm,hm.exports);var KD=hm.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=KD,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function c(){for(var d=arguments.length,h=Array(d),p=0;p<d;p++)h[p]=arguments[p];var g=null;return a.forEach(function(w){if(g==null){var R=w.apply(void 0,h);R!=null&&(g=R)}}),g}return(0,r.default)(c)}t.exports=e.default})($w,$w.exports);const PI=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=de(e,"nav-item"),v.jsx(n,{ref:i,className:ae(t,e),...r})));PI.displayName="NavItem";const kI=y.forwardRef(({bsPrefix:t,className:e,as:n=Z1,active:r,eventKey:i,disabled:s=!1,...o},a)=>{t=de(t,"nav-link");const[l,c]=Iy({key:Ah(i,o.href),active:r,disabled:s,...o});return v.jsx(n,{...o,...l,ref:a,disabled:s,className:ae(e,t,s&&"disabled",c.isActive&&"active")})});kI.displayName="NavLink";const NI=y.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:a,navbarScroll:l,className:c,activeKey:d,...h}=Ih(t,{activeKey:"onSelect"}),p=de(r,"nav");let g,w,R=!1;const T=y.useContext(ma),I=y.useContext(vy);return T?(g=T.bsPrefix,R=a??!0):I&&({cardHeaderBsPrefix:w}=I),v.jsx(SI,{as:n,ref:e,activeKey:d,className:ae(c,{[p]:!R,[`${g}-nav`]:R,[`${g}-nav-scroll`]:R&&l,[`${w}-${i}`]:!!w,[`${p}-${i}`]:!!i,[`${p}-fill`]:s,[`${p}-justified`]:o}),...h})});NI.displayName="Nav";const vs=Object.assign(NI,{Item:PI,Link:kI}),bI=y.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=de(t,"navbar-brand");const s=n||(r.href?"a":"span");return v.jsx(s,{...r,ref:i,className:ae(e,t)})});bI.displayName="NavbarBrand";const OI=y.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=de(e,"navbar-collapse");const i=y.useContext(ma);return v.jsx(K1,{in:!!(i&&i.expanded),...n,children:v.jsx("div",{ref:r,className:e,children:t})})});OI.displayName="NavbarCollapse";const DI=y.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{t=de(t,"navbar-toggler");const{onToggle:l,expanded:c}=y.useContext(ma)||{},d=tn(h=>{s&&s(h),l&&l()});return i==="button"&&(o.type="button"),v.jsx(i,{...o,ref:a,onClick:d,"aria-label":r,className:ae(e,t,!c&&"collapsed"),children:n||v.jsx("span",{className:`${t}-icon`})})});DI.displayName="NavbarToggle";const fm=new WeakMap,zw=(t,e)=>{if(!t||!e)return;const n=fm.get(e)||new Map;fm.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function qD(t,e=typeof window>"u"?void 0:window){const n=zw(t,e),[r,i]=y.useState(()=>n?n.matches:!1);return cm(()=>{let s=zw(t,e);if(!s)return i(!1);let o=fm.get(e);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function GD(t){const e=Object.keys(t);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){const l=r(a);let c=t[l];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(a){let l=t[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,c){let d;typeof a=="object"?(d=a,c=l,l=!0):(l=l||!0,d={[a]:l});let h=y.useMemo(()=>Object.entries(d).reduce((p,[g,w])=>((w==="up"||w===!0)&&(p=n(p,s(g))),(w==="down"||w===!0)&&(p=n(p,i(g))),p),""),[JSON.stringify(d)]);return qD(h,c)}return o}const QD=GD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),LI=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=de(e,"offcanvas-body"),v.jsx(n,{ref:i,className:ae(t,e),...r})));LI.displayName="OffcanvasBody";const YD={[Jn]:"show",[jr]:"show"},MI=y.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(t=de(t,"offcanvas"),v.jsx(cy,{ref:l,addEndListener:uy,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:n.ref,children:(c,d)=>y.cloneElement(n,{...d,className:ae(e,n.props.className,(c===Jn||c===ql)&&`${t}-toggling`,YD[c])})})));MI.displayName="OffcanvasToggling";const jI=y.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=de(t,"offcanvas-header"),v.jsx(WD,{ref:s,...i,className:ae(e,t),closeLabel:n,closeButton:r})));jI.displayName="OffcanvasHeader";const XD=fy("h5"),VI=y.forwardRef(({className:t,bsPrefix:e,as:n=XD,...r},i)=>(e=de(e,"offcanvas-title"),v.jsx(n,{ref:i,className:ae(t,e),...r})));VI.displayName="OffcanvasTitle";function JD(t){return v.jsx(MI,{...t})}function ZD(t){return v.jsx(my,{...t})}const FI=y.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:c=!1,onEscapeKeyDown:d,onShow:h,onHide:p,container:g,autoFocus:w=!0,enforceFocus:R=!0,restoreFocus:T=!0,restoreFocusOptions:I,onEntered:_,onExit:S,onExiting:b,onEnter:V,onEntering:k,onExited:A,backdropClassName:E,manager:x,renderStaticNode:P=!1,...D},L)=>{const N=y.useRef();t=de(t,"offcanvas");const[Te,dt]=y.useState(!1),Ze=tn(p),we=QD(s||"xs","up");y.useEffect(()=>{dt(s?o&&!we:o)},[o,s,we]);const W=y.useMemo(()=>({onHide:Ze}),[Ze]);function ne(){return x||(c?(N.current||(N.current=new AI({handleContainerOverflow:!1})),N.current):HD())}const se=(Pe,...He)=>{Pe&&(Pe.style.visibility="visible"),V==null||V(Pe,...He)},ye=(Pe,...He)=>{Pe&&(Pe.style.visibility=""),A==null||A(...He)},ve=y.useCallback(Pe=>v.jsx("div",{...Pe,className:ae(`${t}-backdrop`,E)}),[E,t]),me=Pe=>v.jsx("div",{...Pe,...D,className:ae(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return v.jsxs(v.Fragment,{children:[!Te&&(s||P)&&me({}),v.jsx(xI.Provider,{value:W,children:v.jsx(UD,{show:Te,ref:L,backdrop:a,container:g,keyboard:l,autoFocus:w,enforceFocus:R&&!c,restoreFocus:T,restoreFocusOptions:I,onEscapeKeyDown:d,onShow:h,onHide:Ze,onEnter:se,onEntering:k,onEntered:_,onExit:S,onExiting:b,onExited:ye,manager:ne(),transition:JD,backdropTransition:ZD,renderBackdrop:ve,renderDialog:me})})]})});FI.displayName="Offcanvas";const eL=Object.assign(FI,{Body:LI,Header:jI,Title:VI}),UI=y.forwardRef(({onHide:t,...e},n)=>{const r=y.useContext(ma),i=tn(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return v.jsx(eL,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});UI.displayName="NavbarOffcanvas";const BI=y.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=de(e,"navbar-text"),v.jsx(n,{ref:i,className:ae(t,e),...r})));BI.displayName="NavbarText";const $I=y.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:c="nav",expanded:d,onToggle:h,onSelect:p,collapseOnSelect:g=!1,...w}=Ih(t,{expanded:"onToggle"}),R=de(n,"navbar"),T=y.useCallback((...S)=>{p==null||p(...S),g&&d&&(h==null||h(!1))},[p,g,d,h]);w.role===void 0&&c!=="nav"&&(w.role="navigation");let I=`${R}-expand`;typeof r=="string"&&(I=`${I}-${r}`);const _=y.useMemo(()=>({onToggle:()=>h==null?void 0:h(!d),bsPrefix:R,expanded:!!d,expand:r}),[R,d,r,h]);return v.jsx(ma.Provider,{value:_,children:v.jsx(Cd.Provider,{value:T,children:v.jsx(c,{ref:e,...w,className:ae(l,R,r&&I,i&&`${R}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});$I.displayName="Navbar";const vc=Object.assign($I,{Brand:bI,Collapse:OI,Offcanvas:UI,Text:BI,Toggle:DI}),kt=y.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=de(t,"row"),o=V1(),a=F1(),l=`${s}-cols`,c=[];return o.forEach(d=>{const h=r[d];delete r[d];let p;h!=null&&typeof h=="object"?{cols:p}=h:p=h;const g=d!==a?`-${d}`:"";p!=null&&c.push(`${l}${g}-${p}`)}),v.jsx(n,{ref:i,...r,className:ae(e,s,...c)})});kt.displayName="Row";const kh=y.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{t=de(t,"spinner");const l=`${t}-${n}`;return v.jsx(i,{ref:a,...o,className:ae(s,l,r&&`${l}-${r}`,e&&`text-${e}`)})});kh.displayName="Spinner";function zI(t,e){return function(){return t.apply(e,arguments)}}const{toString:tL}=Object.prototype,{getPrototypeOf:Cy}=Object,Nh=(t=>e=>{const n=tL.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ar=t=>(t=t.toLowerCase(),e=>Nh(e)===t),bh=t=>e=>typeof e===t,{isArray:ga}=Array,Gl=bh("undefined");function nL(t){return t!==null&&!Gl(t)&&t.constructor!==null&&!Gl(t.constructor)&&_n(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HI=ar("ArrayBuffer");function rL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HI(t.buffer),e}const iL=bh("string"),_n=bh("function"),WI=bh("number"),Oh=t=>t!==null&&typeof t=="object",sL=t=>t===!0||t===!1,Uc=t=>{if(Nh(t)!=="object")return!1;const e=Cy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oL=ar("Date"),aL=ar("File"),lL=ar("Blob"),uL=ar("FileList"),cL=t=>Oh(t)&&_n(t.pipe),dL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_n(t.append)&&((e=Nh(t))==="formdata"||e==="object"&&_n(t.toString)&&t.toString()==="[object FormData]"))},hL=ar("URLSearchParams"),[fL,pL,mL,gL]=["ReadableStream","Request","Response","Headers"].map(ar),yL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ga(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function KI(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qI=t=>!Gl(t)&&t!==Ns;function pm(){const{caseless:t}=qI(this)&&this||{},e={},n=(r,i)=>{const s=t&&KI(e,i)||i;Uc(e[s])&&Uc(r)?e[s]=pm(e[s],r):Uc(r)?e[s]=pm({},r):ga(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&yu(arguments[r],n);return e}const vL=(t,e,n,{allOwnKeys:r}={})=>(yu(e,(i,s)=>{n&&_n(i)?t[s]=zI(i,n):t[s]=i},{allOwnKeys:r}),t),_L=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wL=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},EL=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Cy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},TL=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},SL=t=>{if(!t)return null;if(ga(t))return t;let e=t.length;if(!WI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},IL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Cy(Uint8Array)),RL=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},CL=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},AL=ar("HTMLFormElement"),xL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Hw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),PL=ar("RegExp"),GI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};yu(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},kL=t=>{GI(t,(e,n)=>{if(_n(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(_n(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NL=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ga(t)?r(t):r(String(t).split(e)),n},bL=()=>{},OL=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,qf="abcdefghijklmnopqrstuvwxyz",Ww="0123456789",QI={DIGIT:Ww,ALPHA:qf,ALPHA_DIGIT:qf+qf.toUpperCase()+Ww},DL=(t=16,e=QI.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function LL(t){return!!(t&&_n(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ML=t=>{const e=new Array(10),n=(r,i)=>{if(Oh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ga(r)?[]:{};return yu(r,(o,a)=>{const l=n(o,i+1);!Gl(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},jL=ar("AsyncFunction"),VL=t=>t&&(Oh(t)||_n(t))&&_n(t.then)&&_n(t.catch),YI=((t,e)=>t?setImmediate:e?((n,r)=>(Ns.addEventListener("message",({source:i,data:s})=>{i===Ns&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ns.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_n(Ns.postMessage)),FL=typeof queueMicrotask<"u"?queueMicrotask.bind(Ns):typeof process<"u"&&process.nextTick||YI,B={isArray:ga,isArrayBuffer:HI,isBuffer:nL,isFormData:dL,isArrayBufferView:rL,isString:iL,isNumber:WI,isBoolean:sL,isObject:Oh,isPlainObject:Uc,isReadableStream:fL,isRequest:pL,isResponse:mL,isHeaders:gL,isUndefined:Gl,isDate:oL,isFile:aL,isBlob:lL,isRegExp:PL,isFunction:_n,isStream:cL,isURLSearchParams:hL,isTypedArray:IL,isFileList:uL,forEach:yu,merge:pm,extend:vL,trim:yL,stripBOM:_L,inherits:wL,toFlatObject:EL,kindOf:Nh,kindOfTest:ar,endsWith:TL,toArray:SL,forEachEntry:RL,matchAll:CL,isHTMLForm:AL,hasOwnProperty:Hw,hasOwnProp:Hw,reduceDescriptors:GI,freezeMethods:kL,toObjectSet:NL,toCamelCase:xL,noop:bL,toFiniteNumber:OL,findKey:KI,global:Ns,isContextDefined:qI,ALPHABET:QI,generateString:DL,isSpecCompliantForm:LL,toJSONObject:ML,isAsyncFn:jL,isThenable:VL,setImmediate:YI,asap:FL};function ge(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}B.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const XI=ge.prototype,JI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{JI[t]={value:t}});Object.defineProperties(ge,JI);Object.defineProperty(XI,"isAxiosError",{value:!0});ge.from=(t,e,n,r,i,s)=>{const o=Object.create(XI);return B.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ge.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const UL=null;function mm(t){return B.isPlainObject(t)||B.isArray(t)}function ZI(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function Kw(t,e,n){return t?t.concat(e).map(function(i,s){return i=ZI(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function BL(t){return B.isArray(t)&&!t.some(mm)}const $L=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function Dh(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,T){return!B.isUndefined(T[R])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(B.isDate(w))return w.toISOString();if(!l&&B.isBlob(w))throw new ge("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(w)||B.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,R,T){let I=w;if(w&&!T&&typeof w=="object"){if(B.endsWith(R,"{}"))R=r?R:R.slice(0,-2),w=JSON.stringify(w);else if(B.isArray(w)&&BL(w)||(B.isFileList(w)||B.endsWith(R,"[]"))&&(I=B.toArray(w)))return R=ZI(R),I.forEach(function(S,b){!(B.isUndefined(S)||S===null)&&e.append(o===!0?Kw([R],b,s):o===null?R:R+"[]",c(S))}),!1}return mm(w)?!0:(e.append(Kw(T,R,s),c(w)),!1)}const h=[],p=Object.assign($L,{defaultVisitor:d,convertValue:c,isVisitable:mm});function g(w,R){if(!B.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+R.join("."));h.push(w),B.forEach(w,function(I,_){(!(B.isUndefined(I)||I===null)&&i.call(e,I,B.isString(_)?_.trim():_,R,p))===!0&&g(I,R?R.concat(_):[_])}),h.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return g(t),e}function qw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ay(t,e){this._pairs=[],t&&Dh(t,this,e)}const eR=Ay.prototype;eR.append=function(e,n){this._pairs.push([e,n])};eR.toString=function(e){const n=e?function(r){return e.call(this,r,qw)}:qw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function zL(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tR(t,e,n){if(!e)return t;const r=n&&n.encode||zL,i=n&&n.serialize;let s;if(i?s=i(e,n):s=B.isURLSearchParams(e)?e.toString():new Ay(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Gw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(r){r!==null&&e(r)})}}const nR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HL=typeof URLSearchParams<"u"?URLSearchParams:Ay,WL=typeof FormData<"u"?FormData:null,KL=typeof Blob<"u"?Blob:null,qL={isBrowser:!0,classes:{URLSearchParams:HL,FormData:WL,Blob:KL},protocols:["http","https","file","blob","url","data"]},xy=typeof window<"u"&&typeof document<"u",gm=typeof navigator=="object"&&navigator||void 0,GL=xy&&(!gm||["ReactNative","NativeScript","NS"].indexOf(gm.product)<0),QL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",YL=xy&&window.location.href||"http://localhost",XL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xy,hasStandardBrowserEnv:GL,hasStandardBrowserWebWorkerEnv:QL,navigator:gm,origin:YL},Symbol.toStringTag,{value:"Module"})),ln={...XL,...qL};function JL(t,e){return Dh(t,new ln.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return ln.isNode&&B.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ZL(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function e2(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function rR(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&B.isArray(i)?i.length:o,l?(B.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!B.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&B.isArray(i[o])&&(i[o]=e2(i[o])),!a)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(r,i)=>{e(ZL(r),i,n,0)}),n}return null}function t2(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const vu={transitional:nR,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=B.isObject(e);if(s&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return i?JSON.stringify(rR(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return JL(e,this.formSerializer).toString();if((a=B.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Dh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),t2(e)):e}],transformResponse:[function(e){const n=this.transitional||vu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ge.from(a,ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{vu.headers[t]={}});const n2=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),r2=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&n2[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Qw=Symbol("internals");function Ja(t){return t&&String(t).trim().toLowerCase()}function Bc(t){return t===!1||t==null?t:B.isArray(t)?t.map(Bc):String(t)}function i2(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const s2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gf(t,e,n,r,i){if(B.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!B.isString(e)){if(B.isString(r))return e.indexOf(r)!==-1;if(B.isRegExp(r))return r.test(e)}}function o2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function a2(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class un{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const d=Ja(l);if(!d)throw new Error("header name must be a non-empty string");const h=B.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Bc(a))}const o=(a,l)=>B.forEach(a,(c,d)=>s(c,d,l));if(B.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(B.isString(e)&&(e=e.trim())&&!s2(e))o(r2(e),n);else if(B.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Ja(e),e){const r=B.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return i2(i);if(B.isFunction(n))return n.call(this,i,r);if(B.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ja(e),e){const r=B.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Gf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Ja(o),o){const a=B.findKey(r,o);a&&(!n||Gf(r,r[a],a,n))&&(delete r[a],i=!0)}}return B.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Gf(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return B.forEach(this,(i,s)=>{const o=B.findKey(r,s);if(o){n[o]=Bc(i),delete n[s];return}const a=e?o2(s):String(s).trim();a!==s&&delete n[s],n[a]=Bc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&B.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Qw]=this[Qw]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ja(o);r[a]||(a2(i,o),r[a]=!0)}return B.isArray(e)?e.forEach(s):s(e),this}}un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(un.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});B.freezeMethods(un);function Qf(t,e){const n=this||vu,r=e||n,i=un.from(r.headers);let s=r.data;return B.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function iR(t){return!!(t&&t.__CANCEL__)}function ya(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(ya,ge,{__CANCEL__:!0});function sR(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function l2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function u2(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),n[i]=l,r[i]=c;let h=s,p=0;for(;h!==i;)p+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const g=d&&c-d;return g?Math.round(p*1e3/g):void 0}}function c2(t,e){let n=0,r=1e3/e,i,s;const o=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const Pd=(t,e,n=3)=>{let r=0;const i=u2(50,250);return c2(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},Yw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Xw=t=>(...e)=>B.asap(()=>t(...e)),d2=ln.hasStandardBrowserEnv?function(){const e=ln.navigator&&/(msie|trident)/i.test(ln.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=B.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),h2=ln.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];B.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),B.isString(r)&&o.push("path="+r),B.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function f2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function p2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function oR(t,e){return t&&!f2(e)?p2(t,e):e}const Jw=t=>t instanceof un?{...t}:t;function zs(t,e){e=e||{};const n={};function r(c,d,h){return B.isPlainObject(c)&&B.isPlainObject(d)?B.merge.call({caseless:h},c,d):B.isPlainObject(d)?B.merge({},d):B.isArray(d)?d.slice():d}function i(c,d,h){if(B.isUndefined(d)){if(!B.isUndefined(c))return r(void 0,c,h)}else return r(c,d,h)}function s(c,d){if(!B.isUndefined(d))return r(void 0,d)}function o(c,d){if(B.isUndefined(d)){if(!B.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,h){if(h in e)return r(c,d);if(h in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d)=>i(Jw(c),Jw(d),!0)};return B.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||i,p=h(t[d],e[d],d);B.isUndefined(p)&&h!==a||(n[d]=p)}),n}const aR=t=>{const e=zs({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=un.from(o),e.url=tR(oR(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(B.isFormData(n)){if(ln.hasStandardBrowserEnv||ln.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(ln.hasStandardBrowserEnv&&(r&&B.isFunction(r)&&(r=r(e)),r||r!==!1&&d2(e.url))){const c=i&&s&&h2.read(s);c&&o.set(i,c)}return e},m2=typeof XMLHttpRequest<"u",g2=m2&&function(t){return new Promise(function(n,r){const i=aR(t);let s=i.data;const o=un.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,h,p,g,w;function R(){g&&g(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function I(){if(!T)return;const S=un.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),V={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:S,config:t,request:T};sR(function(A){n(A),R()},function(A){r(A),R()},V),T=null}"onloadend"in T?T.onloadend=I:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(I)},T.onabort=function(){T&&(r(new ge("Request aborted",ge.ECONNABORTED,t,T)),T=null)},T.onerror=function(){r(new ge("Network Error",ge.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const V=i.transitional||nR;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),r(new ge(b,V.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,T)),T=null},s===void 0&&o.setContentType(null),"setRequestHeader"in T&&B.forEach(o.toJSON(),function(b,V){T.setRequestHeader(V,b)}),B.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),a&&a!=="json"&&(T.responseType=i.responseType),c&&([p,w]=Pd(c,!0),T.addEventListener("progress",p)),l&&T.upload&&([h,g]=Pd(l),T.upload.addEventListener("progress",h),T.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=S=>{T&&(r(!S||S.type?new ya(null,t,T):S),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const _=l2(i.url);if(_&&ln.protocols.indexOf(_)===-1){r(new ge("Unsupported protocol "+_+":",ge.ERR_BAD_REQUEST,t));return}T.send(s||null)})},y2=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof ge?d:new ya(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new ge(`timeout ${e} of ms exceeded`,ge.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>B.asap(a),l}},v2=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},_2=async function*(t,e){for await(const n of w2(t))yield*v2(n,e)},w2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Zw=(t,e,n,r)=>{const i=_2(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let h=d.byteLength;if(n){let p=s+=h;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Lh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lR=Lh&&typeof ReadableStream=="function",E2=Lh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),uR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},T2=lR&&uR(()=>{let t=!1;const e=new Request(ln.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),e0=64*1024,ym=lR&&uR(()=>B.isReadableStream(new Response("").body)),kd={stream:ym&&(t=>t.body)};Lh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!kd[e]&&(kd[e]=B.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ge(`Response type '${e}' is not supported`,ge.ERR_NOT_SUPPORT,r)})})})(new Response);const S2=async t=>{if(t==null)return 0;if(B.isBlob(t))return t.size;if(B.isSpecCompliantForm(t))return(await new Request(ln.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(B.isArrayBufferView(t)||B.isArrayBuffer(t))return t.byteLength;if(B.isURLSearchParams(t)&&(t=t+""),B.isString(t))return(await E2(t)).byteLength},I2=async(t,e)=>{const n=B.toFiniteNumber(t.getContentLength());return n??S2(e)},R2=Lh&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:p}=aR(t);c=c?(c+"").toLowerCase():"text";let g=y2([i,s&&s.toAbortSignal()],o),w;const R=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let T;try{if(l&&T2&&n!=="get"&&n!=="head"&&(T=await I2(d,r))!==0){let V=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(B.isFormData(r)&&(k=V.headers.get("content-type"))&&d.setContentType(k),V.body){const[A,E]=Yw(T,Pd(Xw(l)));r=Zw(V.body,e0,A,E)}}B.isString(h)||(h=h?"include":"omit");const I="credentials"in Request.prototype;w=new Request(e,{...p,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:I?h:void 0});let _=await fetch(w);const S=ym&&(c==="stream"||c==="response");if(ym&&(a||S&&R)){const V={};["status","statusText","headers"].forEach(x=>{V[x]=_[x]});const k=B.toFiniteNumber(_.headers.get("content-length")),[A,E]=a&&Yw(k,Pd(Xw(a),!0))||[];_=new Response(Zw(_.body,e0,A,()=>{E&&E(),R&&R()}),V)}c=c||"text";let b=await kd[B.findKey(kd,c)||"text"](_,t);return!S&&R&&R(),await new Promise((V,k)=>{sR(V,k,{data:b,headers:un.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:w})})}catch(I){throw R&&R(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,t,w),{cause:I.cause||I}):ge.from(I,I&&I.code,t,w)}}),vm={http:UL,xhr:g2,fetch:R2};B.forEach(vm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const t0=t=>`- ${t}`,C2=t=>B.isFunction(t)||t===null||t===!1,cR={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!C2(n)&&(r=vm[(o=String(n)).toLowerCase()],r===void 0))throw new ge(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(t0).join(`
`):" "+t0(s[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:vm};function Yf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ya(null,t)}function n0(t){return Yf(t),t.headers=un.from(t.headers),t.data=Qf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cR.getAdapter(t.adapter||vu.adapter)(t).then(function(r){return Yf(t),r.data=Qf.call(t,t.transformResponse,r),r.headers=un.from(r.headers),r},function(r){return iR(r)||(Yf(t),r&&r.response&&(r.response.data=Qf.call(t,t.transformResponse,r.response),r.response.headers=un.from(r.response.headers))),Promise.reject(r)})}const dR="1.7.7",Py={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Py[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const r0={};Py.transitional=function(e,n,r){function i(s,o){return"[Axios v"+dR+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ge(i(o," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!r0[o]&&(r0[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function A2(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ge("option "+s+" must be "+l,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+s,ge.ERR_BAD_OPTION)}}const _m={assertOptions:A2,validators:Py},yi=_m.validators;class Ls{constructor(e){this.defaults=e,this.interceptors={request:new Gw,response:new Gw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=zs(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&_m.assertOptions(r,{silentJSONParsing:yi.transitional(yi.boolean),forcedJSONParsing:yi.transitional(yi.boolean),clarifyTimeoutError:yi.transitional(yi.boolean)},!1),i!=null&&(B.isFunction(i)?n.paramsSerializer={serialize:i}:_m.assertOptions(i,{encode:yi.function,serialize:yi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&B.merge(s.common,s[n.method]);s&&B.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=un.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(l=l&&R.synchronous,a.unshift(R.fulfilled,R.rejected))});const c=[];this.interceptors.response.forEach(function(R){c.push(R.fulfilled,R.rejected)});let d,h=0,p;if(!l){const w=[n0.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,c),p=w.length,d=Promise.resolve(n);h<p;)d=d.then(w[h++],w[h++]);return d}p=a.length;let g=n;for(h=0;h<p;){const w=a[h++],R=a[h++];try{g=w(g)}catch(T){R.call(this,T);break}}try{d=n0.call(this,g)}catch(w){return Promise.reject(w)}for(h=0,p=c.length;h<p;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=zs(this.defaults,e);const n=oR(e.baseURL,e.url);return tR(n,e.params,e.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(e){Ls.prototype[e]=function(n,r){return this.request(zs(r||{},{method:e,url:n,data:(r||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(zs(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ls.prototype[e]=n(),Ls.prototype[e+"Form"]=n(!0)});class ky{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new ya(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ky(function(i){e=i}),cancel:e}}}function x2(t){return function(n){return t.apply(null,n)}}function P2(t){return B.isObject(t)&&t.isAxiosError===!0}const wm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wm).forEach(([t,e])=>{wm[e]=t});function hR(t){const e=new Ls(t),n=zI(Ls.prototype.request,e);return B.extend(n,Ls.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return hR(zs(t,i))},n}const lt=hR(vu);lt.Axios=Ls;lt.CanceledError=ya;lt.CancelToken=ky;lt.isCancel=iR;lt.VERSION=dR;lt.toFormData=Dh;lt.AxiosError=ge;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=x2;lt.isAxiosError=P2;lt.mergeConfig=zs;lt.AxiosHeaders=un;lt.formToJSON=t=>rR(B.isHTMLForm(t)?new FormData(t):t);lt.getAdapter=cR.getAdapter;lt.HttpStatusCode=wm;lt.default=lt;function Rt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var k2=typeof Symbol=="function"&&Symbol.observable||"@@observable",i0=k2,Xf=()=>Math.random().toString(36).substring(7).split("").join("."),N2={INIT:`@@redux/INIT${Xf()}`,REPLACE:`@@redux/REPLACE${Xf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xf()}`},Nd=N2;function Ny(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fR(t,e,n){if(typeof t!="function")throw new Error(Rt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rt(1));return n(fR)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((T,I)=>{o.set(I,T)}))}function d(){if(l)throw new Error(Rt(3));return i}function h(T){if(typeof T!="function")throw new Error(Rt(4));if(l)throw new Error(Rt(5));let I=!0;c();const _=a++;return o.set(_,T),function(){if(I){if(l)throw new Error(Rt(6));I=!1,c(),o.delete(_),s=null}}}function p(T){if(!Ny(T))throw new Error(Rt(7));if(typeof T.type>"u")throw new Error(Rt(8));if(typeof T.type!="string")throw new Error(Rt(17));if(l)throw new Error(Rt(9));try{l=!0,i=r(i,T)}finally{l=!1}return(s=o).forEach(_=>{_()}),T}function g(T){if(typeof T!="function")throw new Error(Rt(10));r=T,p({type:Nd.REPLACE})}function w(){const T=h;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Rt(11));function _(){const b=I;b.next&&b.next(d())}return _(),{unsubscribe:T(_)}},[i0](){return this}}}return p({type:Nd.INIT}),{dispatch:p,subscribe:h,getState:d,replaceReducer:g,[i0]:w}}function b2(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Nd.INIT})>"u")throw new Error(Rt(12));if(typeof n(void 0,{type:Nd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rt(13))})}function O2(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{b2(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],p=n[h],g=o[h],w=p(g,a);if(typeof w>"u")throw a&&a.type,new Error(Rt(14));c[h]=w,l=l||w!==g}return l=l||r.length!==Object.keys(o).length,l?c:o}}function bd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function D2(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Rt(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=bd(...a)(i.dispatch),{...i,dispatch:s}}}function L2(t){return Ny(t)&&"type"in t&&typeof t.type=="string"}var pR=Symbol.for("immer-nothing"),s0=Symbol.for("immer-draftable"),En=Symbol.for("immer-state");function Zn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Zo=Object.getPrototypeOf;function Hs(t){return!!t&&!!t[En]}function ei(t){var e;return t?mR(t)||Array.isArray(t)||!!t[s0]||!!((e=t.constructor)!=null&&e[s0])||jh(t)||Vh(t):!1}var M2=Object.prototype.constructor.toString();function mR(t){if(!t||typeof t!="object")return!1;const e=Zo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===M2}function Od(t,e){Mh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Mh(t){const e=t[En];return e?e.type_:Array.isArray(t)?1:jh(t)?2:Vh(t)?3:0}function Em(t,e){return Mh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function gR(t,e,n){const r=Mh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function j2(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function jh(t){return t instanceof Map}function Vh(t){return t instanceof Set}function Ts(t){return t.copy_||t.base_}function Tm(t,e){if(jh(t))return new Map(t);if(Vh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=mR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[En];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Zo(t),r)}else{const r=Zo(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function by(t,e=!1){return Fh(t)||Hs(t)||!ei(t)||(Mh(t)>1&&(t.set=t.add=t.clear=t.delete=V2),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>by(r,!0))),t}function V2(){Zn(2)}function Fh(t){return Object.isFrozen(t)}var F2={};function Ws(t){const e=F2[t];return e||Zn(0,t),e}var Ql;function yR(){return Ql}function U2(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function o0(t,e){e&&(Ws("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Sm(t){Im(t),t.drafts_.forEach(B2),t.drafts_=null}function Im(t){t===Ql&&(Ql=t.parent_)}function a0(t){return Ql=U2(Ql,t)}function B2(t){const e=t[En];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function l0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[En].modified_&&(Sm(e),Zn(4)),ei(t)&&(t=Dd(e,t),e.parent_||Ld(e,t)),e.patches_&&Ws("Patches").generateReplacementPatches_(n[En].base_,t,e.patches_,e.inversePatches_)):t=Dd(e,n,[]),Sm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pR?t:void 0}function Dd(t,e,n){if(Fh(e))return e;const r=e[En];if(!r)return Od(e,(i,s)=>u0(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Ld(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Od(s,(a,l)=>u0(t,r,i,a,l,n,o)),Ld(t,i,!1),n&&t.patches_&&Ws("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function u0(t,e,n,r,i,s,o){if(Hs(i)){const a=s&&e&&e.type_!==3&&!Em(e.assigned_,r)?s.concat(r):void 0,l=Dd(t,i,a);if(gR(n,r,l),Hs(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ei(i)&&!Fh(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Dd(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Ld(t,i)}}function Ld(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&by(e,n)}function $2(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:yR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Oy;n&&(i=[r],s=Yl);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Oy={get(t,e){if(e===En)return t;const n=Ts(t);if(!Em(n,e))return z2(t,n,e);const r=n[e];return t.finalized_||!ei(r)?r:r===Jf(t.base_,e)?(Zf(t),t.copy_[e]=Cm(r,t)):r},has(t,e){return e in Ts(t)},ownKeys(t){return Reflect.ownKeys(Ts(t))},set(t,e,n){const r=vR(Ts(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Jf(Ts(t),e),s=i==null?void 0:i[En];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(j2(n,i)&&(n!==void 0||Em(t.base_,e)))return!0;Zf(t),Rm(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Jf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Zf(t),Rm(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ts(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Zn(11)},getPrototypeOf(t){return Zo(t.base_)},setPrototypeOf(){Zn(12)}},Yl={};Od(Oy,(t,e)=>{Yl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Yl.deleteProperty=function(t,e){return Yl.set.call(this,t,e,void 0)};Yl.set=function(t,e,n){return Oy.set.call(this,t[0],e,n,t[0])};function Jf(t,e){const n=t[En];return(n?Ts(n):t)[e]}function z2(t,e,n){var i;const r=vR(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function vR(t,e){if(!(e in t))return;let n=Zo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Zo(n)}}function Rm(t){t.modified_||(t.modified_=!0,t.parent_&&Rm(t.parent_))}function Zf(t){t.copy_||(t.copy_=Tm(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var H2=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&Zn(6),r!==void 0&&typeof r!="function"&&Zn(7);let i;if(ei(e)){const s=a0(this),o=Cm(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Sm(s):Im(s)}return o0(s,r),l0(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===pR&&(i=void 0),this.autoFreeze_&&by(i,!0),r){const s=[],o=[];Ws("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Zn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ei(t)||Zn(8),Hs(t)&&(t=W2(t));const e=a0(this),n=Cm(t,void 0);return n[En].isManual_=!0,Im(e),n}finishDraft(t,e){const n=t&&t[En];(!n||!n.isManual_)&&Zn(9);const{scope_:r}=n;return o0(r,e),l0(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ws("Patches").applyPatches_;return Hs(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Cm(t,e){const n=jh(t)?Ws("MapSet").proxyMap_(t,e):Vh(t)?Ws("MapSet").proxySet_(t,e):$2(t,e);return(e?e.scope_:yR()).drafts_.push(n),n}function W2(t){return Hs(t)||Zn(10,t),_R(t)}function _R(t){if(!ei(t)||Fh(t))return t;const e=t[En];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Tm(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Tm(t,!0);return Od(n,(r,i)=>{gR(n,r,_R(i))}),e&&(e.finalized_=!1),n}var Tn=new H2,wR=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseStrictShallowCopy.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);function ER(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var K2=ER(),q2=ER,G2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bd:bd.apply(null,arguments)};function c0(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Er(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>L2(r)&&r.type===t,n}var TR=class ol extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ol.prototype)}static get[Symbol.species](){return ol}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ol(...e[0].concat(this)):new ol(...e.concat(this))}};function d0(t){return ei(t)?wR(t,()=>{}):t}function h0(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Er(10));const r=n.insert(e,t);return t.set(e,r),r}function Q2(t){return typeof t=="boolean"}var Y2=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new TR;return n&&(Q2(n)?o.push(K2):o.push(q2(n.extraArgument))),o},X2="RTK_autoBatch",SR=t=>e=>{setTimeout(e,t)},J2=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:SR(10),Z2=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?J2:t.type==="callback"?t.queueNotification:SR(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),p=r.subscribe(h);return a.add(d),()=>{p(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[X2]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},eM=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new TR(t);return r&&i.push(Z2(typeof r=="object"?r:void 0)),i};function tM(t){const e=Y2(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Ny(n))a=O2(n);else throw new Error(Er(1));let l;typeof r=="function"?l=r(e):l=e();let c=bd;i&&(c=G2({trace:!1,...typeof i=="object"&&i}));const d=D2(...l),h=eM(d);let p=typeof o=="function"?o(h):h();const g=c(...p);return fR(a,s,g)}function IR(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Er(28));if(a in e)throw new Error(Er(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function nM(t){return typeof t=="function"}function rM(t,e){let[n,r,i]=IR(e),s;if(nM(t))s=()=>d0(t());else{const a=d0(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(Hs(d)){const g=h(d,l);return g===void 0?d:g}else{if(ei(d))return wR(d,p=>h(p,l));{const p=h(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},a)}return o.getInitialState=s,o}var iM=Symbol.for("rtk-slice-createasyncthunk");function sM(t,e){return`${t}/${e}`}function oM({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[iM];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Er(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(lM()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,b){const V=typeof S=="string"?S:S.type;if(!V)throw new Error(Er(12));if(V in c.sliceCaseReducersByType)throw new Error(Er(13));return c.sliceCaseReducersByType[V]=b,d},addMatcher(S,b){return c.sliceMatchers.push({matcher:S,reducer:b}),d},exposeAction(S,b){return c.actionCreators[S]=b,d},exposeCaseReducer(S,b){return c.sliceCaseReducersByName[S]=b,d}};l.forEach(S=>{const b=a[S],V={reducerName:S,type:sM(s,S),createNotation:typeof i.reducers=="function"};cM(b)?hM(V,b,d,e):uM(V,b,d)});function h(){const[S={},b=[],V=void 0]=typeof i.extraReducers=="function"?IR(i.extraReducers):[i.extraReducers],k={...S,...c.sliceCaseReducersByType};return rM(i.initialState,A=>{for(let E in k)A.addCase(E,k[E]);for(let E of c.sliceMatchers)A.addMatcher(E.matcher,E.reducer);for(let E of b)A.addMatcher(E.matcher,E.reducer);V&&A.addDefaultCase(V)})}const p=S=>S,g=new Map;let w;function R(S,b){return w||(w=h()),w(S,b)}function T(){return w||(w=h()),w.getInitialState()}function I(S,b=!1){function V(A){let E=A[S];return typeof E>"u"&&b&&(E=T()),E}function k(A=p){const E=h0(g,b,{insert:()=>new WeakMap});return h0(E,A,{insert:()=>{const x={};for(const[P,D]of Object.entries(i.selectors??{}))x[P]=aM(D,A,T,b);return x}})}return{reducerPath:S,getSelectors:k,get selectors(){return k(V)},selectSlice:V}}const _={name:s,reducer:R,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:T,...I(o),injectInto(S,{reducerPath:b,...V}={}){const k=b??o;return S.inject({reducerPath:k,reducer:R},V),{..._,...I(k,!0)}}};return _}}function aM(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var RR=oM();function lM(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function uM({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!dM(r))throw new Error(Er(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?c0(t,o):c0(t))}function cM(t){return t._reducerDefinitionType==="asyncThunk"}function dM(t){return t._reducerDefinitionType==="reducerWithPrepare"}function hM({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Er(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:d}=n,h=i(t,s,d);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:o||_c,pending:a||_c,rejected:l||_c,settled:c||_c})}function _c(){}function Er(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const fM={countries:[],isLoading:!0,search:""},CR=RR({name:"countries",initialState:fM,reducers:{getCountries(t,e){t.countries=e.payload},isLoading(t,e){t.isLoading=e.payload},search(t,e){t.search=e.payload}},extraReducers(){}}),{getCountries:pM,isLoading:mM,search:gM}=CR.actions,yM=CR.reducer,vM="https://restcountries.com/v3.1/all",_M=async()=>(await lt.get(vM)).data,AR=()=>async t=>{await new Promise(e=>setTimeout(e,2e3));try{const e=await _M();t(pM(e))}catch(e){console.error("Error fetching countries:",e)}finally{t(mM(!1))}};var f0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},PR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new EM;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TM=function(t){const e=xR(t);return PR.encodeByteArray(e,!0)},Md=function(t){return TM(t).replace(/\./g,"")},kR=function(t){try{return PR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=()=>SM().__FIREBASE_DEFAULTS__,RM=()=>{if(typeof process>"u"||typeof f0>"u")return;const t=f0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kR(t[1]);return e&&JSON.parse(e)},Uh=()=>{try{return IM()||RM()||CM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NR=t=>{var e,n;return(n=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AM=t=>{const e=NR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bR=()=>{var t;return(t=Uh())===null||t===void 0?void 0:t.config},OR=t=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Md(JSON.stringify(n)),Md(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function NM(){var t;const e=(t=Uh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LM(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MM(){return!NM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jM(){try{return typeof indexedDB=="object"}catch{return!1}}function VM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FM,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ai(i,a,r)}}function UM(t,e){return t.replace(BM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BM=/\{\$([^}]+)}/g;function $M(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(p0(s)&&p0(o)){if(!jd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function p0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function al(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ll(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zM(t,e){const n=new HM(t,e);return n.subscribe.bind(n)}class HM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ep),i.error===void 0&&(i.error=ep),i.complete===void 0&&(i.complete=ep);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GM(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qM(t){return t===Ss?void 0:t}function GM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const YM={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},XM=Ce.INFO,JM={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},ZM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dy{constructor(e){this.name=e,this._logLevel=XM,this._logHandler=ZM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const ej=(t,e)=>e.some(n=>t instanceof n);let m0,g0;function tj(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nj(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DR=new WeakMap,Am=new WeakMap,LR=new WeakMap,tp=new WeakMap,Ly=new WeakMap;function rj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DR.set(n,t)}).catch(()=>{}),Ly.set(e,t),e}function ij(t){if(Am.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Am.set(t,e)}let xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sj(t){xm=t(xm)}function oj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(np(this),e,...n);return LR.set(r,e.sort?e.sort():[e]),zi(r)}:nj().includes(t)?function(...e){return t.apply(np(this),e),zi(DR.get(this))}:function(...e){return zi(t.apply(np(this),e))}}function aj(t){return typeof t=="function"?oj(t):(t instanceof IDBTransaction&&ij(t),ej(t,tj())?new Proxy(t,xm):t)}function zi(t){if(t instanceof IDBRequest)return rj(t);if(tp.has(t))return tp.get(t);const e=aj(t);return e!==t&&(tp.set(t,e),Ly.set(e,t)),e}const np=t=>Ly.get(t);function lj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const uj=["get","getKey","getAll","getAllKeys","count"],cj=["put","add","delete","clear"],rp=new Map;function y0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return rp.set(e,s),s}sj(t=>({...t,get:(e,n,r)=>y0(e,n)||t.get(e,n,r),has:(e,n)=>!!y0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",v0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Dy("@firebase/app"),fj="@firebase/app-compat",pj="@firebase/analytics-compat",mj="@firebase/analytics",gj="@firebase/app-check-compat",yj="@firebase/app-check",vj="@firebase/auth",_j="@firebase/auth-compat",wj="@firebase/database",Ej="@firebase/data-connect",Tj="@firebase/database-compat",Sj="@firebase/functions",Ij="@firebase/functions-compat",Rj="@firebase/installations",Cj="@firebase/installations-compat",Aj="@firebase/messaging",xj="@firebase/messaging-compat",Pj="@firebase/performance",kj="@firebase/performance-compat",Nj="@firebase/remote-config",bj="@firebase/remote-config-compat",Oj="@firebase/storage",Dj="@firebase/storage-compat",Lj="@firebase/firestore",Mj="@firebase/vertexai-preview",jj="@firebase/firestore-compat",Vj="firebase",Fj="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",Uj={[Pm]:"fire-core",[fj]:"fire-core-compat",[mj]:"fire-analytics",[pj]:"fire-analytics-compat",[yj]:"fire-app-check",[gj]:"fire-app-check-compat",[vj]:"fire-auth",[_j]:"fire-auth-compat",[wj]:"fire-rtdb",[Ej]:"fire-data-connect",[Tj]:"fire-rtdb-compat",[Sj]:"fire-fn",[Ij]:"fire-fn-compat",[Rj]:"fire-iid",[Cj]:"fire-iid-compat",[Aj]:"fire-fcm",[xj]:"fire-fcm-compat",[Pj]:"fire-perf",[kj]:"fire-perf-compat",[Nj]:"fire-rc",[bj]:"fire-rc-compat",[Oj]:"fire-gcs",[Dj]:"fire-gcs-compat",[Lj]:"fire-fst",[jj]:"fire-fst-compat",[Mj]:"fire-vertex","fire-js":"fire-js",[Vj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map,Bj=new Map,Nm=new Map;function _0(t,e){try{t.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ea(t){const e=t.name;if(Nm.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,t);for(const n of Vd.values())_0(n,t);for(const n of Bj.values())_0(n,t);return!0}function My(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new _u("app","Firebase",$j);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=Fj;function MR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:km,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=bR()),!n)throw Hi.create("no-options");const s=Vd.get(i);if(s){if(jd(n,s.options)&&jd(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}const o=new QM(i);for(const l of Nm.values())o.addComponent(l);const a=new zj(n,r,o);return Vd.set(i,a),a}function jR(t=km){const e=Vd.get(t);if(!e&&t===km&&bR())return MR();if(!e)throw Hi.create("no-app",{appName:t});return e}function Wi(t,e,n){var r;let i=(r=Uj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(a.join(" "));return}ea(new Ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="firebase-heartbeat-database",Wj=1,Xl="firebase-heartbeat-store";let ip=null;function VR(){return ip||(ip=lj(Hj,Wj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),ip}async function Kj(t){try{const n=(await VR()).transaction(Xl),r=await n.objectStore(Xl).get(FR(t));return await n.done,r}catch(e){if(e instanceof ai)ti.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(n.message)}}}async function w0(t,e){try{const r=(await VR()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,FR(t)),await r.done}catch(n){if(n instanceof ai)ti.warn(n.message);else{const r=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ti.warn(r.message)}}}function FR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=1024,Gj=30*24*60*60*1e3;class Qj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Gj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E0(),{heartbeatsToSend:r,unsentEntries:i}=Yj(this._heartbeatsCache.heartbeats),s=Md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ti.warn(n),""}}}function E0(){return new Date().toISOString().substring(0,10)}function Yj(t,e=qj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),T0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),T0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jM()?VM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return w0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return w0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function T0(t){return Md(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){ea(new Ks("platform-logger",e=>new dj(e),"PRIVATE")),ea(new Ks("heartbeat",e=>new Qj(e),"PRIVATE")),Wi(Pm,v0,t),Wi(Pm,v0,"esm2017"),Wi("fire-js","")}Jj("");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,UR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function x(){}x.prototype=E.prototype,A.D=E.prototype,A.prototype=new x,A.prototype.constructor=A,A.C=function(P,D,L){for(var N=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)N[Te-2]=arguments[Te];return E.prototype[D].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,E,x){x||(x=0);var P=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)P[D]=E.charCodeAt(x++)|E.charCodeAt(x++)<<8|E.charCodeAt(x++)<<16|E.charCodeAt(x++)<<24;else for(D=0;16>D;++D)P[D]=E[x++]|E[x++]<<8|E[x++]<<16|E[x++]<<24;E=A.g[0],x=A.g[1],D=A.g[2];var L=A.g[3],N=E+(L^x&(D^L))+P[0]+3614090360&4294967295;E=x+(N<<7&4294967295|N>>>25),N=L+(D^E&(x^D))+P[1]+3905402710&4294967295,L=E+(N<<12&4294967295|N>>>20),N=D+(x^L&(E^x))+P[2]+606105819&4294967295,D=L+(N<<17&4294967295|N>>>15),N=x+(E^D&(L^E))+P[3]+3250441966&4294967295,x=D+(N<<22&4294967295|N>>>10),N=E+(L^x&(D^L))+P[4]+4118548399&4294967295,E=x+(N<<7&4294967295|N>>>25),N=L+(D^E&(x^D))+P[5]+1200080426&4294967295,L=E+(N<<12&4294967295|N>>>20),N=D+(x^L&(E^x))+P[6]+2821735955&4294967295,D=L+(N<<17&4294967295|N>>>15),N=x+(E^D&(L^E))+P[7]+4249261313&4294967295,x=D+(N<<22&4294967295|N>>>10),N=E+(L^x&(D^L))+P[8]+1770035416&4294967295,E=x+(N<<7&4294967295|N>>>25),N=L+(D^E&(x^D))+P[9]+2336552879&4294967295,L=E+(N<<12&4294967295|N>>>20),N=D+(x^L&(E^x))+P[10]+4294925233&4294967295,D=L+(N<<17&4294967295|N>>>15),N=x+(E^D&(L^E))+P[11]+2304563134&4294967295,x=D+(N<<22&4294967295|N>>>10),N=E+(L^x&(D^L))+P[12]+1804603682&4294967295,E=x+(N<<7&4294967295|N>>>25),N=L+(D^E&(x^D))+P[13]+4254626195&4294967295,L=E+(N<<12&4294967295|N>>>20),N=D+(x^L&(E^x))+P[14]+2792965006&4294967295,D=L+(N<<17&4294967295|N>>>15),N=x+(E^D&(L^E))+P[15]+1236535329&4294967295,x=D+(N<<22&4294967295|N>>>10),N=E+(D^L&(x^D))+P[1]+4129170786&4294967295,E=x+(N<<5&4294967295|N>>>27),N=L+(x^D&(E^x))+P[6]+3225465664&4294967295,L=E+(N<<9&4294967295|N>>>23),N=D+(E^x&(L^E))+P[11]+643717713&4294967295,D=L+(N<<14&4294967295|N>>>18),N=x+(L^E&(D^L))+P[0]+3921069994&4294967295,x=D+(N<<20&4294967295|N>>>12),N=E+(D^L&(x^D))+P[5]+3593408605&4294967295,E=x+(N<<5&4294967295|N>>>27),N=L+(x^D&(E^x))+P[10]+38016083&4294967295,L=E+(N<<9&4294967295|N>>>23),N=D+(E^x&(L^E))+P[15]+3634488961&4294967295,D=L+(N<<14&4294967295|N>>>18),N=x+(L^E&(D^L))+P[4]+3889429448&4294967295,x=D+(N<<20&4294967295|N>>>12),N=E+(D^L&(x^D))+P[9]+568446438&4294967295,E=x+(N<<5&4294967295|N>>>27),N=L+(x^D&(E^x))+P[14]+3275163606&4294967295,L=E+(N<<9&4294967295|N>>>23),N=D+(E^x&(L^E))+P[3]+4107603335&4294967295,D=L+(N<<14&4294967295|N>>>18),N=x+(L^E&(D^L))+P[8]+1163531501&4294967295,x=D+(N<<20&4294967295|N>>>12),N=E+(D^L&(x^D))+P[13]+2850285829&4294967295,E=x+(N<<5&4294967295|N>>>27),N=L+(x^D&(E^x))+P[2]+4243563512&4294967295,L=E+(N<<9&4294967295|N>>>23),N=D+(E^x&(L^E))+P[7]+1735328473&4294967295,D=L+(N<<14&4294967295|N>>>18),N=x+(L^E&(D^L))+P[12]+2368359562&4294967295,x=D+(N<<20&4294967295|N>>>12),N=E+(x^D^L)+P[5]+4294588738&4294967295,E=x+(N<<4&4294967295|N>>>28),N=L+(E^x^D)+P[8]+2272392833&4294967295,L=E+(N<<11&4294967295|N>>>21),N=D+(L^E^x)+P[11]+1839030562&4294967295,D=L+(N<<16&4294967295|N>>>16),N=x+(D^L^E)+P[14]+4259657740&4294967295,x=D+(N<<23&4294967295|N>>>9),N=E+(x^D^L)+P[1]+2763975236&4294967295,E=x+(N<<4&4294967295|N>>>28),N=L+(E^x^D)+P[4]+1272893353&4294967295,L=E+(N<<11&4294967295|N>>>21),N=D+(L^E^x)+P[7]+4139469664&4294967295,D=L+(N<<16&4294967295|N>>>16),N=x+(D^L^E)+P[10]+3200236656&4294967295,x=D+(N<<23&4294967295|N>>>9),N=E+(x^D^L)+P[13]+681279174&4294967295,E=x+(N<<4&4294967295|N>>>28),N=L+(E^x^D)+P[0]+3936430074&4294967295,L=E+(N<<11&4294967295|N>>>21),N=D+(L^E^x)+P[3]+3572445317&4294967295,D=L+(N<<16&4294967295|N>>>16),N=x+(D^L^E)+P[6]+76029189&4294967295,x=D+(N<<23&4294967295|N>>>9),N=E+(x^D^L)+P[9]+3654602809&4294967295,E=x+(N<<4&4294967295|N>>>28),N=L+(E^x^D)+P[12]+3873151461&4294967295,L=E+(N<<11&4294967295|N>>>21),N=D+(L^E^x)+P[15]+530742520&4294967295,D=L+(N<<16&4294967295|N>>>16),N=x+(D^L^E)+P[2]+3299628645&4294967295,x=D+(N<<23&4294967295|N>>>9),N=E+(D^(x|~L))+P[0]+4096336452&4294967295,E=x+(N<<6&4294967295|N>>>26),N=L+(x^(E|~D))+P[7]+1126891415&4294967295,L=E+(N<<10&4294967295|N>>>22),N=D+(E^(L|~x))+P[14]+2878612391&4294967295,D=L+(N<<15&4294967295|N>>>17),N=x+(L^(D|~E))+P[5]+4237533241&4294967295,x=D+(N<<21&4294967295|N>>>11),N=E+(D^(x|~L))+P[12]+1700485571&4294967295,E=x+(N<<6&4294967295|N>>>26),N=L+(x^(E|~D))+P[3]+2399980690&4294967295,L=E+(N<<10&4294967295|N>>>22),N=D+(E^(L|~x))+P[10]+4293915773&4294967295,D=L+(N<<15&4294967295|N>>>17),N=x+(L^(D|~E))+P[1]+2240044497&4294967295,x=D+(N<<21&4294967295|N>>>11),N=E+(D^(x|~L))+P[8]+1873313359&4294967295,E=x+(N<<6&4294967295|N>>>26),N=L+(x^(E|~D))+P[15]+4264355552&4294967295,L=E+(N<<10&4294967295|N>>>22),N=D+(E^(L|~x))+P[6]+2734768916&4294967295,D=L+(N<<15&4294967295|N>>>17),N=x+(L^(D|~E))+P[13]+1309151649&4294967295,x=D+(N<<21&4294967295|N>>>11),N=E+(D^(x|~L))+P[4]+4149444226&4294967295,E=x+(N<<6&4294967295|N>>>26),N=L+(x^(E|~D))+P[11]+3174756917&4294967295,L=E+(N<<10&4294967295|N>>>22),N=D+(E^(L|~x))+P[2]+718787259&4294967295,D=L+(N<<15&4294967295|N>>>17),N=x+(L^(D|~E))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+L&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var x=E-this.blockSize,P=this.B,D=this.h,L=0;L<E;){if(D==0)for(;L<=x;)i(this,A,L),L+=this.blockSize;if(typeof A=="string"){for(;L<E;)if(P[D++]=A.charCodeAt(L++),D==this.blockSize){i(this,P),D=0;break}}else for(;L<E;)if(P[D++]=A[L++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var x=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=x&255,x/=256;for(this.u(A),A=Array(16),E=x=0;4>E;++E)for(var P=0;32>P;P+=8)A[x++]=this.g[E]>>>P&255;return A};function s(A,E){var x=a;return Object.prototype.hasOwnProperty.call(x,A)?x[A]:x[A]=E(A)}function o(A,E){this.h=E;for(var x=[],P=!0,D=A.length-1;0<=D;D--){var L=A[D]|0;P&&L==E||(x[D]=L,P=!1)}this.g=x}var a={};function l(A){return-128<=A&&128>A?s(A,function(E){return new o([E|0],0>E?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return T(c(-A));for(var E=[],x=1,P=0;A>=x;P++)E[P]=A/x|0,x*=4294967296;return new o(E,0)}function d(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return T(d(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(E,8)),P=h,D=0;D<A.length;D+=8){var L=Math.min(8,A.length-D),N=parseInt(A.substring(D,D+L),E);8>L?(L=c(Math.pow(E,L)),P=P.j(L).add(c(N))):(P=P.j(x),P=P.add(c(N)))}return P}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(R(this))return-T(this).m();for(var A=0,E=1,x=0;x<this.g.length;x++){var P=this.i(x);A+=(0<=P?P:4294967296+P)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(w(this))return"0";if(R(this))return"-"+T(this).toString(A);for(var E=c(Math.pow(A,6)),x=this,P="";;){var D=b(x,E).g;x=I(x,D.j(E));var L=((0<x.g.length?x.g[0]:x.h)>>>0).toString(A);if(x=D,w(x))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function w(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function R(A){return A.h==-1}t.l=function(A){return A=I(this,A),R(A)?-1:w(A)?0:1};function T(A){for(var E=A.g.length,x=[],P=0;P<E;P++)x[P]=~A.g[P];return new o(x,~A.h).add(p)}t.abs=function(){return R(this)?T(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),x=[],P=0,D=0;D<=E;D++){var L=P+(this.i(D)&65535)+(A.i(D)&65535),N=(L>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);P=N>>>16,L&=65535,N&=65535,x[D]=N<<16|L}return new o(x,x[x.length-1]&-2147483648?-1:0)};function I(A,E){return A.add(T(E))}t.j=function(A){if(w(this)||w(A))return h;if(R(this))return R(A)?T(this).j(T(A)):T(T(this).j(A));if(R(A))return T(this.j(T(A)));if(0>this.l(g)&&0>A.l(g))return c(this.m()*A.m());for(var E=this.g.length+A.g.length,x=[],P=0;P<2*E;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<A.g.length;D++){var L=this.i(P)>>>16,N=this.i(P)&65535,Te=A.i(D)>>>16,dt=A.i(D)&65535;x[2*P+2*D]+=N*dt,_(x,2*P+2*D),x[2*P+2*D+1]+=L*dt,_(x,2*P+2*D+1),x[2*P+2*D+1]+=N*Te,_(x,2*P+2*D+1),x[2*P+2*D+2]+=L*Te,_(x,2*P+2*D+2)}for(P=0;P<E;P++)x[P]=x[2*P+1]<<16|x[2*P];for(P=E;P<2*E;P++)x[P]=0;return new o(x,0)};function _(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function S(A,E){this.g=A,this.h=E}function b(A,E){if(w(E))throw Error("division by zero");if(w(A))return new S(h,h);if(R(A))return E=b(T(A),E),new S(T(E.g),T(E.h));if(R(E))return E=b(A,T(E)),new S(T(E.g),E.h);if(30<A.g.length){if(R(A)||R(E))throw Error("slowDivide_ only works with positive integers.");for(var x=p,P=E;0>=P.l(A);)x=V(x),P=V(P);var D=k(x,1),L=k(P,1);for(P=k(P,2),x=k(x,2);!w(P);){var N=L.add(P);0>=N.l(A)&&(D=D.add(x),L=N),P=k(P,1),x=k(x,1)}return E=I(A,D.j(E)),new S(D,E)}for(D=h;0<=A.l(E);){for(x=Math.max(1,Math.floor(A.m()/E.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=c(x),N=L.j(E);R(N)||0<N.l(A);)x-=P,L=c(x),N=L.j(E);w(L)&&(L=p),D=D.add(L),A=I(A,N)}return new S(D,A)}t.A=function(A){return b(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),x=[],P=0;P<E;P++)x[P]=this.i(P)&A.i(P);return new o(x,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),x=[],P=0;P<E;P++)x[P]=this.i(P)|A.i(P);return new o(x,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),x=[],P=0;P<E;P++)x[P]=this.i(P)^A.i(P);return new o(x,this.h^A.h)};function V(A){for(var E=A.g.length+1,x=[],P=0;P<E;P++)x[P]=A.i(P)<<1|A.i(P-1)>>>31;return new o(x,A.h)}function k(A,E){var x=E>>5;E%=32;for(var P=A.g.length-x,D=[],L=0;L<P;L++)D[L]=0<E?A.i(L+x)>>>E|A.i(L+x+1)<<32-E:A.i(L+x);return new o(D,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ms=o}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BR,ul,$R,$c,bm,zR,HR,WR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var j=u[C];if(!(j in m))break e;m=m[j]}u=u[u.length-1],C=m[u],f=f(C),f!=C&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,C=!1,j={next:function(){if(!C&&m<u.length){var U=m++;return{value:f(U,u[U]),done:!1}}return C=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,m){return u.call.apply(u.bind,arguments)}function h(u,f,m){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,C),u.apply(f,j)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var C=m.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function w(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(C,j,U){for(var q=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)q[Ve-2]=arguments[Ve];return f.prototype[j].apply(C,q)}}function R(u){const f=u.length;if(0<f){const m=Array(f);for(let C=0;C<f;C++)m[C]=u[C];return m}return[]}function T(u,f){for(let m=1;m<arguments.length;m++){const C=arguments[m];if(l(C)){const j=u.length||0,U=C.length||0;u.length=j+U;for(let q=0;q<U;q++)u[j+q]=C[q]}else u.push(C)}}class I{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(u){return/^[\s\xa0]*$/.test(u)}function S(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function b(u){return b[" "](u),u}b[" "]=function(){};var V=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function k(u,f,m){for(const C in u)f.call(m,u[C],C,u)}function A(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function E(u){const f={};for(const m in u)f[m]=u[m];return f}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,f){let m,C;for(let j=1;j<arguments.length;j++){C=arguments[j];for(m in C)u[m]=C[m];for(let U=0;U<x.length;U++)m=x[U],Object.prototype.hasOwnProperty.call(C,m)&&(u[m]=C[m])}}function D(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function L(u){a.setTimeout(()=>{throw u},0)}function N(){var u=ne;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class Te{constructor(){this.h=this.g=null}add(f,m){const C=dt.get();C.set(f,m),this.h?this.h.next=C:this.g=C,this.h=C}}var dt=new I(()=>new Ze,u=>u.reset());class Ze{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let we,W=!1,ne=new Te,se=()=>{const u=a.Promise.resolve(void 0);we=()=>{u.then(ye)}};var ye=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(m){L(m)}var f=dt;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}W=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function He(u,f){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(V){e:{try{b(f.nodeName);var j=!0;break e}catch{}j=!1}j||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:gt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&He.aa.h.call(this)}}w(He,me);var gt={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Ra=0;function cs(u,f,m,C,j){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!C,this.ha=j,this.key=++Ra,this.da=this.fa=!1}function lr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,f,m,C,j){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var q=ur(u,f,C,j);return-1<q?(f=u[q],m||(f.fa=!1)):(f=new cs(f,this.src,U,!!C,j),f.fa=m,u.push(f)),f};function hn(u,f){var m=f.type;if(m in u.g){var C=u.g[m],j=Array.prototype.indexOf.call(C,f,void 0),U;(U=0<=j)&&Array.prototype.splice.call(C,j,1),U&&(lr(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function ur(u,f,m,C){for(var j=0;j<u.length;++j){var U=u[j];if(!U.da&&U.listener==f&&U.capture==!!m&&U.ha==C)return j}return-1}var cr="closure_lm_"+(1e6*Math.random()|0),ke={};function ds(u,f,m,C,j){if(Array.isArray(f)){for(var U=0;U<f.length;U++)ds(u,f[U],m,C,j);return null}return m=Aa(m),u&&u[Dt]?u.K(f,m,c(C)?!!C.capture:!!C,j):hs(u,f,m,!1,C,j)}function hs(u,f,m,C,j,U){if(!f)throw Error("Invalid event type");var q=c(j)?!!j.capture:!!j,Ve=zn(u);if(Ve||(u[cr]=Ve=new st(u)),m=Ve.add(f,m,C,q,U),m.proxy)return m;if(C=Ou(),m.proxy=C,C.src=u,C.listener=m,u.addEventListener)Pe||(j=q),j===void 0&&(j=!1),u.addEventListener(f.toString(),C,j);else if(u.attachEvent)u.attachEvent(Lu(f.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Ou(){function u(m){return f.call(u.src,u.listener,m)}const f=nf;return u}function Du(u,f,m,C,j){if(Array.isArray(f))for(var U=0;U<f.length;U++)Du(u,f[U],m,C,j);else C=c(C)?!!C.capture:!!C,m=Aa(m),u&&u[Dt]?(u=u.i,f=String(f).toString(),f in u.g&&(U=u.g[f],m=ur(U,m,C,j),-1<m&&(lr(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete u.g[f],u.h--)))):u&&(u=zn(u))&&(f=u.g[f.toString()],u=-1,f&&(u=ur(f,m,C,j)),(m=-1<u?f[u]:null)&&Ca(m))}function Ca(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Dt])hn(f.i,u);else{var m=u.type,C=u.proxy;f.removeEventListener?f.removeEventListener(m,C,u.capture):f.detachEvent?f.detachEvent(Lu(m),C):f.addListener&&f.removeListener&&f.removeListener(C),(m=zn(f))?(hn(m,u),m.h==0&&(m.src=null,f[cr]=null)):lr(u)}}}function Lu(u){return u in ke?ke[u]:ke[u]="on"+u}function nf(u,f){if(u.da)u=!0;else{f=new He(f,this);var m=u.listener,C=u.ha||u.src;u.fa&&Ca(u),u=m.call(C,f)}return u}function zn(u){return u=u[cr],u instanceof st?u:null}var xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(u){return typeof u=="function"?u:(u[xr]||(u[xr]=function(f){return u.handleEvent(f)}),u[xr])}function ht(){ve.call(this),this.i=new st(this),this.M=this,this.F=null}w(ht,ve),ht.prototype[Dt]=!0,ht.prototype.removeEventListener=function(u,f,m,C){Du(this,u,f,m,C)};function Qe(u,f){var m,C=u.F;if(C)for(m=[];C;C=C.F)m.push(C);if(u=u.M,C=f.type||f,typeof f=="string")f=new me(f,u);else if(f instanceof me)f.target=f.target||u;else{var j=f;f=new me(C,u),P(f,j)}if(j=!0,m)for(var U=m.length-1;0<=U;U--){var q=f.g=m[U];j=Yt(q,C,!0,f)&&j}if(q=f.g=u,j=Yt(q,C,!0,f)&&j,j=Yt(q,C,!1,f)&&j,m)for(U=0;U<m.length;U++)q=f.g=m[U],j=Yt(q,C,!1,f)&&j}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],C=0;C<m.length;C++)lr(m[C]);delete u.g[f],u.h--}}this.F=null},ht.prototype.K=function(u,f,m,C){return this.i.add(String(u),f,!1,m,C)},ht.prototype.L=function(u,f,m,C){return this.i.add(String(u),f,!0,m,C)};function Yt(u,f,m,C){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var j=!0,U=0;U<f.length;++U){var q=f[U];if(q&&!q.da&&q.capture==m){var Ve=q.listener,It=q.ha||q.src;q.fa&&hn(u.i,q),j=Ve.call(It,C)!==!1&&j}}return j&&!C.defaultPrevented}function xa(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function fs(u){u.g=xa(()=>{u.g=null,u.i&&(u.i=!1,fs(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class rf extends ve{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:fs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xt(u){ve.call(this),this.h=u,this.g={}}w(Xt,ve);var Pa=[];function ka(u){k(u.g,function(f,m){this.g.hasOwnProperty(m)&&Ca(f)},u),u.g={}}Xt.prototype.N=function(){Xt.aa.N.call(this),ka(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=a.JSON.stringify,sf=a.JSON.parse,Mu=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ui(){}ui.prototype.h=null;function Na(u){return u.h||(u.h=u.i())}function so(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ba(){me.call(this,"d")}w(ba,me);function oo(){me.call(this,"c")}w(oo,me);var kr={},Oa=null;function Nr(){return Oa=Oa||new ht}kr.La="serverreachability";function ps(u){me.call(this,kr.La,u)}w(ps,me);function ms(u){const f=Nr();Qe(f,new ps(f))}kr.STAT_EVENT="statevent";function ju(u,f){me.call(this,kr.STAT_EVENT,u),this.stat=f}w(ju,me);function O(u){const f=Nr();Qe(f,new ju(f,u))}kr.Ma="timingevent";function M(u,f){me.call(this,kr.Ma,u),this.size=f}w(M,me);function F(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function $(){this.g=!0}$.prototype.xa=function(){this.g=!1};function Y(u,f,m,C,j,U){u.info(function(){if(u.g)if(U)for(var q="",Ve=U.split("&"),It=0;It<Ve.length;It++){var be=Ve[It].split("=");if(1<be.length){var Lt=be[0];be=be[1];var Mt=Lt.split("_");q=2<=Mt.length&&Mt[1]=="type"?q+(Lt+"="+be+"&"):q+(Lt+"=redacted&")}}else q=null;else q=U;return"XMLHTTP REQ ("+C+") [attempt "+j+"]: "+f+`
`+m+`
`+q})}function ie(u,f,m,C,j,U,q){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+j+"]: "+f+`
`+m+`
`+U+" "+q})}function ue(u,f,m,C){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+Z(u,m)+(C?" "+C:"")})}function J(u,f){u.info(function(){return"TIMEOUT: "+f})}$.prototype.info=function(){};function Z(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var C=m[u];if(!(2>C.length)){var j=C[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var q=1;q<j.length;q++)j[q]=""}}}}return io(m)}catch{return f}}var G={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function Ee(){}w(Ee,ui),Ee.prototype.g=function(){return new XMLHttpRequest},Ee.prototype.i=function(){return{}},_e=new Ee;function Fe(u,f,m,C){this.j=u,this.i=f,this.l=m,this.R=C||1,this.U=new Xt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var Ae={},Ue={};function dr(u,f,m){u.L=1,u.v=Bu(Or(f)),u.m=m,u.P=!0,ci(u,null)}function ci(u,f){u.F=Date.now(),di(u),u.A=Or(u.v);var m=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),bv(m.i,"t",C),u.C=0,m=u.j.J,u.h=new De,u.g=Yv(u.j,m?f:null,!u.m),0<u.O&&(u.M=new rf(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,C=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Pa[0]=j.toString()),j=Pa);for(var U=0;U<j.length;U++){var q=ds(m,j[U],C||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),ms(),Y(u.i,u.u,u.A,u.l,u.R,u.m)}Fe.prototype.ca=function(u){u=u.target;const f=this.M;f&&Dr(u)==3?f.j():this.Y(u)},Fe.prototype.Y=function(u){try{if(u==this.g)e:{const Mt=Dr(this.g);var f=this.g.Ba();const co=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Fv(this.g)))){this.J||Mt!=4||f==7||(f==8||0>=co?ms(3):ms(2)),Hn(this);var m=this.g.Z();this.X=m;t:if(An(this)){var C=Fv(this.g);u="";var j=C.length,U=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),hr(this);var q="";break t}this.h.i=new a.TextDecoder}for(f=0;f<j;f++)this.h.h=!0,u+=this.h.i.decode(C[f],{stream:!(U&&f==j-1)});C.length=0,this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=m==200,ie(this.i,this.u,this.A,this.l,this.R,Mt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,It=this.g;if((Ve=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ve)){var be=Ve;break t}}be=null}if(m=be)ue(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ie(this,m);else{this.o=!1,this.s=3,O(12),Pn(this),hr(this);break e}}if(this.P){m=!0;let Wn;for(;!this.J&&this.C<q.length;)if(Wn=xn(this,q),Wn==Ue){Mt==4&&(this.s=4,O(14),m=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==Ae){this.s=4,O(15),ue(this.i,this.l,q,"[Invalid Chunk]"),m=!1;break}else ue(this.i,this.l,Wn,null),Ie(this,Wn);if(An(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||q.length!=0||this.h.h||(this.s=1,O(16),m=!1),this.o=this.o&&m,!m)ue(this.i,this.l,q,"[Invalid Chunked Response]"),Pn(this),hr(this);else if(0<q.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),uf(Lt),Lt.M=!0,O(11))}}else ue(this.i,this.l,q,null),Ie(this,q);Mt==4&&Pn(this),this.o&&!this.J&&(Mt==4?Kv(this.j,this):(this.o=!1,di(this)))}else cx(this.g),m==400&&0<q.indexOf("Unknown SID")?(this.s=3,O(12)):(this.s=0,O(13)),Pn(this),hr(this)}}}catch{}finally{}};function An(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xn(u,f){var m=u.C,C=f.indexOf(`
`,m);return C==-1?Ue:(m=Number(f.substring(m,C)),isNaN(m)?Ae:(C+=1,C+m>f.length?Ue:(f=f.slice(C,C+m),u.C=C+m,f)))}Fe.prototype.cancel=function(){this.J=!0,Pn(this)};function di(u){u.S=Date.now()+u.I,hi(u,u.I)}function hi(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=F(p(u.ba,u),f)}function Hn(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Fe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(J(this.i,this.A),this.L!=2&&(ms(),O(17)),Pn(this),this.s=2,hr(this)):hi(this,this.S-u)};function hr(u){u.j.G==0||u.J||Kv(u.j,u)}function Pn(u){Hn(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,ka(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Ie(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||fr(m.h,u))){if(!u.K&&fr(m.h,u)&&m.G==3){try{var C=m.Da.g.parse(f)}catch{C=null}if(Array.isArray(C)&&C.length==3){var j=C;if(j[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)qu(m),Wu(m);else break e;lf(m),O(18)}}else m.za=j[1],0<m.za-m.T&&37500>j[2]&&m.F&&m.v==0&&!m.C&&(m.C=F(p(m.Za,m),6e3));if(1>=et(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ys(m,11)}else if((u.K||m.g==u)&&qu(m),!_(f))for(j=m.Da.g.parse(f),f=0;f<j.length;f++){let be=j[f];if(m.T=be[0],be=be[1],m.G==2)if(be[0]=="c"){m.K=be[1],m.ia=be[2];const Lt=be[3];Lt!=null&&(m.la=Lt,m.j.info("VER="+m.la));const Mt=be[4];Mt!=null&&(m.Aa=Mt,m.j.info("SVER="+m.Aa));const co=be[5];co!=null&&typeof co=="number"&&0<co&&(C=1.5*co,m.L=C,m.j.info("backChannelRequestTimeoutMs_="+C)),C=m;const Wn=u.g;if(Wn){const Qu=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qu){var U=C.h;U.g||Qu.indexOf("spdy")==-1&&Qu.indexOf("quic")==-1&&Qu.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ao(U,U.h),U.h=null))}if(C.D){const cf=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;cf&&(C.ya=cf,We(C.I,C.D,cf))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),C=m;var q=u;if(C.qa=Qv(C,C.J?C.ia:null,C.W),q.K){Vu(C.h,q);var Ve=q,It=C.L;It&&(Ve.I=It),Ve.B&&(Hn(Ve),di(Ve)),C.g=q}else Hv(C);0<m.i.length&&Ku(m)}else be[0]!="stop"&&be[0]!="close"||ys(m,7);else m.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?ys(m,7):af(m):be[0]!="noop"&&m.l&&m.l.ta(be),m.v=0)}}ms(4)}catch{}}var Ye=class{constructor(u,f){this.g=u,this.map=f}};function br(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function et(u){return u.h?1:u.g?u.g.size:0}function fr(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function ao(u,f){u.g?u.g.add(f):u.h=f}function Vu(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}br.prototype.cancel=function(){if(this.i=Rv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Rv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return R(u.i)}function QA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,C=0;C<m;C++)f.push(u[C]);return f}f=[],m=0;for(C in u)f[m++]=u[C];return f}function YA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const C in u)f[m++]=C;return f}}}function Cv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=YA(u),C=QA(u),j=C.length,U=0;U<j;U++)f.call(void 0,C[U],m&&m[U],u)}var Av=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XA(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var C=u[m].indexOf("="),j=null;if(0<=C){var U=u[m].substring(0,C);j=u[m].substring(C+1)}else U=u[m];f(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function gs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gs){this.h=u.h,Fu(this,u.j),this.o=u.o,this.g=u.g,Uu(this,u.s),this.l=u.l;var f=u.i,m=new Ma;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),xv(this,m),this.m=u.m}else u&&(f=String(u).match(Av))?(this.h=!1,Fu(this,f[1]||"",!0),this.o=Da(f[2]||""),this.g=Da(f[3]||"",!0),Uu(this,f[4]),this.l=Da(f[5]||"",!0),xv(this,f[6]||"",!0),this.m=Da(f[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}gs.prototype.toString=function(){var u=[],f=this.j;f&&u.push(La(f,Pv,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(La(f,Pv,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(La(m,m.charAt(0)=="/"?ex:ZA,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",La(m,nx)),u.join("")};function Or(u){return new gs(u)}function Fu(u,f,m){u.j=m?Da(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Uu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function xv(u,f,m){f instanceof Ma?(u.i=f,rx(u.i,u.h)):(m||(f=La(f,tx)),u.i=new Ma(f,u.h))}function We(u,f,m){u.i.set(f,m)}function Bu(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Da(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function La(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,JA),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function JA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Pv=/[#\/\?@]/g,ZA=/[#\?:]/g,ex=/[#\?]/g,tx=/[#\?@]/g,nx=/#/g;function Ma(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function pi(u){u.g||(u.g=new Map,u.h=0,u.i&&XA(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Ma.prototype,t.add=function(u,f){pi(this),this.i=null,u=lo(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function kv(u,f){pi(u),f=lo(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Nv(u,f){return pi(u),f=lo(u,f),u.g.has(f)}t.forEach=function(u,f){pi(this),this.g.forEach(function(m,C){m.forEach(function(j){u.call(f,j,C,this)},this)},this)},t.na=function(){pi(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let C=0;C<f.length;C++){const j=u[C];for(let U=0;U<j.length;U++)m.push(f[C])}return m},t.V=function(u){pi(this);let f=[];if(typeof u=="string")Nv(this,u)&&(f=f.concat(this.g.get(lo(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},t.set=function(u,f){return pi(this),this.i=null,u=lo(this,u),Nv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function bv(u,f,m){kv(u,f),0<m.length&&(u.i=null,u.g.set(lo(u,f),R(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var C=f[m];const U=encodeURIComponent(String(C)),q=this.V(C);for(C=0;C<q.length;C++){var j=U;q[C]!==""&&(j+="="+encodeURIComponent(String(q[C]))),u.push(j)}}return this.i=u.join("&")};function lo(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function rx(u,f){f&&!u.j&&(pi(u),u.i=null,u.g.forEach(function(m,C){var j=C.toLowerCase();C!=j&&(kv(this,C),bv(this,j,m))},u)),u.j=f}function ix(u,f){const m=new $;if(a.Image){const C=new Image;C.onload=g(mi,m,"TestLoadImage: loaded",!0,f,C),C.onerror=g(mi,m,"TestLoadImage: error",!1,f,C),C.onabort=g(mi,m,"TestLoadImage: abort",!1,f,C),C.ontimeout=g(mi,m,"TestLoadImage: timeout",!1,f,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else f(!1)}function sx(u,f){const m=new $,C=new AbortController,j=setTimeout(()=>{C.abort(),mi(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:C.signal}).then(U=>{clearTimeout(j),U.ok?mi(m,"TestPingServer: ok",!0,f):mi(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(j),mi(m,"TestPingServer: error",!1,f)})}function mi(u,f,m,C,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),C(m)}catch{}}function ox(){this.g=new Mu}function ax(u,f,m){const C=m||"";try{Cv(u,function(j,U){let q=j;c(j)&&(q=io(j)),f.push(C+U+"="+encodeURIComponent(q))})}catch(j){throw f.push(C+"type="+encodeURIComponent("_badmap")),j}}function $u(u){this.l=u.Ub||null,this.j=u.eb||!1}w($u,ui),$u.prototype.g=function(){return new zu(this.l,this.j)},$u.prototype.i=function(u){return function(){return u}}({});function zu(u,f){ht.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(zu,ht),t=zu.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Va(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ov(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ov(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?ja(this):Va(this),this.readyState==3&&Ov(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ja(this))},t.Qa=function(u){this.g&&(this.response=u,ja(this))},t.ga=function(){this.g&&ja(this)};function ja(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Va(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function Va(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dv(u){let f="";return k(u,function(m,C){f+=C,f+=":",f+=m,f+=`\r
`}),f}function of(u,f,m){e:{for(C in m){var C=!1;break e}C=!0}C||(m=Dv(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):We(u,f,m))}function ot(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ot,ht);var lx=/^https?$/i,ux=["POST","PUT"];t=ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,m,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?Na(this.o):Na(_e),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(U){Lv(this,U);return}if(u=m||"",m=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var j in C)m.set(j,C[j]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const U of C.keys())m.set(U,C.get(U));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ux,f,void 0))||C||j||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,q]of m)this.g.setRequestHeader(U,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vv(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){Lv(this,U)}};function Lv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Mv(u),Hu(u)}function Mv(u){u.A||(u.A=!0,Qe(u,"complete"),Qe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qe(this,"complete"),Qe(this,"abort"),Hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hu(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jv(this):this.bb())},t.bb=function(){jv(this)};function jv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Dr(u)!=4||u.Z()!=2)){if(u.u&&Dr(u)==4)xa(u.Ea,0,u);else if(Qe(u,"readystatechange"),Dr(u)==4){u.h=!1;try{const q=u.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var C;if(C=q===0){var j=String(u.D).match(Av)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),C=!lx.test(j?j.toLowerCase():"")}m=C}if(m)Qe(u,"complete"),Qe(u,"success");else{u.m=6;try{var U=2<Dr(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",Mv(u)}}finally{Hu(u)}}}}function Hu(u,f){if(u.g){Vv(u);const m=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Qe(u,"ready");try{m.onreadystatechange=C}catch{}}}function Vv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Dr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),sf(f)}};function Fv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function cx(u){const f={};u=(u.g&&2<=Dr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(_(u[C]))continue;var m=D(u[C]);const j=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=f[j]||[];f[j]=U,U.push(m)}A(f,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function Uv(u){this.Aa=0,this.i=[],this.j=new $,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,u),this.cb=Fa("retryDelaySeedMs",1e4,u),this.Wa=Fa("forwardChannelMaxRetries",2,u),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new br(u&&u.concurrentRequestLimit),this.Da=new ox,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uv.prototype,t.la=8,t.G=1,t.connect=function(u,f,m,C){O(0),this.W=u,this.H=f||{},m&&C!==void 0&&(this.H.OSID=m,this.H.OAID=C),this.F=this.X,this.I=Qv(this,null,this.W),Ku(this)};function af(u){if(Bv(u),u.G==3){var f=u.U++,m=Or(u.I);if(We(m,"SID",u.K),We(m,"RID",f),We(m,"TYPE","terminate"),Ua(u,m),f=new Fe(u,u.j,f),f.L=2,f.v=Bu(Or(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Yv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),di(f)}Gv(u)}function Wu(u){u.g&&(uf(u),u.g.cancel(),u.g=null)}function Bv(u){Wu(u),u.u&&(a.clearTimeout(u.u),u.u=null),qu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ku(u){if(!fi(u.h)&&!u.s){u.s=!0;var f=u.Ga;we||se(),W||(we(),W=!0),ne.add(f,u),u.B=0}}function dx(u,f){return et(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=F(p(u.Ga,u,f),qv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Fe(this,this.j,u);let U=this.o;if(this.S&&(U?(U=E(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var C=this.i[m];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(f+=C,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=zv(this,j,f),m=Or(this.I),We(m,"RID",u),We(m,"CVER",22),this.D&&We(m,"X-HTTP-Session-Id",this.D),Ua(this,m),U&&(this.O?f="headers="+encodeURIComponent(String(Dv(U)))+"&"+f:this.m&&of(m,this.m,U)),ao(this.h,j),this.Ua&&We(m,"TYPE","init"),this.P?(We(m,"$req",f),We(m,"SID","null"),j.T=!0,dr(j,m,null)):dr(j,m,f),this.G=2}}else this.G==3&&(u?$v(this,u):this.i.length==0||fi(this.h)||$v(this))};function $v(u,f){var m;f?m=f.l:m=u.U++;const C=Or(u.I);We(C,"SID",u.K),We(C,"RID",m),We(C,"AID",u.T),Ua(u,C),u.m&&u.o&&of(C,u.m,u.o),m=new Fe(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=zv(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ao(u.h,m),dr(m,C,f)}function Ua(u,f){u.H&&k(u.H,function(m,C){We(f,C,m)}),u.l&&Cv({},function(m,C){We(f,C,m)})}function zv(u,f,m){m=Math.min(u.i.length,m);var C=u.l?p(u.l.Na,u.l,u):null;e:{var j=u.i;let U=-1;for(;;){const q=["count="+m];U==-1?0<m?(U=j[0].g,q.push("ofs="+U)):U=0:q.push("ofs="+U);let Ve=!0;for(let It=0;It<m;It++){let be=j[It].g;const Lt=j[It].map;if(be-=U,0>be)U=Math.max(0,j[It].g-100),Ve=!1;else try{ax(Lt,q,"req"+be+"_")}catch{C&&C(Lt)}}if(Ve){C=q.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,C}function Hv(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;we||se(),W||(we(),W=!0),ne.add(f,u),u.v=0}}function lf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=F(p(u.Fa,u),qv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Wv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=F(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,O(10),Wu(this),Wv(this))};function uf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Wv(u){u.g=new Fe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Or(u.qa);We(f,"RID","rpc"),We(f,"SID",u.K),We(f,"AID",u.T),We(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(f,"TO",u.ja),We(f,"TYPE","xmlhttp"),Ua(u,f),u.m&&u.o&&of(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Bu(Or(f)),m.m=null,m.P=!0,ci(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Wu(this),lf(this),O(19))};function qu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Kv(u,f){var m=null;if(u.g==f){qu(u),uf(u),u.g=null;var C=2}else if(fr(u.h,f))m=f.D,Vu(u.h,f),C=1;else return;if(u.G!=0){if(f.o)if(C==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var j=u.B;C=Nr(),Qe(C,new M(C,m)),Ku(u)}else Hv(u);else if(j=f.s,j==3||j==0&&0<f.X||!(C==1&&dx(u,f)||C==2&&lf(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),j){case 1:ys(u,5);break;case 4:ys(u,10);break;case 3:ys(u,6);break;default:ys(u,2)}}}function qv(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function ys(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),C=u.Xa;const j=!C;C=new gs(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fu(C,"https"),Bu(C),j?ix(C.toString(),m):sx(C.toString(),m)}else O(2);u.G=0,u.l&&u.l.sa(f),Gv(u),Bv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),O(2)):(this.j.info("Failed to ping google.com"),O(1))};function Gv(u){if(u.G=0,u.ka=[],u.l){const f=Rv(u.h);(f.length!=0||u.i.length!=0)&&(T(u.ka,f),T(u.ka,u.i),u.h.i.length=0,R(u.i),u.i.length=0),u.l.ra()}}function Qv(u,f,m){var C=m instanceof gs?Or(m):new gs(m);if(C.g!="")f&&(C.g=f+"."+C.g),Uu(C,C.s);else{var j=a.location;C=j.protocol,f=f?f+"."+j.hostname:j.hostname,j=+j.port;var U=new gs(null);C&&Fu(U,C),f&&(U.g=f),j&&Uu(U,j),m&&(U.l=m),C=U}return m=u.D,f=u.ya,m&&f&&We(C,m,f),We(C,"VER",u.la),Ua(u,C),C}function Yv(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new ot(new $u({eb:m})):new ot(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xv(){}t=Xv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gu(){}Gu.prototype.g=function(u,f){return new fn(u,f)};function fn(u,f){ht.call(this),this.g=new Uv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!_(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new uo(this)}w(fn,ht),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){af(this.g)},fn.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=io(u),u=m);f.i.push(new Ye(f.Ya++,u)),f.G==3&&Ku(f)},fn.prototype.N=function(){this.g.l=null,delete this.j,af(this.g),delete this.g,fn.aa.N.call(this)};function Jv(u){ba.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}w(Jv,ba);function Zv(){oo.call(this),this.status=1}w(Zv,oo);function uo(u){this.g=u}w(uo,Xv),uo.prototype.ua=function(){Qe(this.g,"a")},uo.prototype.ta=function(u){Qe(this.g,new Jv(u))},uo.prototype.sa=function(u){Qe(this.g,new Zv)},uo.prototype.ra=function(){Qe(this.g,"b")},Gu.prototype.createWebChannel=Gu.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,WR=function(){return new Gu},HR=function(){return Nr()},zR=kr,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},G.NO_ERROR=0,G.TIMEOUT=8,G.HTTP_ERROR=6,$c=G,re.COMPLETE="complete",$R=re,so.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ul=so,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,BR=ot}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const I0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Dy("@firebase/firestore");function Za(){return qs.logLevel}function te(t,...e){if(qs.logLevel<=Ce.DEBUG){const n=e.map(jy);qs.debug(`Firestore (${_a}): ${t}`,...n)}}function ni(t,...e){if(qs.logLevel<=Ce.ERROR){const n=e.map(jy);qs.error(`Firestore (${_a}): ${t}`,...n)}}function ta(t,...e){if(qs.logLevel<=Ce.WARN){const n=e.map(jy);qs.warn(`Firestore (${_a}): ${t}`,...n)}}function jy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+t;throw ni(e),new Error(e)}function Me(t,e){t||he()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class eV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tV{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ki,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ki)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new KR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Ut(e)}}class nV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Me(this.o===void 0);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new iV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function na(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new _t(0,0))}static max(){return new fe(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends Jl{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const aV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Jl{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return aV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(qe.fromString(e))}static fromName(e){return new oe(qe.fromString(e).popFirst(5))}static empty(){return new oe(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new qe(e.slice()))}}function lV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Zi(i,oe.empty(),e)}function uV(t){return new Zi(t.readTime,t.key,-1)}class Zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zi(fe.min(),oe.empty(),-1)}static max(){return new Zi(fe.max(),oe.empty(),-1)}}function cV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==dV)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function fV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vy.oe=-1;function Bh(t){return t==null}function Fd(t){return t===0&&1/t==-1/0}function pV(t){return typeof t=="number"&&Number.isInteger(t)&&!Fd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new er([])}unionWith(e){let n=new Nt(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new QR("Invalid base64 string: "+s):s}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const mV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(Me(!!t),typeof t=="string"){let e=0;const n=mV.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gs(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uy(t){const e=t.mapValue.fields.__previous_value__;return Fy(e)?Uy(e):e}function Zl(t){const e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class eu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fy(t)?4:vV(t)?9007199254740991:yV(t)?10:11:he()}function Ar(t,e){if(t===e)return!0;const n=Qs(t);if(n!==Qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zl(t).isEqual(Zl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=es(i.timestampValue),a=es(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Gs(i.bytesValue).isEqual(Gs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ut(i.geoPointValue.latitude)===ut(s.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ut(i.integerValue)===ut(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ut(i.doubleValue),a=ut(s.doubleValue);return o===a?Fd(o)===Fd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return na(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(R0(o)!==R0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ar(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function tu(t,e){return(t.values||[]).find(n=>Ar(n,e))!==void 0}function ra(t,e){if(t===e)return 0;const n=Qs(t),r=Qs(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ut(s.integerValue||s.doubleValue),l=ut(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return A0(t.timestampValue,e.timestampValue);case 4:return A0(Zl(t),Zl(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Gs(s),l=Gs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Oe(a[c],l[c]);if(d!==0)return d}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Oe(ut(s.latitude),ut(o.latitude));return a!==0?a:Oe(ut(s.longitude),ut(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},p=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,R=Oe(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:x0(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Tc.mapValue&&o===Tc.mapValue)return 0;if(s===Tc.mapValue)return 1;if(o===Tc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Oe(l[h],d[h]);if(p!==0)return p;const g=ra(a[l[h]],c[d[h]]);if(g!==0)return g}return Oe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw he()}}function A0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=es(t),r=es(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function x0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ra(n[i],r[i]);if(s)return s}return Oe(n.length,r.length)}function ia(t){return Om(t)}function Om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Om(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Om(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function P0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dm(t){return!!t&&"integerValue"in t}function By(t){return!!t&&"arrayValue"in t}function k0(t){return!!t&&"nullValue"in t}function N0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zc(t){return!!t&&"mapValue"in t}function yV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function El(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=El(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=El(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Dn(El(this.value))}}function YR(t){const e=[];return wa(t.fields,(n,r)=>{const i=new xt([n]);if(zc(r)){const s=YR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,fe.min(),fe.min(),fe.min(),Dn.empty(),0)}static newFoundDocument(e,n,r,i){return new $t(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new $t(e,2,n,fe.min(),fe.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,fe.min(),fe.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.position=e,this.inclusive=n}}function b0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=ra(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function O0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function _V(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{}class mt extends XR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EV(e,n,r):n==="array-contains"?new IV(e,r):n==="in"?new RV(e,r):n==="not-in"?new CV(e,r):n==="array-contains-any"?new AV(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TV(e,r):new SV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ra(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison(ra(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends XR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new sr(e,n)}matches(e){return JR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function JR(t){return t.op==="and"}function ZR(t){return wV(t)&&JR(t)}function wV(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function Lm(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+ia(t.value);if(ZR(t))return t.filters.map(e=>Lm(e)).join(",");{const e=t.filters.map(n=>Lm(n)).join(",");return`${t.op}(${e})`}}function eC(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&Ar(r.value,i.value)}(t,e):t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&eC(o,i.filters[a]),!0):!1}(t,e):void he()}function tC(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${ia(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(tC).join(" ,")+"}"}(t):"Filter"}class EV extends mt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class TV extends mt{constructor(e,n){super(e,"in",n),this.keys=nC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SV extends mt{constructor(e,n){super(e,"not-in",n),this.keys=nC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class IV extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return By(n)&&tu(n.arrayValue,this.value)}}class RV extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class CV extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tu(this.value.arrayValue,n)}}class AV extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!By(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function D0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xV(t,e,n,r,i,s,o)}function $y(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ia(r)).join(",")),e.ue=n}return e.ue}function zy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_V(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O0(t.startAt,e.startAt)&&O0(t.endAt,e.endAt)}function Mm(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function PV(t,e,n,r,i,s,o,a){return new Su(t,e,n,r,i,s,o,a)}function rC(t){return new Su(t)}function L0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iC(t){return t.collectionGroup!==null}function Tl(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Nt(xt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bd(s,r))}),n.has(xt.keyField().canonicalString())||e.ce.push(new Bd(xt.keyField(),r))}return e.ce}function Tr(t){const e=pe(t);return e.le||(e.le=kV(e,Tl(t))),e.le}function kV(t,e){if(t.limitType==="F")return D0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Bd(i.field,s)});const n=t.endAt?new Ud(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ud(t.startAt.position,t.startAt.inclusive):null;return D0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jm(t,e){const n=t.filters.concat([e]);return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vm(t,e,n){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return zy(Tr(t),Tr(e))&&t.limitType===e.limitType}function sC(t){return`${$y(Tr(t))}|lt:${t.limitType}`}function yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>tC(i)).join(", ")}]`),Bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ia(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ia(i)).join(",")),`Target(${r})`}(Tr(t))}; limitType=${t.limitType})`}function zh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Tl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=b0(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Tl(r),i)||r.endAt&&!function(o,a,l){const c=b0(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Tl(r),i))}(t,e)}function NV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oC(t){return(e,n)=>{let r=!1;for(const i of Tl(t)){const s=bV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function bV(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ra(l,c):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new it(oe.comparator);function ri(){return OV}const aC=new it(oe.comparator);function cl(...t){let e=aC;for(const n of t)e=e.insert(n.key,n);return e}function lC(t){let e=aC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bs(){return Sl()}function uC(){return Sl()}function Sl(){return new Ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const DV=new it(oe.comparator),LV=new Nt(oe.comparator);function Re(...t){let e=LV;for(const n of t)e=e.add(n);return e}const MV=new Nt(Oe);function jV(){return MV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fd(e)?"-0":e}}function cC(t){return{integerValue:""+t}}function VV(t,e){return pV(e)?cC(e):Hy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function FV(t,e,n){return t instanceof $d?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Fy(s)&&(s=Uy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof nu?hC(t,e):t instanceof ru?fC(t,e):function(i,s){const o=dC(i,s),a=M0(o)+M0(i.Pe);return Dm(o)&&Dm(i.Pe)?cC(a):Hy(i.serializer,a)}(t,e)}function UV(t,e,n){return t instanceof nu?hC(t,e):t instanceof ru?fC(t,e):n}function dC(t,e){return t instanceof zd?function(r){return Dm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class $d extends Hh{}class nu extends Hh{constructor(e){super(),this.elements=e}}function hC(t,e){const n=pC(e);for(const r of t.elements)n.some(i=>Ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class ru extends Hh{constructor(e){super(),this.elements=e}}function fC(t,e){let n=pC(e);for(const r of t.elements)n=n.filter(i=>!Ar(i,r));return{arrayValue:{values:n}}}class zd extends Hh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function M0(t){return ut(t.integerValue||t.doubleValue)}function pC(t){return By(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof nu&&i instanceof nu||r instanceof ru&&i instanceof ru?na(r.elements,i.elements,Ar):r instanceof zd&&i instanceof zd?Ar(r.Pe,i.Pe):r instanceof $d&&i instanceof $d}(t.transform,e.transform)}class $V{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wh{}function mC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yC(t.key,Kr.none()):new Iu(t.key,t.data,Kr.none());{const n=t.data,r=Dn.empty();let i=new Nt(xt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new to(t.key,r,new er(i.toArray()),Kr.none())}}function zV(t,e,n){t instanceof Iu?function(i,s,o){const a=i.value.clone(),l=V0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof to?function(i,s,o){if(!Hc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=V0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(gC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Il(t,e,n,r){return t instanceof Iu?function(s,o,a,l){if(!Hc(s.precondition,o))return a;const c=s.value.clone(),d=F0(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof to?function(s,o,a,l){if(!Hc(s.precondition,o))return a;const c=F0(s.fieldTransforms,l,o),d=o.data;return d.setAll(gC(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Hc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function HV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dC(r.transform,i||null);s!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,s))}return n||null}function j0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&na(r,i,(s,o)=>BV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Iu extends Wh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends Wh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function V0(t,e,n){const r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,UV(o,a,n[i]))}return r}function F0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,FV(s,o,e))}return r}class yC extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WV extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=mC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(n,r)=>j0(n,r))&&na(this.baseMutations,e.baseMutations,(n,r)=>j0(n,r))}}class Wy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=function(){return DV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Wy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,xe;function QV(t){switch(t){default:return he();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function vC(t){if(t===void 0)return ni("GRPC error has no .code"),z.UNKNOWN;switch(t){case ft.OK:return z.OK;case ft.CANCELLED:return z.CANCELLED;case ft.UNKNOWN:return z.UNKNOWN;case ft.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ft.INTERNAL:return z.INTERNAL;case ft.UNAVAILABLE:return z.UNAVAILABLE;case ft.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ft.NOT_FOUND:return z.NOT_FOUND;case ft.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ft.ABORTED:return z.ABORTED;case ft.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ft.DATA_LOSS:return z.DATA_LOSS;default:return he()}}(xe=ft||(ft={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new Ms([4294967295,4294967295],0);function U0(t){const e=YV().encode(t),n=new UR;return n.update(e),new Uint8Array(n.digest())}function B0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ms([n,r],0),new Ms([i,s],0)]}class Ky{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dl(`Invalid padding: ${n}`);if(r<0)throw new dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ms.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ms.fromNumber(r)));return i.compare(XV)===1&&(i=new Ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=U0(e),[r,i]=B0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ky(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=U0(e),[r,i]=B0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kh(fe.min(),i,new it(Oe),ri(),Re())}}class Ru{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ru(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class _C{constructor(e,n){this.targetId=e,this.me=n}}class wC{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $0{constructor(){this.fe=0,this.ge=H0(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Ru(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=H0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JV{constructor(e){this.Le=e,this.Be=new Map,this.ke=ri(),this.qe=z0(),this.Qe=new it(Oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Mm(s))if(r===0){const o=new oe(s.path);this.Ue(n,o,$t.newNoDocument(o,fe.min()))}else Me(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Gs(r).toUint8Array()}catch(l){if(l instanceof QR)return ta("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ky(o,i,s)}catch(l){return ta(l instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Mm(a.target)){const l=new oe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,$t.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Re();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Kh(e,n,this.Qe,this.ke,r);return this.ke=ri(),this.qe=z0(),this.Qe=new it(Oe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new $0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nt(Oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function z0(){return new it(oe.comparator)}function H0(){return new it(oe.comparator)}const ZV={asc:"ASCENDING",desc:"DESCENDING"},eF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tF={and:"AND",or:"OR"};class nF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(t,e){return t.useProto3Json||Bh(e)?e:{value:e}}function Hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rF(t,e){return Hd(t,e.toTimestamp())}function Sr(t){return Me(!!t),fe.fromTimestamp(function(n){const r=es(n);return new _t(r.seconds,r.nanos)}(t))}function qy(t,e){return Um(t,e).canonicalString()}function Um(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TC(t){const e=qe.fromString(t);return Me(AC(e)),e}function Bm(t,e){return qy(t.databaseId,e.path)}function sp(t,e){const n=TC(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(IC(n))}function SC(t,e){return qy(t.databaseId,e)}function iF(t){const e=TC(t);return e.length===4?qe.emptyPath():IC(e)}function $m(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IC(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function W0(t,e,n){return{name:Bm(t,e),fields:n.value.mapValue.fields}}function sF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Me(d===void 0||typeof d=="string"),Ot.fromBase64String(d||"")):(Me(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?z.UNKNOWN:vC(c.code);return new ee(d,c.message||"")}(o);n=new wC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sp(t,r.document.name),s=Sr(r.document.updateTime),o=r.document.createTime?Sr(r.document.createTime):fe.min(),a=new Dn({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Wc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sp(t,r.document),s=r.readTime?Sr(r.readTime):fe.min(),o=$t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Wc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sp(t,r.document),s=r.removedTargetIds||[];n=new Wc([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new GV(i,s),a=r.targetId;n=new _C(a,o)}}return n}function oF(t,e){let n;if(e instanceof Iu)n={update:W0(t,e.key,e.value)};else if(e instanceof yC)n={delete:Bm(t,e.key)};else if(e instanceof to)n={update:W0(t,e.key,e.data),updateMask:mF(e.fieldMask)};else{if(!(e instanceof WV))return he();n={verify:Bm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $d)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ru)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:rF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function aF(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Sr(i.updateTime):Sr(s);return o.isEqual(fe.min())&&(o=Sr(s)),new $V(o,i.transformResults||[])}(n,e))):[]}function lF(t,e){return{documents:[SC(t,e.path)]}}function uF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SC(t,i);const s=function(c){if(c.length!==0)return CC(sr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:vo(p.field),direction:hF(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Fm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function cF(t){let e=iF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=RC(h);return p instanceof sr&&ZR(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(w){return new Bd(_o(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Bh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new Ud(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new Ud(g,p)}(n.endAt)),PV(e,i,o,s,a,"F",l,c)}function dF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_o(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_o(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_o(n.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_o(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(_o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(r=>RC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function hF(t){return ZV[t]}function fF(t){return eF[t]}function pF(t){return tF[t]}function vo(t){return{fieldPath:t.canonicalString()}}function _o(t){return xt.fromServerFormat(t.fieldPath)}function CC(t){return t instanceof mt?function(n){if(n.op==="=="){if(N0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(k0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(k0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:fF(n.op),value:n.value}}}(t):t instanceof sr?function(n){const r=n.getFilters().map(i=>CC(i));return r.length===1?r[0]:{compositeFilter:{op:pF(n.op),filters:r}}}(t):he()}function mF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,i,s=fe.min(),o=fe.min(),a=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.ct=e}}function yF(t){const e=cF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.un=new _F}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Zi.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class _F{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new sa(0)}static kn(){return new sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.changes=new Ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Il(r.mutation,i,er.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=cl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ri();const o=Sl(),a=function(){return Sl()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof to)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Il(d.mutation,c,d.mutation.getFieldMask(),_t.now())):o.set(c.key,er.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new EF(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sl();let i=new it((o,a)=>o-a),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||er.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=uC();d.forEach(p=>{if(!s.has(p)){const g=mC(n.get(p),r.get(p));g!==null&&h.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(bs());let a=-1,l=s;return o.next(c=>H.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Re())).next(d=>({batchId:a,changes:lC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=cl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=cl();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const c=function(h,p){return new Su(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,$t.newInvalidDocument(d)))});let a=cl();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Il(d.mutation,c,er.empty(),_t.now()),zh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:yF(i.bundledQuery),readTime:Sr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.overlays=new it(oe.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bs();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=bs(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new it((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=bs(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=bs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qV(n,r));let s=this.Ir.get(n);s===void 0&&(s=Re(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Tr=new Nt(wt.Er),this.dr=new Nt(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new oe(new qe([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new oe(new qe([])),r=new wt(n,e),i=new wt(n,e+1);let s=Re();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||Oe(e.wr,n.wr)}static Ar(e,n){return Oe(e.wr,n.wr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Nt(wt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new KV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(Oe);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new wt(new oe(s),0);let a=new Nt(Oe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new wt(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.Mr=e,this.docs=function(){return new it(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=ri();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ri();const o=n.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||cV(uV(d),r)<=0||(i.has(d.key)||zh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xF(this)}getSize(e){return H.resolve(this.size)}}class xF extends wF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.persistence=e,this.Nr=new Ea(n=>$y(n),zy),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gy,this.targetCount=0,this.kr=sa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new sa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Vy(0),this.Kr=!1,this.Kr=!0,this.$r=new RF,this.referenceDelegate=e(this),this.Ur=new PF(this),this.indexManager=new vF,this.remoteDocumentCache=function(i){return new AF(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new gF(n),this.Gr=new SF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new CF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new NF(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class NF extends hV{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Jr=new Gy,this.Yr=null}static Zr(e){return new Qy(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=oe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Re(),i=Re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return MM()?8:fV(Ht())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new bF;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Za()<=Ce.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Za()<=Ce.DEBUG&&te("QueryEngine","Query:",yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Za()<=Ce.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):H.resolve())}Yi(e,n){if(L0(n))return H.resolve(null);let r=Tr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vm(n,null,"F"),r=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Re(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Vm(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return L0(n)||i.isEqual(fe.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?H.resolve(null):(Za()<=Ce.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yo(n)),this.rs(e,o,n,lV(i,-1)).next(a=>a))})}ts(e,n){let r=new Nt(oC(e));return n.forEach((i,s)=>{zh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Za()<=Ce.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",yo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new it(Oe),this._s=new Ea(s=>$y(s),zy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function LF(t,e,n,r){return new DF(t,e,n,r)}async function xC(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Re();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function MF(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let g=H.resolve();return p.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(R=>{const T=c.docVersions.get(w);Me(T!==null),R.version.compareTo(T)<0&&(h.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),d.addEntry(R)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PC(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function jF(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Ot.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(R,T,I){return R.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let l=ri(),c=Re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(VF(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(fe.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function VF(t,e,n){let r=Re(),i=Re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ri();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function FF(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UF(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function zm(t,e,n){const r=pe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Tu(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function K0(t,e,n){const r=pe(t);let i=fe.min(),s=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=pe(l),p=h._s.get(d);return p!==void 0?H.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,o,Tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?s:Re())).next(a=>(BF(r,NV(e),a),{documents:a,Ts:s})))}function BF(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class q0{constructor(){this.activeTargetIds=jV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $F{constructor(){this.so=new q0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new q0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function op(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class KF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=op(),l=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(te("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw ta("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=HF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=op();return new Promise((o,a)=>{const l=new BR;l.setWithCredentials(!0),l.listenOnce($R.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $c.NO_ERROR:const d=l.getResponseJson();te(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case $c.TIMEOUT:te(Ft,`RPC '${e}' ${s} timed out`),a(new ee(z.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const h=l.getStatus();if(te(Ft,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(T){const I=T.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(I)>=0?I:z.UNKNOWN}(g.status);a(new ee(w,g.message))}else a(new ee(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(z.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{te(Ft,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);te(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=op(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WR(),a=HR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");te(Ft,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,g=!1;const w=new WF({Io:T=>{g?te(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(p||(te(Ft,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),te(Ft,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},To:()=>h.close()}),R=(T,I,_)=>{T.listen(I,S=>{try{_(S)}catch(b){setTimeout(()=>{throw b},0)}})};return R(h,ul.EventType.OPEN,()=>{g||(te(Ft,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),R(h,ul.EventType.CLOSE,()=>{g||(g=!0,te(Ft,`RPC '${e}' stream ${i} transport closed`),w.So())}),R(h,ul.EventType.ERROR,T=>{g||(g=!0,ta(Ft,`RPC '${e}' stream ${i} transport errored:`,T),w.So(new ee(z.UNAVAILABLE,"The operation could not be completed")))}),R(h,ul.EventType.MESSAGE,T=>{var I;if(!g){const _=T.data[0];Me(!!_);const S=_,b=S.error||((I=S[0])===null||I===void 0?void 0:I.error);if(b){te(Ft,`RPC '${e}' stream ${i} received error:`,b);const V=b.status;let k=function(x){const P=ft[x];if(P!==void 0)return vC(P)}(V),A=b.message;k===void 0&&(k=z.INTERNAL,A="Unknown error status: "+V+" with message "+b.message),g=!0,w.So(new ee(k,A)),h.close()}else te(Ft,`RPC '${e}' stream ${i} received:`,_),w.bo(_)}}),R(a,zR.STAT_EVENT,T=>{T.stat===bm.PROXY?te(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===bm.NOPROXY&&te(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new nF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qF extends NC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=sF(this.serializer,e),r=function(s){if(!("targetChange"in s))return fe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Sr(o.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=$m(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Mm(l)?{documents:lF(s,l)}:{query:uF(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=EC(s,o.resumeToken);const c=Fm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=Hd(s,o.snapshotVersion.toTimestamp());const c=Fm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=dF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.a_(n)}}class GF extends NC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=aF(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=$m(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oF(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Um(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Um(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class YF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ni(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{no(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=pe(l);c.L_.add(4),await Cu(c),c.q_.set("Unknown"),c.L_.delete(4),await Gh(c)}(this))})}),this.q_=new YF(r,i)}}async function Gh(t){if(no(t))for(const e of t.B_)await e(!0)}async function Cu(t){for(const e of t.B_)await e(!1)}function bC(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ev(n)?Zy(n):Ta(n).r_()&&Jy(n,e))}function Xy(t,e){const n=pe(t),r=Ta(n);n.N_.delete(e),r.r_()&&OC(n,e),n.N_.size===0&&(r.r_()?r.o_():no(n)&&n.q_.set("Unknown"))}function Jy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ta(t).A_(e)}function OC(t,e){t.Q_.xe(e),Ta(t).R_(e)}function Zy(t){t.Q_=new JV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ta(t).start(),t.q_.v_()}function ev(t){return no(t)&&!Ta(t).n_()&&t.N_.size>0}function no(t){return pe(t).L_.size===0}function DC(t){t.Q_=void 0}async function JF(t){t.q_.set("Online")}async function ZF(t){t.N_.forEach((e,n)=>{Jy(t,e)})}async function e4(t,e){DC(t),ev(t)?(t.q_.M_(e),Zy(t)):t.q_.set("Unknown")}async function t4(t,e,n){if(t.q_.set("Online"),e instanceof wC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wd(t,r)}else if(e instanceof Wc?t.Q_.Ke(e):e instanceof _C?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{const r=await PC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Ot.EMPTY_BYTE_STRING,d.snapshotVersion)),OC(s,l);const h=new Oi(d.target,l,c,d.sequenceNumber);Jy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Wd(t,r)}}async function Wd(t,e,n){if(!Tu(e))throw e;t.L_.add(1),await Cu(t),t.q_.set("Offline"),n||(n=()=>PC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gh(t)})}function LC(t,e){return e().catch(n=>Wd(t,n,e))}async function Qh(t){const e=pe(t),n=ts(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;n4(e);)try{const i=await FF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,r4(e,i)}catch(i){await Wd(e,i)}MC(e)&&jC(e)}function n4(t){return no(t)&&t.O_.length<10}function r4(t,e){t.O_.push(e);const n=ts(t);n.r_()&&n.V_&&n.m_(e.mutations)}function MC(t){return no(t)&&!ts(t).n_()&&t.O_.length>0}function jC(t){ts(t).start()}async function i4(t){ts(t).p_()}async function s4(t){const e=ts(t);for(const n of t.O_)e.m_(n.mutations)}async function o4(t,e,n){const r=t.O_.shift(),i=Wy.from(r,e,n);await LC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qh(t)}async function a4(t,e){e&&ts(t).V_&&await async function(r,i){if(function(o){return QV(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();ts(r).s_(),await LC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qh(r)}}(t,e),MC(t)&&jC(t)}async function Q0(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=no(n);n.L_.add(3),await Cu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gh(n)}async function l4(t,e){const n=pe(t);e?(n.L_.delete(2),await Gh(n)):e||(n.L_.add(2),await Cu(n),n.q_.set("Unknown"))}function Ta(t){return t.K_||(t.K_=function(n,r,i){const s=pe(n);return s.w_(),new qF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:JF.bind(null,t),Ro:ZF.bind(null,t),mo:e4.bind(null,t),d_:t4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ev(t)?Zy(t):t.q_.set("Unknown")):(await t.K_.stop(),DC(t))})),t.K_}function ts(t){return t.U_||(t.U_=function(n,r,i){const s=pe(n);return s.w_(),new GF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:i4.bind(null,t),mo:a4.bind(null,t),f_:s4.bind(null,t),g_:o4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Qh(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new tv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(t,e){if(ni("AsyncQueue",`${e}: ${t}`),Tu(t))return new ee(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=cl(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new Uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.W_=new it(oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oa{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oa(e,n,Uo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class c4{constructor(){this.queries=X0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=pe(n),s=i.queries;i.queries=X0(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ee(z.ABORTED,"Firestore shutting down"))}}function X0(){return new Ea(t=>sC(t),$h)}async function d4(t,e){const n=pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new u4,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=nv(o,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&rv(n)}async function h4(t,e){const n=pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function f4(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&rv(n)}function p4(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function rv(t){t.Y_.forEach(e=>{e.next()})}var Hm,J0;(J0=Hm||(Hm={})).ea="default",J0.Cache="cache";class m4{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.key=e}}class FC{constructor(e){this.key=e}}class g4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=oC(e),this.Ra=new Uo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Y0,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=zh(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),R=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;p&&g?p.data.isEqual(g.data)?w!==R&&(r.track({type:3,doc:g}),T=!0):this.ga(p,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),T=!0):p&&!g&&(r.track({type:1,doc:p}),T=!0,(l||c)&&(a=!0)),T&&(g?(o=o.add(g),s=R?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(g,w){const R=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return R(g)-R(w)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new oa(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Y0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new FC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new VC(r))}),n}ba(e){this.Ta=e.Ts,this.da=Re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return oa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class y4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v4{constructor(e){this.key=e,this.va=!1}}class _4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ea(a=>sC(a),$h),this.Ma=new Map,this.xa=new Set,this.Oa=new it(oe.comparator),this.Na=new Map,this.La=new Gy,this.Ba={},this.ka=new Map,this.qa=sa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function w4(t,e,n=!0){const r=WC(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await UC(r,e,n,!0),i}async function E4(t,e){const n=WC(t);await UC(n,e,!0,!1)}async function UC(t,e,n,r){const i=await UF(t.localStore,Tr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await T4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&bC(t.remoteStore,i),a}async function T4(t,e,n,r,i){t.Ka=(h,p,g)=>async function(R,T,I,_){let S=T.view.ma(I);S.ns&&(S=await K0(R.localStore,T.query,!1).then(({documents:A})=>T.view.ma(A,S)));const b=_&&_.targetChanges.get(T.targetId),V=_&&_.targetMismatches.get(T.targetId)!=null,k=T.view.applyChanges(S,R.isPrimaryClient,b,V);return eE(R,T.targetId,k.wa),k.snapshot}(t,h,p,g);const s=await K0(t.localStore,e,!0),o=new g4(e,s.Ts),a=o.ma(s.documents),l=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);eE(t,n,c.wa);const d=new y4(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function S4(t,e,n){const r=pe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!$h(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xy(r.remoteStore,i.targetId),Wm(r,i.targetId)}).catch(Eu)):(Wm(r,i.targetId),await zm(r.localStore,i.targetId,!0))}async function I4(t,e){const n=pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xy(n.remoteStore,r.targetId))}async function R4(t,e,n){const r=b4(t);try{const i=await function(o,a){const l=pe(o),c=_t.now(),d=a.reduce((g,w)=>g.add(w.key),Re());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=ri(),R=Re();return l.cs.getEntries(g,d).next(T=>{w=T,w.forEach((I,_)=>{_.isValidDocument()||(R=R.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(T=>{h=T;const I=[];for(const _ of a){const S=HV(_,h.get(_.key).overlayedDocument);S!=null&&I.push(new to(_.key,S,YR(S.value.mapValue),Kr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,I,a)}).next(T=>{p=T;const I=T.applyToLocalDocumentSet(h,R);return l.documentOverlayCache.saveOverlays(g,T.batchId,I)})}).then(()=>({batchId:p.batchId,changes:lC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new it(Oe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Au(r,i.changes),await Qh(r.remoteStore)}catch(i){const s=nv(i,"Failed to persist write");n.reject(s)}}async function BC(t,e){const n=pe(t);try{const r=await jF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Me(o.va):i.removedDocuments.size>0&&(Me(o.va),o.va=!1))}),await Au(n,r,e)}catch(r){await Eu(r)}}function Z0(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&rv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C4(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new it(oe.comparator);o=o.insert(s,$t.newNoDocument(s,fe.min()));const a=Re().add(s),l=new Kh(fe.min(),new Map,new it(Oe),o,a);await BC(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),iv(r)}else await zm(r.localStore,e,!1).then(()=>Wm(r,e,n)).catch(Eu)}async function A4(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await MF(n.localStore,e);zC(n,r,null),$C(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Au(n,i)}catch(i){await Eu(i)}}async function x4(t,e,n){const r=pe(t);try{const i=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Me(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);zC(r,e,n),$C(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Au(r,i)}catch(i){await Eu(i)}}function $C(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function zC(t,e,n){const r=pe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Wm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||HC(t,r)})}function HC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Xy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),iv(t))}function eE(t,e,n){for(const r of n)r instanceof VC?(t.La.addReference(r.key,e),P4(t,r)):r instanceof FC?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||HC(t,r.key)):he()}function P4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),iv(t))}function iv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new oe(qe.fromString(e)),r=t.qa.next();t.Na.set(r,new v4(n)),t.Oa=t.Oa.insert(n,r),bC(t.remoteStore,new Oi(Tr(rC(n.path)),r,"TargetPurposeLimboResolution",Vy.oe))}}async function Au(t,e,n){const r=pe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Yy.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(c,p=>H.forEach(p.$i,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>H.forEach(p.Ui,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Tu(h))throw h;te("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=d.os.get(p),w=g.snapshotVersion,R=g.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(p,R)}}}(r.localStore,s))}async function k4(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await xC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ee(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(n,r.hs)}}function N4(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return Re().add(r.key);{let i=Re();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function WC(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C4.bind(null,e),e.Ca.d_=f4.bind(null,e.eventManager),e.Ca.$a=p4.bind(null,e.eventManager),e}function b4(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x4.bind(null,e),e}class Kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return LF(this.persistence,new OF,e.initialUser,this.serializer)}Ga(e){return new kF(Qy.Zr,this.serializer)}Wa(e){return new $F}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kd.provider={build:()=>new Kd};class Km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k4.bind(null,this.syncEngine),await l4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new c4}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=function(s){return new KF(s)}(e.databaseInfo);return function(s,o,a,l){return new QF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new XF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Z0(this.syncEngine,n,0),function(){return G0.D()?new G0:new zF}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new _4(i,s,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=pe(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Cu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=qR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L4(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Q0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Q0(e.remoteStore,i)),t._onlineComponents=e}async function L4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ta("Error using user provided cache. Falling back to memory cache: "+n),await lp(t,new Kd)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await lp(t,new Kd);return t._offlineComponents}async function KC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await tE(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await tE(t,new Km))),t._onlineComponents}function M4(t){return KC(t).then(e=>e.syncEngine)}async function j4(t){const e=await KC(t),n=e.eventManager;return n.onListen=w4.bind(null,e.syncEngine),n.onUnlisten=S4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=E4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I4.bind(null,e.syncEngine),n}function V4(t,e,n={}){const r=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new O4({next:p=>{d.Za(),o.enqueueAndForget(()=>h4(s,h)),p.fromCache&&l.source==="server"?c.reject(new ee(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new m4(a,d,{includeMetadataChanges:!0,_a:!0});return d4(s,h)}(await j4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e,n){if(!n)throw new ee(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function F4(t,e,n,r){if(e===!0&&r===!0)throw new ee(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rE(t){if(!oe.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iE(t){if(oe.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function qd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(t);throw new ee(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zj;switch(r.type){case"firstParty":return new rV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nE.get(n);r&&(te("ComponentProvider","Removing Datastore"),nE.delete(n),r.terminate())}(this),Promise.resolve()}}function U4(t,e,n,r={}){var i;const s=(t=qd(t,Xh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ut.MOCK_USER;else{a=PM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ee(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ut(c)}t._authCredentials=new eV(new KR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class qi extends Sa{constructor(e,n,r){super(e,n,rC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new oe(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function sv(t,e,...n){if(t=qt(t),GC("collection","path",e),t instanceof Xh){const r=qe.fromString(e,...n);return iE(r),new qi(t,null,r)}{if(!(t instanceof Vn||t instanceof qi))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return iE(r),new qi(t.firestore,null,r)}}function B4(t,e,...n){if(t=qt(t),arguments.length===1&&(e=qR.newId()),GC("doc","path",e),t instanceof Xh){const r=qe.fromString(e,...n);return rE(r),new Vn(t,null,new oe(r))}{if(!(t instanceof Vn||t instanceof qi))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return rE(r),new Vn(t.firestore,t instanceof qi?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kC(this,"async_queue_retry"),this.Vu=()=>{const r=ap();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ki;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Tu(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ni("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=tv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ov extends Xh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oE(e),this._firestoreClient=void 0,await e}}}function $4(t,e){const n=typeof t=="object"?t:jR(),r=typeof t=="string"?t:"(default)",i=My(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=AM("firestore");s&&U4(i,...s)}return i}function QC(t){if(t._terminated)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||z4(t),t._firestoreClient}function z4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new gV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,qC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new D4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(Ot.fromBase64String(e))}catch(n){throw new ee(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new aa(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=/^__.*__$/;class W4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(e,this.data,n,this.fieldTransforms)}}function XC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class cv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Gd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(XC(this.Cu)&&H4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class K4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}Qu(e,n,r,i=!1){return new cv({Cu:e,methodName:n,qu:r,path:xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JC(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new K4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function q4(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);tA("Data must be an object, but it was:",o,r);const a=ZC(r,o);let l,c;if(s.merge)l=new er(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=Q4(e,h,n);if(!o.contains(p))throw new ee(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);X4(d,p)||d.push(p)}l=new er(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new W4(new Dn(a),l,c)}function G4(t,e,n,r=!1){return dv(n,t.Qu(r?4:3,e))}function dv(t,e){if(eA(t=qt(t)))return tA("Unsupported field value:",e,t),ZC(t,e);if(t instanceof YC)return function(r,i){if(!XC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=dv(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=_t.fromDate(r);return{timestampValue:Hd(i.serializer,s)}}if(r instanceof _t){const s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hd(i.serializer,s)}}if(r instanceof lv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof aa)return{bytesValue:EC(i.serializer,r._byteString)};if(r instanceof Vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Hy(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Yh(r)}`)}(t,e)}function ZC(t,e){const n={};return GR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(t,(r,i)=>{const s=dv(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function eA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof lv||t instanceof aa||t instanceof Vn||t instanceof YC||t instanceof uv)}function tA(t,e,n){if(!eA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Q4(t,e,n){if((e=qt(e))instanceof av)return e._internalPath;if(typeof e=="string")return nA(t,e);throw Gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y4=new RegExp("[~\\*/\\[\\]]");function nA(t,e,n){if(e.search(Y4)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new av(...e.split("."))._internalPath}catch{throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee(z.INVALID_ARGUMENT,a+t+l)}function X4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J4 extends rA{data(){return super.data()}}function iA(t,e){return typeof e=="string"?nA(t,e):e instanceof av?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hv{}class eU extends hv{}function tU(t,e,...n){let r=[];e instanceof hv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof pv).length,a=s.filter(l=>l instanceof fv).length;if(o>1||o>0&&a>0)throw new ee(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fv extends eU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fv(e,n,r)}_apply(e){const n=this._parse(e);return sA(e._query,n),new Sa(e.firestore,e.converter,jm(e._query,n))}_parse(e){const n=JC(e.firestore);return function(s,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){lE(h,d);const g=[];for(const w of h)g.push(aE(l,s,w));p={arrayValue:{values:g}}}else p=aE(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||lE(h,d),p=G4(a,o,h,d==="in"||d==="not-in");return mt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class pv extends hv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)sA(o,l),o=jm(o,l)}(e._query,n),new Sa(e.firestore,e.converter,jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function aE(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new ee(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iC(e)&&n.indexOf("/")!==-1)throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!oe.isDocumentKey(r))throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return P0(t,new oe(r))}if(n instanceof Vn)return P0(t,n._key);throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function lE(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nU{convertValue(e,n="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ut(o.doubleValue));return new uv(s)}convertGeoPoint(e){return new lv(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=es(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Me(AC(r));const i=new eu(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||ni(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iU extends rA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kc extends iU{data(e={}){return super.data(e)}}class sU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kc(this._firestore,this._userDataWriter,r.key,r,new Ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Kc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Kc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:oU(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}class aU extends nU{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function lU(t){t=qd(t,Sa);const e=qd(t.firestore,ov),n=QC(e),r=new aU(e);return Z4(t._query),V4(n,t._query).then(i=>new sU(e,r,t,i))}function oA(t,e){const n=qd(t.firestore,ov),r=B4(t),i=rU(t.converter,e);return uU(n,[q4(JC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then(()=>r)}function uU(t,e){return function(r,i){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>R4(await M4(r),i,s)),s.promise}(QC(t),e)}(function(e,n=!0){(function(i){_a=i})(va),ea(new Ks("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ov(new tV(r.getProvider("auth-internal")),new sV(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wi(I0,"4.7.3",e),Wi(I0,"4.7.3","esm2017")})();var cU="firebase",dU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(cU,dU,"app");function mv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hU=aA,lA=new _u("auth","Firebase",aA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Dy("@firebase/auth");function fU(t,...e){Qd.logLevel<=Ce.WARN&&Qd.warn(`Auth (${va}): ${t}`,...e)}function qc(t,...e){Qd.logLevel<=Ce.ERROR&&Qd.error(`Auth (${va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw gv(t,...e)}function Ir(t,...e){return gv(t,...e)}function uA(t,e,n){const r=Object.assign(Object.assign({},hU()),{[e]:n});return new _u("auth","Firebase",r).create(e,{appName:t.name})}function qr(t){return uA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lA.create(t,...e)}function ce(t,e,...n){if(!t)throw gv(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qc(e),new Error(e)}function ii(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pU(){return uE()==="http:"||uE()==="https:"}function uE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pU()||OM()||"connection"in navigator)?navigator.onLine:!0}function gU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=kM()||DM()}get(){return mU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new xu(3e4,6e4);function ls(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function us(t,e,n,r,i={}){return dA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=wu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return bM()||(c.referrerPolicy="no-referrer"),cA.fetch()(hA(t,t.config.apiHost,n,a),c)})}async function dA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yU),e);try{const i=new wU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Rc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Rc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Rc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uA(t,d,c);or(t,d)}}catch(i){if(i instanceof ai)throw i;or(t,"network-request-failed",{message:String(i)})}}async function Pu(t,e,n,r,i={}){const s=await us(t,e,n,r,i);return"mfaPendingCredential"in s&&or(t,"multi-factor-auth-required",{_serverResponse:s}),s}function hA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yv(t.config,i):`${t.config.apiScheme}://${i}`}function _U(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),vU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ir(t,e,r);return i.customData._tokenResponse=n,i}function cE(t){return t!==void 0&&t.enterprise!==void 0}class EU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _U(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function TU(t,e){return us(t,"GET","/v2/recaptchaConfig",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(t,e){return us(t,"POST","/v1/accounts:delete",e)}async function fA(t,e){return us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IU(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=vv(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Rl(up(i.auth_time)),issuedAtTime:Rl(up(i.iat)),expirationTime:Rl(up(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function up(t){return Number(t)*1e3}function vv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=kR(n);return i?JSON.parse(i):(qc("Failed to decode base64 JWT payload"),null)}catch(i){return qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dE(t){const e=vv(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&RU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await iu(t,fA(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pA(s.providerUserInfo):[],a=xU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function AU(t){const e=qt(t);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pA(t){return t.map(e=>{var{providerId:n}=e,r=mv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(t,e){const n=await dA(t,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=hA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kU(t,e){return us(t,"POST","/v2/accounts:revokeToken",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=dE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await PU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bo;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=mv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IU(this,e)}reload(){return AU(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await iu(this,SU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:b,isAnonymous:V,providerData:k,stsTokenManager:A}=n;ce(S&&A,e,"internal-error");const E=Bo.fromJSON(this.name,A);ce(typeof S=="string",e,"internal-error"),vi(h,e.name),vi(p,e.name),ce(typeof b=="boolean",e,"internal-error"),ce(typeof V=="boolean",e,"internal-error"),vi(g,e.name),vi(w,e.name),vi(R,e.name),vi(T,e.name),vi(I,e.name),vi(_,e.name);const x=new $r({uid:S,auth:e,email:p,emailVerified:b,displayName:h,isAnonymous:V,photoURL:w,phoneNumber:g,tenantId:R,stsTokenManager:E,createdAt:I,lastLoginAt:_});return k&&Array.isArray(k)&&(x.providerData=k.map(P=>Object.assign({},P))),T&&(x._redirectEventId=T),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bo;i.updateFromServerResponse(n);const s=new $r({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?pA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Bo;a.updateFromIdToken(r);const l=new $r({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;function zr(t){ii(t instanceof Function,"Expected a class definition");let e=hE.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mA.type="NONE";const fE=mA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $o(zr(fE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||zr(fE);const o=Gc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=$r._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new $o(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new $o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EA(e))return"Blackberry";if(TA(e))return"Webos";if(yA(e))return"Safari";if((e.includes("chrome/")||vA(e))&&!e.includes("edge/"))return"Chrome";if(wA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gA(t=Ht()){return/firefox\//i.test(t)}function yA(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vA(t=Ht()){return/crios\//i.test(t)}function _A(t=Ht()){return/iemobile/i.test(t)}function wA(t=Ht()){return/android/i.test(t)}function EA(t=Ht()){return/blackberry/i.test(t)}function TA(t=Ht()){return/webos/i.test(t)}function _v(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NU(t=Ht()){var e;return _v(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bU(){return LM()&&document.documentMode===10}function SA(t=Ht()){return _v(t)||wA(t)||TA(t)||EA(t)||/windows phone/i.test(t)||_A(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e=[]){let n;switch(t){case"Browser":n=pE(Ht());break;case"Worker":n=`${pE(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(t,e={}){return us(t,"GET","/v2/passwordPolicy",ls(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=6;class MU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new OU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fA(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(qr(this));const n=e?qt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yr(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DU(this),n=new MU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ro(t){return qt(t)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=zM(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VU(t){Jh=t}function RA(t){return Jh.loadJS(t)}function FU(){return Jh.recaptchaEnterpriseScript}function UU(){return Jh.gapiScript}function BU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $U="recaptcha-enterprise",zU="NO_RECAPTCHA";class HU{constructor(e){this.type=$U,this.auth=ro(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{TU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new EU(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;cE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(zU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&cE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=FU();l.length!==0&&(l+=a),RA(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function gE(t,e,n,r=!1){const i=new HU(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Qm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await gE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await gE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t,e){const n=My(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jd(s,e??{}))return i;or(i,"already-initialized")}return n.initialize({options:e})}function KU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qU(t,e,n){const r=ro(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=CA(e),{host:o,port:a}=GU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),QU()}function CA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GU(t){const e=CA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:yE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:yE(o)}}}function yE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function YU(t,e){return us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XU(t,e){return Pu(t,"POST","/v1/accounts:signInWithPassword",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(t,e){return Pu(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}async function ZU(t,e){return Pu(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends wv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,n,"signInWithPassword",XU);case"emailLink":return JU(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,r,"signUpPassword",YU);case"emailLink":return ZU(e,{idToken:n,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t,e){return Pu(t,"POST","/v1/accounts:signInWithIdp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="http://localhost";class Ys extends wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=mv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:e3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n3(t){const e=al(ll(t)).link,n=e?al(ll(e)).deep_link_id:null,r=al(ll(t)).deep_link_id;return(r?al(ll(r)).link:null)||r||n||e||t}class Ev{constructor(e){var n,r,i,s,o,a;const l=al(ll(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=t3((i=l.mode)!==null&&i!==void 0?i:null);ce(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=n3(e);try{return new Ev(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ev.parseLink(n);return ce(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends AA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends ku{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends ku{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends ku{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.TWITTER_SIGN_IN_METHOD="twitter.com";Pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e){return Pu(t,"POST","/v1/accounts:signUp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $r._fromIdTokenResponse(e,r,i),o=vE(r);return new Xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=vE(r);return new Xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function vE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xd(e,n,r,i)}}function xA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xd._fromErrorAndOperation(t,s,e,r):s})}async function i3(t,e,n=!1){const r=await iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e,n=!1){const{auth:r}=t;if(yr(r.app))return Promise.reject(qr(r));const i="reauthenticate";try{const s=await iu(t,xA(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=vv(s.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&or(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e,n=!1){if(yr(t.app))return Promise.reject(qr(t));const r="signIn",i=await xA(t,r,e),s=await Xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function o3(t,e){return PA(ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t){const e=ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a3(t,e,n){if(yr(t.app))return Promise.reject(qr(t));const r=ro(t),o=await Qm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&kA(t),l}),a=await Xs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function l3(t,e,n){return yr(t.app)?Promise.reject(qr(t)):o3(qt(t),Ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kA(t),r})}function u3(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function c3(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function d3(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function h3(t){return qt(t).signOut()}const Jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=1e3,p3=10;class bA extends NA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);bU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,p3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},f3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bA.type="LOCAL";const m3=bA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA extends NA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OA.type="SESSION";const DA=OA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await g3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Tv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function v3(t){Rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function _3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function E3(){return LA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebaseLocalStorageDb",T3=1,Zd="firebaseLocalStorage",jA="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(t,e){return t.transaction([Zd],e?"readwrite":"readonly").objectStore(Zd)}function S3(){const t=indexedDB.deleteDatabase(MA);return new Nu(t).toPromise()}function Ym(){const t=indexedDB.open(MA,T3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zd,{keyPath:jA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zd)?e(r):(r.close(),await S3(),e(await Ym()))})})}async function _E(t,e,n){const r=ef(t,!0).put({[jA]:e,value:n});return new Nu(r).toPromise()}async function I3(t,e){const n=ef(t,!1).get(e),r=await new Nu(n).toPromise();return r===void 0?null:r.value}function wE(t,e){const n=ef(t,!0).delete(e);return new Nu(n).toPromise()}const R3=800,C3=3;class VA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>C3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(E3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _3(),!this.activeServiceWorker)return;this.sender=new y3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await _E(e,Jd,"1"),await wE(e,Jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_E(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>I3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ef(i,!1).getAll();return new Nu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VA.type="LOCAL";const A3=VA;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e){return e?zr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P3(t){return PA(t.auth,new Sv(t),t.bypassAuthState)}function k3(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),s3(n,new Sv(t),t.bypassAuthState)}async function N3(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),i3(n,new Sv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P3;case"linkViaPopup":case"linkViaRedirect":return N3;case"reauthViaPopup":case"reauthViaRedirect":return k3;default:or(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=new xu(2e3,1e4);class bo extends FA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b3.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="pendingRedirect",Qc=new Map;class D3 extends FA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await L3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L3(t,e){const n=V3(e),r=j3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function M3(t,e){Qc.set(t._key(),e)}function j3(t){return zr(t._redirectPersistence)}function V3(t){return Gc(O3,t.config.apiKey,t.name)}async function F3(t,e,n=!1){if(yr(t.app))return Promise.reject(qr(t));const r=ro(t),i=x3(r,e),o=await new D3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=10*60*1e3;class B3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U3&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t,e={}){return us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W3=/^https?/;async function K3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await z3(t);for(const n of e)try{if(q3(n))return}catch{}or(t,"unauthorized-domain")}function q3(t){const e=qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!W3.test(n))return!1;if(H3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new xu(3e4,6e4);function TE(){const t=Rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q3(t){return new Promise((e,n)=>{var r,i,s;function o(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(Ir(t,"network-request-failed"))},timeout:G3.get()})}if(!((i=(r=Rr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Rr().gapi)===null||s===void 0)&&s.load)o();else{const a=BU("iframefcb");return Rr()[a]=()=>{gapi.load?o():n(Ir(t,"network-request-failed"))},RA(`${UU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function Y3(t){return Yc=Yc||Q3(t),Yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new xu(5e3,15e3),J3="__/auth/iframe",Z3="emulator/auth/iframe",e6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n6(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yv(e,Z3):`https://${t.config.authDomain}/${J3}`,r={apiKey:e.apiKey,appName:t.name,v:va},i=t6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wu(r).slice(1)}`}async function r6(t){const e=await Y3(t),n=Rr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:n6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ir(t,"network-request-failed"),a=Rr().setTimeout(()=>{s(o)},X3.get());function l(){Rr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s6=500,o6=600,a6="_blank",l6="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u6(t,e,n,r=s6,i=o6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},i6),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ht().toLowerCase();n&&(a=vA(c)?a6:n),gA(c)&&(e=e||l6,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(NU(c)&&a!=="_self")return c6(e||"",a),new SE(null);const h=window.open(e||"",a,d);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new SE(h)}function c6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="__/auth/handler",h6="emulator/auth/handler",f6=encodeURIComponent("fac");async function IE(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:va,eventId:i};if(e instanceof AA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$M(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof ku){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${f6}=${encodeURIComponent(l)}`:"";return`${p6(t)}?${wu(a).slice(1)}${c}`}function p6({config:t}){return t.emulator?yv(t,h6):`https://${t.authDomain}/${d6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="webStorageSupport";class m6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DA,this._completeRedirectFn=F3,this._overrideRedirectResult=M3}async _openPopup(e,n,r,i){var s;ii((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await IE(e,n,r,qm(),i);return u6(e,o,Tv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await IE(e,n,r,qm(),i);return v3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ii(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await r6(e),r=new B3(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cp,{type:cp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[cp];o!==void 0&&n(!!o),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SA()||yA()||_v()}}const g6=m6;var RE="@firebase/auth",CE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _6(t){ea(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IA(t)},c=new jU(r,i,s,l);return KU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ea(new Ks("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(r=>new y6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(RE,CE,v6(t)),Wi(RE,CE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=5*60,E6=OR("authIdTokenMaxAge")||w6;let AE=null;const T6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E6)return;const i=n==null?void 0:n.token;AE!==i&&(AE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S6(t=jR()){const e=My(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WU(t,{popupRedirectResolver:g6,persistence:[A3,m3,DA]}),r=OR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=T6(s.toString());c3(n,o,()=>o(n.currentUser)),u3(n,a=>o(a))}}const i=NR("auth");return i&&qU(n,`http://${i}`),n}function I6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ir("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",I6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_6("Browser");const R6={apiKey:"AIzaSyDMaYEARi7fIS-XjpdmdkdW3tn6ZZK2lao",authDomain:"countries-react-24k.firebaseapp.com",projectId:"countries-react-24k",storageBucket:"countries-react-24k.appspot.com",messagingSenderId:"42483464868",appId:"1:42483464868:web:4573e3bdd6cb8c338c8431"},BA=MR(R6),li=S6(BA),Iv=$4(BA),C6=async(t,e)=>{try{await l3(li,t,e)}catch(n){console.log(n),alert(n.message)}},A6=async(t,e,n)=>{try{const i=(await a3(li,e,n)).user;await oA(sv(Iv,"users"),{uid:i.uid,name:t,authProvider:"local",email:e})}catch(r){console.log(r),alert(r.message)}},x6=()=>{h3(li)},P6=async(t,e)=>{try{await oA(sv(Iv,`users/${t}/favourite`),{name:e}),console.log("Favourites added to firebase")}catch(n){console.log("Error adding fourite from firebase",n)}},k6={favourites:[],isLoading:!0},$A=RR({name:"favourites",initialState:k6,reducers:{addFavourite(t,e){t.favourites=[...t.favourites,e.payload];const n=li.currentUser;n&&P6(n.uid,e.payload)},clearFavourites(t){t.favourites=[]},removeFavourite(t,e){t.favourites=t.favourites.filter(n=>n!==e.payload)},getFavourites(t,e){t.favourites=e.payload},isLoading(t,e){t.isLoading=e.payload}}}),N6=()=>async t=>{const e=li.currentUser;if(e){const n=tU(sv(Iv,`users/${e.uid}/favourites`)),i=(await lU(n)).docs.map(s=>s.data().name);t(D6(i)),t(L6(!1))}},{addFavourite:zA,clearFavourites:b6,removeFavourite:O6,getFavourites:D6,isLoading:L6}=$A.actions,M6=$A.reducer,j6=()=>{const t=qg(),e=Ur(s=>s.countries.countries),n=Ur(s=>s.countries.isLoading),r=Ur(s=>s.countries.search),i=Ur(s=>s.favourites.favourites);return console.log("Countries: where",e),console.log("isLoading: ",n),y.useEffect(()=>{t(AR())},[t]),n?v.jsx(Xe,{className:"text-center m-5",children:v.jsx(kh,{animation:"border",role:"status",className:"center",variant:"info",children:v.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):v.jsxs(Cr,{fluid:!0,children:[v.jsx(kt,{children:v.jsx(Xe,{className:"mt-5 d-flex justify-context-center",children:v.jsx(Yn,{children:v.jsx(Yn.Control,{style:{width:"18rem"},type:"search",className:"me-2",placeholder:"Search","aria-label":"Search",onChange:s=>t(gM(s.target.value))})})})}),v.jsx(kt,{xs:2,md:3,lg:4,className:"g-3",children:e.filter(s=>s.name.common.toLowerCase().includes(r.toLowerCase())).map(s=>v.jsx(Xe,{className:"mt-5",children:v.jsxs(Q,{className:"h-100",children:[v.jsx(as,{to:`/countries/${s.name.common}`,state:{country:s},children:v.jsx(Q.Img,{variant:"top",src:s.flags.svg,alt:s.name.common,className:"rounded h-50",style:{objectFit:"cover",minHeight:"200px",maxHeight:"200px"}})}),v.jsxs(Q.Body,{className:"d-flex flex-column",children:[v.jsx(Q.Title,{children:s.name.common}),v.jsx(Q.Subtitle,{className:"mb-5 text-muted",children:s.name.official}),v.jsxs(RI,{variant:"flush",className:"flex-grow-1 justify-content-center",children:[v.jsx($i,{children:v.jsx("i",{className:"bi bi-people me-2",children:s.population.toLocaleString()})}),v.jsx($i,{children:v.jsx("i",{className:"me-2",children:Object.values(s.currencies||{}).map(o=>o.name).join(", ")||"No currency"})}),v.jsx($i,{children:v.jsx("i",{className:"me-2",children:Object.values(s.languages||{}).map(o=>o).join(", ")||"No language"})})]}),v.jsx(Mn,{variant:i.includes(s.name.common)?"success":"primary",onClick:()=>{i.includes(s.name.common)&&t(zA(s.name.common))},children:i.includes(s.name.common)?"Remove from Favourite":"Add to Favourite"})]})]})},s.name.official))})]})},V6=()=>v.jsx(Cr,{className:"mt-5",children:v.jsx(kt,{className:"justify-content-center text-center",children:v.jsxs(Xe,{md:6,children:[v.jsx("h1",{style:{fontSize:"5rem",color:"#dc3545"},children:"404"}),v.jsx("h2",{children:"This page does not exist!"}),v.jsx("p",{children:"The page you are looking for might have been removed or is temporarily unavailable."}),v.jsx(as,{to:"/",children:v.jsx(Mn,{variant:"primary",size:"lg",className:"mt-3",children:"Go Back Home"})})]})})}),F6="/countries-react-app/assets/flags-BvUMK75s.jpg",U6="/countries-react-app/assets/registration-rGhFg01Y.jpg",B6="/countries-react-app/assets/login-BVNl3mXx.webp",$6="/countries-react-app/assets/countries-CwqLRTn8.webp",z6="/countries-react-app/assets/languages-BPMXSoJp.webp",H6="/countries-react-app/assets/favourites-CySehsZq.png",W6="/countries-react-app/assets/weather-C5_84V55.avif",K6=()=>v.jsx(Cr,{fluid:!0,className:"text-center homepage-hero",children:v.jsxs(kt,{className:"justify-content-center mb-4",children:[v.jsxs(Xe,{className:"homepage-hero",children:[v.jsxs("div",{className:"hero-video--overlay ",children:[v.jsx("div",{className:"hero-text",children:"Explore the World"}),v.jsxs("div",{className:"hero-btns",children:[v.jsx("p",{className:"hero-text-p",children:"Want to know how?"}),v.jsx(as,{to:"/login",className:"hero-btn-plan",children:"get started"})]})]}),v.jsx("div",{className:"hero-video--wrap",children:v.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"hero-bg-video",poster:"https://www.jacadatravel.com/wp-content/uploads/2024/01/Homepage-Header-Frame.jpg",children:v.jsx("source",{type:"video/mp4",src:"https://www.jacadatravel.com/wp-content/uploads/2024/01/Jacada-Homepage-video-global-updated2024.mp4"})})})]}),v.jsx(Xe,{md:10,children:v.jsx(Q,{children:v.jsxs(Q.Body,{children:[v.jsx(Q.Title,{className:"text-center mb-4",children:"Discover new horizons, one country at a time!"}),v.jsxs(kt,{className:"text-center",children:[v.jsx(Xe,{md:4,children:v.jsxs(Q,{className:"mb-4",children:[v.jsx(Q.Img,{variant:"top",src:F6,alt:"flags",style:{width:"100%",height:"200px",objectFit:"cover"}}),v.jsxs(Q.Body,{children:[v.jsx(Q.Title,{children:"Flags"}),v.jsx(Q.Text,{style:{fontSize:"1.2rem"},children:"Wave your pride, discover the world through its flags!"})]})]})}),v.jsx(Xe,{md:4,children:v.jsxs(Q,{className:"mb-4",children:[v.jsx(Q.Img,{variant:"top",src:z6,alt:"languages",style:{width:"100%",height:"200px",objectFit:"cover"}}),v.jsxs(Q.Body,{children:[v.jsx(Q.Title,{children:"Languages"}),v.jsx(Q.Text,{style:{fontSize:"1.2rem"},children:"Language: The Bridge to Global Understanding!"})]})]})}),v.jsx(Xe,{md:4,children:v.jsxs(Q,{className:"mb-4",children:[v.jsx(Q.Img,{variant:"top",src:W6,alt:"weather",style:{width:"100%",height:"200px",objectFit:"cover"}}),v.jsxs(Q.Body,{children:[v.jsx(Q.Title,{children:"Weather"}),v.jsx(Q.Text,{style:{fontSize:"1.2rem"},children:"Chase the Sun in Finland, Dance in the Rain in Brazil!"})]})]})})]}),v.jsx(yc,{defaultActiveKey:"1",className:"mt-4",children:v.jsx("div",{className:"custom-accordion",children:v.jsxs(yc.Item,{eventKey:"0",children:[v.jsx(yc.Header,{children:v.jsx("div",{className:"explore-header",children:"Explore Features"})}),v.jsx(yc.Body,{children:v.jsxs(kt,{className:"text-center",children:[v.jsx(Xe,{md:3,children:v.jsxs(Q,{className:"mb-4",children:[v.jsx(Q.Img,{variant:"top",src:U6,alt:"Register",style:{width:"100%",height:"200px",objectFit:"cover"}}),v.jsxs(Q.Body,{children:[v.jsx(Q.Title,{children:"Register"}),v.jsx(Q.Text,{style:{color:"#003366",fontStyle:"italic"},children:"Register with your name & email to create an account."})]})]})}),v.jsx(Xe,{md:3,children:v.jsxs(Q,{className:"mb-4",children:[v.jsx(Q.Img,{variant:"top",src:B6,alt:"Log In",style:{width:"100%",height:"200px",objectFit:"cover"}}),v.jsxs(Q.Body,{children:[v.jsx(Q.Title,{children:"Log In"}),v.jsx(Q.Text,{style:{color:"#003366",fontStyle:"italic"},children:"Log in with your email & password to access your account."})]})]})}),v.jsx(Xe,{md:3,children:v.jsxs(Q,{className:"mb-4",children:[v.jsx(Q.Img,{variant:"top",src:$6,alt:"Countries",style:{width:"100%",height:"200px",objectFit:"cover"}}),v.jsxs(Q.Body,{children:[v.jsx(Q.Title,{children:"Countries"}),v.jsx(Q.Text,{style:{color:"#003366",fontStyle:"italic"},children:"Explore comprehensive data about countries."})]})]})}),v.jsx(Xe,{md:3,children:v.jsxs(Q,{className:"mb-4",children:[v.jsx(Q.Img,{variant:"top",src:H6,alt:"Favorite Countries",style:{width:"100%",height:"200px",objectFit:"cover"}}),v.jsxs(Q.Body,{children:[v.jsx(Q.Title,{children:"Favorite Countries"}),v.jsx(Q.Text,{style:{color:"#003366",fontStyle:"italic"},children:"Easily manage your list of favorite countries."})]})]})})]})})]})})})]})})})]})});var Is={},HA={};const q6=hx(pO);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=s(y),n=s(z1),r=q6,i=["children","onClick","replace","to","state","activeClassName","className","activeStyle","style","isActive"];function s(R){return R&&R.__esModule?R:{default:R}}function o(R,T){var I=Object.keys(R);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(R);T&&(_=_.filter(function(S){return Object.getOwnPropertyDescriptor(R,S).enumerable})),I.push.apply(I,_)}return I}function a(R){for(var T=1;T<arguments.length;T++){var I=arguments[T]!=null?arguments[T]:{};T%2?o(Object(I),!0).forEach(function(_){l(R,_,I[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(I)):o(Object(I)).forEach(function(_){Object.defineProperty(R,_,Object.getOwnPropertyDescriptor(I,_))})}return R}function l(R,T,I){return T in R?Object.defineProperty(R,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):R[T]=I,R}function c(R){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},c(R)}function d(R,T){if(R==null)return{};var I=h(R,T),_,S;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(R);for(S=0;S<b.length;S++)_=b[S],!(T.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(R,_)&&(I[_]=R[_])}return I}function h(R,T){if(R==null)return{};var I={},_=Object.keys(R),S,b;for(b=0;b<_.length;b++)S=_[b],!(T.indexOf(S)>=0)&&(I[S]=R[S]);return I}var p=function(T){return!!(T.metaKey||T.altKey||T.ctrlKey||T.shiftKey)},g=function(T){var I=T.children,_=T.onClick,S=T.replace,b=S===void 0?!1:S,V=T.to,k=T.state,A=T.activeClassName,E=A===void 0?"active":A,x=T.className,P=T.activeStyle,D=T.style,L=T.isActive,N=d(T,i),Te=c(V)==="object"?V.pathname||"":V,dt=(0,r.useNavigate)(),Ze=(0,r.useHref)(typeof V=="string"?{pathname:V}:V),we=(0,r.useMatch)(Te),W=(0,r.useLocation)(),ne=e.default.Children.only(I),se=!!(L?typeof L=="function"?L(we,W):L:we),ye=function(me){I.props.onClick&&I.props.onClick(me),_&&_(me),!me.defaultPrevented&&me.button===0&&!p(me)&&(me.preventDefault(),dt(V,{replace:b,state:k}))};return e.default.cloneElement(ne,a(a({},N),{},{className:[x,ne.props.className,se?E:null].join(" ").trim(),style:se?a(a({},D),P):D,href:Ze,onClick:ye}))};g.propTypes={children:n.default.element.isRequired,onClick:n.default.func,replace:n.default.bool,to:n.default.oneOfType([n.default.string,n.default.object]).isRequired,state:n.default.object,className:n.default.string,activeClassName:n.default.string,style:n.default.objectOf(n.default.oneOfType([n.default.string,n.default.number])),activeStyle:n.default.objectOf(n.default.oneOfType([n.default.string,n.default.number])),isActive:n.default.oneOfType([n.default.func,n.default.bool])};var w=g;t.default=w})(HA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LinkContainer",{enumerable:!0,get:function(){return e.default}});var e=n(HA);function n(r){return r&&r.__esModule?r:{default:r}}})(Is);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function G6(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Q6(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Oo=function(){return Oo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Oo.apply(this,arguments)},WA=function(t){return{loading:t==null,value:t}},Y6=function(){return function(t,e){switch(e.type){case"error":return Oo(Oo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return WA(e.defaultValue);case"value":return Oo(Oo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},X6=function(t){var e=t?t():void 0,n=y.useReducer(Y6(),WA(e)),r=n[0],i=n[1],s=y.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=y.useCallback(function(l){i({type:"error",error:l})},[]),a=y.useCallback(function(l){i({type:"value",value:l})},[]);return y.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},tf=function(t,e){var n=X6(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return y.useEffect(function(){var l=d3(t,function(c){return G6(void 0,void 0,void 0,function(){var d;return Q6(this,function(h){switch(h.label){case 0:return[3,4];case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return h.sent(),[3,4];case 3:return d=h.sent(),s(d),[3,4];case 4:return o(c),[2]}})})},s);return function(){l()}},[t]),[a,i,r]};const KA="/countries-react-app/assets/Countries-BxNNRGmK.png",J6=()=>{const[t]=tf(li);return v.jsxs(vc,{collapseOnSelect:!0,expand:"md",bg:"dark",variant:"dark",className:"justify-content-end align-items-center fixed-top p-3",children:[v.jsx(Cr,{children:v.jsx(vc.Brand,{children:v.jsx(as,{to:"/",children:v.jsx("img",{alt:"COUNTRIES",src:KA,width:"250",height:"40",className:"d-inline-block align-top"})})})}),v.jsx(vc.Toggle,{"aria-controls":"basic-navbar-nav"}),v.jsx(vc.Collapse,{id:"basic-navbar-nav",children:v.jsxs(vs,{className:"me-auto",children:[v.jsx(Is.LinkContainer,{to:"/",children:v.jsx(vs.Link,{className:"fw-bold",children:"Home"})}),v.jsx(Is.LinkContainer,{to:"/countries",children:v.jsx(vs.Link,{className:"fw-bold",children:"Countries"})}),v.jsx(Is.LinkContainer,{to:"/favourites",children:v.jsx(vs.Link,{className:"fw-bold",children:"Favourites"})}),t?v.jsxs(v.Fragment,{children:[v.jsx(Mn,{onClick:x6,className:"fw-bold",variant:"outline-secondary",size:"sm",children:"Logout"}),v.jsx(Is.LinkContainer,{to:"/user",children:v.jsxs(vs.Link,{className:"fw-bold text-success",style:{marginLeft:"50rem",marginTop:"0.5rem"},children:[" ","Welcome, ",t.email.split("@")[0]]})})]}):v.jsxs(v.Fragment,{children:[v.jsx(Is.LinkContainer,{to:"/register",children:v.jsx(vs.Link,{className:"fw-bold",children:"Register"})}),v.jsx(Is.LinkContainer,{to:"/login",children:v.jsx(vs.Link,{className:"fw-bold",children:"Login"})})]})]})})]})};var qA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xE=Tt.createContext&&Tt.createContext(qA),Z6=["attr","size","title"];function e9(t,e){if(t==null)return{};var n=t9(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}function PE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(n),!0).forEach(function(r){n9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n9(t,e,n){return e=r9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r9(t){var e=i9(t,"string");return typeof e=="symbol"?e:e+""}function i9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GA(t){return t&&t.map((e,n)=>Tt.createElement(e.tag,th({key:n},e.attr),GA(e.child)))}function bu(t){return e=>Tt.createElement(s9,eh({attr:th({},t.attr)},e),GA(t.child))}function s9(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=e9(t,Z6),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Tt.createElement("svg",eh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:th(th({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Tt.createElement("title",null,s),t.children)};return xE!==void 0?Tt.createElement(xE.Consumer,null,n=>e(n)):e(qA)}function o9(t){return bu({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function a9(t){return bu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function l9(t){return bu({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function u9(t){return bu({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function c9(t){return bu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}const d9=()=>v.jsxs("footer",{className:"p-5 text-center fixed-bottom",style:{backgroundColor:"#d0e5ff",borderTop:"1px solid #e9ecef",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("p",{style:{margin:0,flexGrow:1},children:["© ",new Date().getFullYear()," Countries React App. All rights reserved."]}),v.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[v.jsx("a",{href:"https://github.com/the-sankari",target:"_blank",rel:"noopener noreferrer",style:{marginLeft:"1rem",textDecoration:"none",color:"black"},children:v.jsx(l9,{size:24})}),v.jsx("a",{href:"https://linkedin.com/kajol-sutra-dhar",target:"_blank",rel:"noopener noreferrer",style:{marginLeft:"1rem",textDecoration:"none",color:"black"},children:v.jsx(c9,{size:24})})]})]}),h9=()=>v.jsxs(Cr,{fluid:!0,children:[v.jsx(kt,{children:v.jsx(J6,{})}),v.jsxs(kt,{style:{flex:"1",minHeight:"calc(100vh-69px)",marginTop:"56px",marginBottom:"130px"},children:[" ",v.jsx(ey,{})]}),v.jsx(kt,{children:v.jsx(d9,{})})]}),f9=t=>{const e=$n(),n=t.country||e.state.country,[r,i]=y.useState(""),[s,o]=y.useState(!0),[a,l]=y.useState([]),c=eo();return y.useEffect(()=>{lt.get(`https://api.openweathermap.org/data/2.5/weather?q=${n.capital}&units=metric&appid=5622cb40de2295cbe310873a4c97d2a8`).catch(d=>{console.log(d)}).then(d=>{i(d==null?void 0:d.data),o(!1)})},[n.capital]),y.useEffect(()=>{lt.get(`https://api.unsplash.com/search/photos?query=${n.capital}&per_page=6&client_id=w2aYWVurxZe9eLuzwzX5D8T_je9Ou0VZP2j61GQoOfY`).then(d=>{l(d.data.results)}).catch(d=>{console.error(d)})},[n.capital]),s?v.jsx(Cr,{className:"text-center m-5",children:v.jsx(kh,{animation:"border",role:"status",variant:"info",className:"my-5",children:v.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):v.jsx(Cr,{className:"mt-5",children:v.jsxs(kt,{className:"justify-content-center",children:[v.jsx(Xe,{md:4,className:"text-center",children:v.jsxs(Q,{className:"mb-4",children:[v.jsx(Q.Img,{variant:"top",src:n.flags.svg,alt:"Country Flag",style:{maxHeight:"300px",objectFit:"contain",marginTop:"20px"}}),v.jsxs(Q.Body,{children:[v.jsxs(Q.Title,{className:"mb-4 fw-bold",children:["Country Name: ",n.name.common]}),v.jsxs(Q.Subtitle,{className:"mb-4 text-muted",children:[v.jsx("strong",{children:"Capital: "}),n.capital]}),v.jsxs(Q.Subtitle,{className:"mb-4 text-muted",children:[v.jsx("strong",{children:"Region: "}),n.region]}),v.jsxs(Q.Subtitle,{className:"mb-4 text-muted",children:[v.jsx("strong",{children:"Subregion: "}),n.subregion]}),v.jsxs(Q.Subtitle,{className:"mb-4 text-muted",children:[v.jsx("strong",{children:"Population: "}),new Intl.NumberFormat().format(n.population)]}),v.jsxs(Q.Subtitle,{className:"mb-4 text-muted",children:[v.jsx("strong",{children:"Area: "}),new Intl.NumberFormat().format(n.area)," km²"]}),v.jsxs(Q.Subtitle,{className:"mb-4 text-muted",children:[v.jsx("strong",{children:"Currency: "}),Object.values(n.currencies).map(d=>d.name).join(", ")]}),v.jsxs(Q.Subtitle,{className:"mb-4 text-muted",children:[v.jsx("strong",{children:"Languages: "}),Object.values(n.languages).join(", ")]}),v.jsx(Mn,{variant:"primary",onClick:()=>c("/countries"),style:{marginTop:"10px"},children:"Back to Countries"})]})]})}),v.jsx(Xe,{md:6,children:v.jsx(Q,{className:"shadow-sm border-0 mb-3",children:v.jsxs(Q.Body,{children:[v.jsxs("h3",{className:"text-center mb-1",children:["Weather in ",n.capital]}),r?v.jsxs("div",{className:"text-center mb-1",children:[v.jsxs("p",{className:"lead",children:["Currently, it is"," ",v.jsxs("strong",{style:{color:"lightcoral"},children:[parseInt(r.main.temp),"°C"]})," ","with"," ",v.jsx("strong",{style:{color:"lightcoral"},children:r.weather[0].description})," ","in ",v.jsx("strong",{children:n.capital}),"."]}),v.jsxs("p",{className:"lead",children:["Feels like"," ",v.jsxs("strong",{style:{color:"lightcoral"},children:[parseInt(r.main.feels_like),"°C"]})]}),v.jsx(dm,{src:`http://openweathermap.org/img/wn/${r.weather[0].icon}@4x.png`,alt:"Weather Icon",style:{width:"80px",height:"80px",backgroundColor:"lightcoral",padding:"10px",borderRadius:"50%"},className:"mb-1"})]}):v.jsx("div",{className:"text-center text-muted mb-3",children:"No weather data available."}),v.jsxs("h4",{className:"text-center mb-3",children:["Explore ",n.capital,", ",n.name.common]}),v.jsx(kt,{className:"gx-3 gy-3",children:a.map(d=>v.jsx(Xe,{md:4,className:"text-center",children:v.jsx(dm,{src:d.urls.small,alt:d.alt_description,style:{width:"200px",height:"200px",borderRadius:"5px",objectFit:"cover"},className:"shadow-sm"})},d.id))})]})})})]})})},p9=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(""),[o,a,l]=tf(li);eo();const c=()=>{i||alert("Name is required"),A6(i,t,n)};return a?v.jsx("p",{children:"Loading..."}):v.jsxs("div",{className:"register",children:[v.jsx("input",{type:"text",value:i,onChange:d=>{s(d.target.value)},placeholder:"Full name"}),v.jsx("input",{type:"email",value:t,onChange:d=>{e(d.target.value)},placeholder:"Email"}),v.jsx("input",{type:"password",value:n,onChange:d=>{r(d.target.value)},placeholder:"Enter password"}),v.jsx(Mn,{onClick:c,children:"Register"})]})},m9=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),[o,a,l]=tf(li),c=eo();y.useEffect(()=>{o&&c("/")},[o,c]);const d=()=>{C6(t,n)},h=()=>{s(!i)};return v.jsx(Cr,{className:"mt-5",children:v.jsx(kt,{className:"justify-content-center",children:v.jsxs(Q,{style:{width:"30rem"},children:[v.jsx(Q.Img,{variant:"top",src:KA,style:{width:"150px",alignSelf:"center",marginTop:"20px"}}),v.jsxs(Q.Body,{className:"text-center",children:[v.jsx(Q.Title,{children:"Welcome Back! "}),v.jsx(Q.Text,{children:"Plase enter your details to login to your account"})]}),v.jsxs(kt,{className:"d-flex justify-content-center text-center",children:[v.jsx(Xe,{children:v.jsx(Mn,{variant:"outline-info",style:{padding:"10px 24px "},onClick:h,"aria-expanded":open,"aria-controls":"fade-text",children:v.jsx(o9,{})})}),v.jsx(Xe,{children:v.jsx(Mn,{variant:"outline-info",style:{padding:"10px 24px "},onClick:h,"aria-controls":"fade-text","aria-expanded":open,children:v.jsx(u9,{})})}),v.jsx(Xe,{children:v.jsx(Mn,{variant:"outline-primary",style:{padding:"10px 24px "},onClick:h,"aria-controls":"fade-text","aria-expanded":open,children:v.jsx(a9,{})})}),v.jsx(my,{in:i,children:v.jsx("div",{className:"fade-text text-muted",size:"sm",children:"This feature is not available right now. Please login with your eamil address and password. Thank you."})}),v.jsx("p",{className:"text-center",children:"____________ OR _____________"})]}),v.jsx(Q.Body,{children:v.jsxs(Yn,{children:[v.jsxs(Yn.Group,{className:"mb-3",controlId:"formBasicEmail",children:[v.jsx(Yn.Label,{children:"Email address"}),v.jsx(Yn.Control,{type:"email",value:t,onChange:p=>e(p.target.value),placeholder:"Enter email",required:!0})]}),v.jsxs(Yn.Group,{className:"mb-3",controlId:"formBasicPassword",children:[v.jsx(Yn.Label,{children:"Password"}),v.jsx(Yn.Control,{type:"password",value:n,onChange:p=>r(p.target.value),placeholder:"Password",required:!0})]})]})}),v.jsxs(Q.Body,{className:"text-center",children:[v.jsx(Mn,{style:{padding:"10px 14px",width:"100%",fontSize:"1.5rem"},variant:"primary",type:"submit",onClick:d,children:"Login"}),v.jsxs("p",{className:"text-center mt-3",children:["Don't have an account?"," ",v.jsx(as,{to:"/register",children:"Register here."})]})]})]})})})},g9=({user:t})=>t?v.jsx(ey,{}):v.jsx(C1,{to:"/login"}),y9=({country:t})=>{const e=qg(),r=Ur(i=>i.favourites.favourites).includes(t.name.common);return v.jsx(Xe,{className:"mt-5",children:v.jsxs(Q,{className:"h-100",children:[v.jsx(as,{to:`/countries/${t.name.common}`,state:{country:t},children:v.jsx(Q.Img,{variant:"top",src:t.flags.svg,alt:t.name.common,className:"rounded h-50",style:{objectFit:"cover",minHeight:"200px",maxHeight:"200px"}})}),v.jsxs(Q.Body,{className:"d-flex flex-column",children:[v.jsx(Q.Title,{children:t.name.common}),v.jsx(Q.Subtitle,{className:"mb-5 text-muted",children:t.name.official}),v.jsxs(RI,{variant:"flush",className:"flex-grow-1 justify-content-center",children:[v.jsx($i,{children:v.jsx("i",{className:"bi bi-people me-2",children:t.population.toLocaleString()})}),v.jsx($i,{children:v.jsx("i",{className:"me-2",children:Object.values(t.currencies||{}).map(i=>i.name).join(", ")||"No currency"})}),v.jsx($i,{children:v.jsx("i",{className:"me-2",children:Object.values(t.languages||{}).map(i=>i).join(", ")||"No language"})})]}),v.jsx(Mn,{variant:r?"danger":"primary",onClick:()=>{e(r?O6(t.name.common):zA(t.name.common))},children:r?"Remove Favourite":"Add Favourite"})]})]})},t.name.official)},v9=()=>{const t=qg();let e=Ur(a=>a.countries.countries);const[n,r]=y.useState(""),i=Ur(a=>a.countries.isLoading),s=Ur(a=>a.favourites.favourites),o=Ur(a=>a.favourites.isLoading);return console.log("favouritesList: ",s),console.log("countriesList inside favourites: ",e),Array.isArray(s)&&s.length>0?e=e.filter(a=>s.includes(a.name.common)):e=[],y.useEffect(()=>{t(AR()),t(N6())},[t]),i||o?v.jsx(Xe,{className:"text-center m-5",children:v.jsx(kh,{animation:"border",role:"status",className:"center",variant:"info",children:v.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):v.jsxs(Cr,{fluid:!0,children:[v.jsx(kt,{children:v.jsx(Xe,{className:"mt-5 d-flex justify-content-center",children:v.jsx(Yn,{children:v.jsx(Yn.Control,{style:{width:"18rem"},type:"search",className:"me-2",placeholder:"Search","aria-label":"Search",onChange:a=>r(a.target.value)})})})}),v.jsx(kt,{xs:2,md:3,lg:4,className:"g-3",children:v.jsx(Mn,{onClick:()=>t(b6()),children:"Clear Favourites"})}),v.jsx(kt,{xs:2,md:3,lg:4,className:"g-3",children:e.filter(a=>a.name.official.toLowerCase().includes(n.toLowerCase())).map(a=>v.jsx(y9,{country:a},a.name.common))})]})},_9=()=>{const[t]=tf(li);return v.jsx(P1,{children:v.jsx(A1,{children:v.jsx(Nn,{path:"/",element:v.jsx(h9,{}),children:v.jsxs(Nn,{children:[v.jsx(Nn,{path:"/",element:v.jsx(K6,{})}),v.jsx(Nn,{path:"/register",element:v.jsx(p9,{})}),v.jsx(Nn,{path:"/login",element:v.jsx(m9,{})}),v.jsxs(Nn,{element:v.jsx(g9,{user:t}),children:[v.jsx(Nn,{path:"/countries",element:v.jsx(j6,{})}),v.jsx(Nn,{path:"/countries/:single",element:v.jsx(f9,{})}),v.jsx(Nn,{path:"/favourites",element:v.jsx(v9,{})}),v.jsx(Nn,{path:"*",element:v.jsx(V6,{})})]})]})})})})},w9=tM({reducer:{countries:yM,favourites:M6}});zS(document.getElementById("root")).render(v.jsx(y.StrictMode,{children:v.jsx(sN,{store:w9,children:v.jsx(_9,{})})}));
